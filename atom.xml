<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å•Šä¸éƒ½</title>
  
  <subtitle>å¤§é“è‡³ç®€ï¼Œè¡åŒ–è‡³ç¹</subtitle>
  <link href="https://oplog.cn/atom.xml" rel="self"/>
  
  <link href="https://oplog.cn/"/>
  <updated>2024-12-31T15:48:40.096Z</updated>
  <id>https://oplog.cn/</id>
  
  <author>
    <name>å•Šä¸éƒ½</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>2024å¹´ç»ˆæ€»ç»“|è½»èˆŸå·²è¿‡ä¸‡é‡å±±</title>
    <link href="https://oplog.cn/archives/2260.html"/>
    <id>https://oplog.cn/archives/2260.html</id>
    <published>2024-12-31T15:39:16.012Z</published>
    <updated>2024-12-31T15:48:40.096Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å…³äºå­¦ä¸š">å…³äºå­¦ä¸š</h2><p>2024å¹´çš„å­¦ä¸šæ°´å¹³æ€»ä½“ä¿æŒç¨³å®šï¼Œå„ç§‘æˆç»©éƒ½æœ‰è¿˜ç®—ä¸é”™çš„è¡¨ç°ã€‚ä½œä¸ºä¸€åé«˜ä¸­ç”Ÿï¼Œæˆ‘éœ€è¦å°†å¤§é‡æ—¶é—´å’Œç²¾åŠ›æŠ•å…¥åˆ°è¯¾ä¸šå­¦ä¹ ä¸­ï¼Œè¿™ä¹Ÿæ„å‘³ç€æˆ‘ä¸å¾—ä¸å‡å°‘åœ¨åšå®¢è¿è¥å’Œå¼€æºé¡¹ç›®ä¸Šçš„å‚ä¸åº¦ã€‚å°½ç®¡å¦‚æ­¤ï¼Œæˆ‘ä»ç„¶åœ¨è¯¾ä½™æ—¶é—´ä¿æŒå¯¹è¿™äº›é¢†åŸŸçš„å…³æ³¨å’Œå­¦ä¹ ï¼Œå¸Œæœ›åœ¨æœªæ¥èƒ½å¤Ÿæœ‰æ›´å¤šæœºä¼šæ·±å…¥å‚ä¸è¿™äº›å¯Œæœ‰åˆ›é€ æ€§çš„å·¥ä½œã€‚</p><h2 id="å…³äº-Qexo">å…³äº Qexo</h2><p>2024å¹´ï¼ŒQexo æ–°å¢äº†ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ul><li>å›¾åºŠæ”¯æŒè¿œç¨‹å›¾ç‰‡åˆ é™¤ - 3.1</li><li>æ”¯æŒæ‰‹åŠ¨å›¾ç‰‡ä¸Šä¼  - 3.2</li><li>ç¯ç®±å›¾ç‰‡æŸ¥çœ‹ - 3.3</li><li>æ–°å¢å¤šè¯­è¨€æ”¯æŒ - 3.4</li><li>å®Œå–„ Docker æ”¯æŒ - 3.5</li></ul><p>åŒæ—¶ï¼Œæˆ‘ä¿®å¤äº†å¤§é‡ Bugï¼Œå¹¶å¯¹æ€§èƒ½å’Œå®‰å…¨æ–¹é¢è¿›è¡Œäº†ä¼˜åŒ–ã€‚è€ƒè™‘åˆ°æ—¶é—´æœ‰é™ï¼Œåœ¨æ–°çš„ä¸€å¹´é‡Œï¼Œæˆ‘ä¼šå°†é‡ç‚¹èšç„¦äºæå‡ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå…¼å®¹æ€§ä¸Šã€‚</p><h2 id="å…³äºç”Ÿæ´»">å…³äºç”Ÿæ´»</h2><p>è™½ç„¶2023å¹´æˆ‘çš„èº«ä½“çŠ¶å†µä¸ä½³ï¼Œç»å†äº†ä¸€äº›å¥åº·æ–¹é¢çš„æŒ‘æˆ˜å’Œå›°æ‰°ï¼ŒåŒ…æ‹¬é¢‘ç¹çš„æ„Ÿå†’ã€å…ç–«åŠ›ä¸‹é™ä»¥åŠç¡çœ è´¨é‡ä¸ç¨³å®šç­‰é—®é¢˜ã€‚è¿™äº›å¥åº·é—®é¢˜ç»™æˆ‘çš„æ—¥å¸¸ç”Ÿæ´»å¸¦æ¥äº†è¯¸å¤šä¸ä¾¿ï¼Œå½±å“äº†æˆ‘çš„å­¦ä¹ æ•ˆç‡å’Œç”Ÿæ´»è´¨é‡ã€‚åœ¨ä¸å®¶äººå’ŒåŒ»ç”Ÿçš„å…±åŒåŠªåŠ›ä¸‹ï¼Œæˆ‘é€šè¿‡è°ƒæ•´ä½œæ¯æ—¶é—´ã€æ”¹å–„é¥®é£Ÿä¹ æƒ¯å’Œè¿›è¡Œé€‚åº¦è¿åŠ¨ç­‰æ–¹å¼æ¥åº”å¯¹è¿™äº›æŒ‘æˆ˜ã€‚è¿™æ®µç»å†ç¡®å®ç»™æˆ‘å¸¦æ¥äº†ä¸€äº›å›°æ‰°ã€‚</p><p>2024å¹´æˆ‘å°è¯•äº†æ¯å‘¨è¿›è¡Œä¸€å®šçš„è¿åŠ¨ï¼Œä¸ä»…é”»ç‚¼äº†èº«ä½“ï¼Œä¹Ÿç»“äº¤äº†ä¸€ç¾¤å¿—åŒé“åˆçš„æœ‹å‹ã€‚åŒæ—¶ä¹Ÿå…»æˆäº†è§„å¾‹è¿åŠ¨çš„è‰¯å¥½ä¹ æƒ¯ã€‚ä¸ä»…åœ¨ç¹å¿™çš„å­¦ä¹ ç”Ÿæ´»ä¸­è®©æˆ‘ä¿æŒæ´»åŠ›ï¼Œè¿˜è®©æˆ‘å­¦ä¼šäº†åœ¨ç«æŠ€ä¸­ä¿æŒå†·é™å’Œç­–ç•¥æ€§æ€è€ƒã€‚</p><h2 id="å…³äºç›®æ ‡">å…³äºç›®æ ‡</h2><p>å›é¡¾2024å¹´è®¾å®šçš„ç›®æ ‡ï¼Œæˆ‘å®Œæˆäº†å…¶ä¸­çš„å¤§éƒ¨åˆ†ã€‚ç‰¹åˆ«æ˜¯åœ¨å­¦ä¸šæ–¹é¢ï¼Œæˆ‘è¾¾åˆ°äº†é¢„æœŸçš„æˆç»©æ°´å¹³ã€‚åœ¨Qexoé¡¹ç›®çš„å¼€å‘ä¸Šï¼Œè™½ç„¶å› ä¸ºå­¦ä¸šå‹åŠ›è€Œæ”¾ç¼“äº†èŠ‚å¥ï¼Œä½†ä»ç„¶æŒ‰è®¡åˆ’å®Œæˆäº†ä¸»è¦åŠŸèƒ½çš„æ›´æ–°ã€‚å¥åº·ä¹ æƒ¯çš„å…»æˆä¹Ÿå–å¾—äº†æ˜æ˜¾çš„è¿›æ­¥ï¼Œå°¤å…¶æ˜¯åœ¨åšæŒè¿åŠ¨è¿™ä¸€æ–¹é¢ã€‚</p><h2 id="å…³äºå¤–å‡º">å…³äºå¤–å‡º</h2><ul><li>åŒ—äº¬ - è¿™åº”å½“æ˜¯æˆ‘ç¬¬äºŒæ¬¡æ¸¸è§ˆé¦–éƒ½ã€‚è¿™æ¬¡åœ¨ä¸€ä½æœ‹å‹çš„å¸¦é¢†ä¸‹æ¸¸è§ˆäº†æ¸…åå¤§å­¦æ ¡å›­ï¼Œæ„Ÿå—åˆ°äº†è¿™æ‰€ç™¾å¹´å­¦åºœæ·±åšçš„æ–‡åŒ–åº•è•´å’Œæµ“éƒçš„å­¦æœ¯æ°›å›´ã€‚</li><li>å—äº¬ - åŒ—äº¬ä¹‹åä¾¿æ˜¯å—äº¬ã€‚è¿™åº§å…­æœå¤éƒ½ä»¥å…¶æ·±åšçš„å†å²æ–‡åŒ–åº•è•´ç»™æˆ‘ç•™ä¸‹äº†éš¾å¿˜çš„å°è±¡ã€‚ä¸å¾—ä¸è¯´ä»Šå¹´æ—…æ¸¸çš„äººæµé‡å¼‚å¸¸åºå¤§ï¼Œå„ä¸ªæ™¯ç‚¹éƒ½æ˜¯äººå±±äººæµ·ï¼Œä¸å¾—ä¸ä½©æœåç–«æƒ…æ—¶ä»£äººä»¬å¯¹æ—…æ¸¸çš„çƒ­æƒ…ã€‚æˆ‘ä¸»è¦å‚è§‚äº†ä¸­å±±é™µå’Œæ€»ç»Ÿåºœï¼Œè¿™ä¸¤å¤„å†å²åœ°æ ‡è®©æˆ‘æ·±å…¥äº†è§£äº†ä¸­å›½è¿‘ä»£å²ä¸Šçš„é‡è¦æ—¶æœŸï¼Œå¯¹å…±å’Œå›½çš„å›½çˆ¶å€æ„Ÿæ•¬ä½©ã€‚åœ¨æ¸¸è§ˆè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¸ä»…æ„Ÿå—åˆ°äº†å—äº¬ä½œä¸ºå¤éƒ½çš„åº„é‡ä¸å…¸é›…ï¼Œä¹Ÿä½“ä¼šåˆ°äº†è¿™åº§åŸå¸‚åœ¨ç°ä»£åŒ–è¿›ç¨‹ä¸­ä¿æŒçš„æ–‡åŒ–ä¼ æ‰¿ã€‚</li><li>å®‰å¤§ç•¥çœ - ä»Šå¹´å¤å¤©æˆ‘æœ‰å¹¸å‚ä¸äº†ä¸€ä¸ªå¤šä¼¦å¤šçš„é¡¹ç›®ï¼Œè¿™æ¬¡ç»å†è®©æˆ‘æ·±å…¥ä½“éªŒäº†åŠ æ‹¿å¤§å®‰å¤§ç•¥çœçš„ç‹¬ç‰¹é­…åŠ›ã€‚åœ¨ä¸ºæœŸä¸¤å‘¨çš„è®¿é—®ä¸­ï¼Œæˆ‘ä¸ä»…å‚è§‚äº†å¤šä¼¦å¤šæ ‡å¿—æ€§çš„CNå¡”è¿™ä¸€ä¸–ç•Œçº§å»ºç­‘å¥‡è§‚ï¼Œè¿˜æœ‰å¹¸æ¸¸è§ˆäº†åŒ—ç¾æœ€å£®è§‚çš„è‡ªç„¶æ™¯è§‚ä¹‹ä¸€ - æ°”åŠ¿ç£…ç¤´çš„å°¼äºšåŠ æ‹‰ç€‘å¸ƒã€‚ç€‘å¸ƒæ¹æ€¥çš„æ°´æµå’Œå¼¥æ¼«çš„æ°´é›¾ç»™äººç•™ä¸‹äº†éš¾å¿˜çš„å°è±¡ï¼Œç‰¹åˆ«æ˜¯åœ¨æ¸¸èˆ¹è¿‘è·ç¦»è§‚èµæ—¶ï¼Œæ›´èƒ½æ„Ÿå—åˆ°å¤§è‡ªç„¶çš„éœ‡æ’¼åŠ›é‡ã€‚è¿™æ¬¡æ—…è¡Œè®©æˆ‘æ·±å…¥ä½“éªŒåˆ°äº†ä¸ä¸­å›½æˆªç„¶ä¸åŒçš„æ–‡åŒ–æ°›å›´å’Œç”Ÿæ´»æ–¹å¼ï¼Œä¹Ÿè®©æˆ‘å¯¹è¿™ä¸ªä»¥å¤šå…ƒæ–‡åŒ–è‘—ç§°çš„å›½å®¶äº§ç”Ÿäº†æµ“åšçš„å…´è¶£ã€‚ç‰¹åˆ«æ˜¯åœ¨å¤šä¼¦å¤šå¸‚åŒºæ¼«æ­¥æ—¶ï¼Œèƒ½æ·±åˆ‡æ„Ÿå—åˆ°è¿™åº§åŸå¸‚ç‹¬ç‰¹çš„åŒ…å®¹æ€§å’Œç°ä»£åŒ–æ°”æ¯ï¼Œæ¥è‡ªä¸–ç•Œå„åœ°çš„ç§»æ°‘å’Œå½“åœ°äººå’Œè°å…±å¤„çš„æ™¯è±¡ç»™æˆ‘ç•™ä¸‹äº†æ·±åˆ»çš„å°è±¡ã€‚åŸå¸‚çš„è§„åˆ’å¸ƒå±€ã€å…¬å…±è®¾æ–½çš„å®Œå–„ç¨‹åº¦ï¼Œä»¥åŠå±…æ°‘å‹å¥½å¼€æ”¾çš„æ€åº¦ï¼Œéƒ½å±•ç°å‡ºä¸€åº§å›½é™…åŒ–å¤§éƒ½å¸‚çš„é£èŒƒã€‚ä¸è¿‡ä¸å¾—ä¸è¯´ç›¸æ¯”å›½å†…çš„ç¤¾ä¼šæ²»å®‰ï¼Œè¿™é‡Œç¡®å®å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œå‡ å¤©æ—¶é—´å°±&quot;æœ‰å¹¸&quot;ä½“ä¼šåˆ°äº†ä¸€æ¬¡è¢«é»‘äººå°å“¥é›¶å…ƒè´­çš„ä½“éªŒï¼ˆè¢«è¦æ±‚æ‰“UberğŸ˜‚ï¼‰ï¼Œè¿™è®©æˆ‘å¯¹å›½å†…çš„å®‰å…¨ç¯å¢ƒæœ‰äº†æ–°çš„è®¤è¯†ã€‚</li></ul><h2 id="å…³äºæœªæ¥">å…³äºæœªæ¥</h2><p>ä»Šå¹´çš„ç”Ÿæ´»è®©æˆ‘æ·±åˆ»ä½“ä¼šåˆ°äº†&quot;åˆ›é€ åŠ›&quot;çš„é‡è¦æ€§ã€‚åœ¨æ—¥å¸¸å­¦ä¹ å’Œç”Ÿæ´»ä¸­ï¼Œæ— è®ºæ˜¯ä¸æœå¤•ç›¸å¤„çš„åŒå­¦äº¤æµï¼Œè¿˜æ˜¯åœ¨æ—…é€”ä¸­é‚‚é€…çš„å½¢å½¢è‰²è‰²çš„äººä»¬ï¼Œä»–ä»¬æ‰€å±•ç°å‡ºçš„ç‹¬ç‰¹æ€ç»´æ–¹å¼å’Œåˆ›æ–°èƒ½åŠ›ï¼Œéƒ½ä¸æ–­æé†’ç€æˆ‘è‡ªå·±åœ¨åˆ›é€ åŠ›æ–¹é¢çš„ä¸è¶³ã€‚é€šè¿‡è§‚å¯Ÿå’Œåæ€ï¼Œæˆ‘é€æ¸æ„è¯†åˆ°ï¼Œè‡ªä»æ­¥å…¥ç´§å¼ çš„é«˜ä¸­å­¦ä¸šä»¥æ¥ï¼ŒåŸæœ¬æ´»è·ƒçš„åˆ›é€ æ€ç»´ä¼¼ä¹é€æ¸å˜å¾—è¿Ÿé’ï¼Œé‚£äº›æ›¾ç»æºæºä¸æ–­æ¶Œç°çš„æ–°æƒ³æ³•å’Œçµæ„Ÿä¹Ÿéšä¹‹å‡å°‘ã€‚è¿™ç§åˆ›é€ åŠ›çš„è¡°é€€ä¸ä»…ä½“ç°åœ¨è§£å†³é—®é¢˜çš„æ–¹å¼ä¸Šï¼Œä¹Ÿåæ˜ åœ¨å¯¹äº‹ç‰©çš„æ€è€ƒæ·±åº¦å’Œå¹¿åº¦ä¸Šã€‚</p><p>æˆ–è®¸æˆ‘åº”è¯¥åœ¨æœªæ¥çš„å­¦ä¹ å’Œç”Ÿæ´»ä¸­æ›´åŠ æ³¨é‡åŸ¹å…»å’Œä¿æŒåˆ›é€ åŠ›ã€‚è¿™ä¸ä»…æ„å‘³ç€è¦åœ¨ç¹é‡çš„è¯¾ä¸šä¹‹ä½™ç•™å‡ºæ—¶é—´æ€è€ƒå’Œåˆ›æ–°ï¼Œä¹ŸåŒ…æ‹¬ä¸»åŠ¨å¯»æ‰¾æœºä¼šå‚ä¸åˆ›æ„é¡¹ç›®ï¼Œä¸ä¸åŒèƒŒæ™¯çš„äººäº¤æµäº’åŠ¨ï¼Œä»¥åŠå°è¯•æ–°çš„æ€ç»´æ–¹å¼å’Œè§£å†³é—®é¢˜çš„è§’åº¦ã€‚é€šè¿‡æœ‰æ„è¯†åœ°é”»ç‚¼å’ŒåŸ¹å…»åˆ›é€ åŠ›ï¼Œæˆ‘å¸Œæœ›èƒ½é‡æ–°æ¿€å‘é‚£ä»½æ›¾ç»å……æ»¡æƒ³è±¡åŠ›å’Œåˆ›æ–°ç²¾ç¥çš„æ€ç»´æ¨¡å¼ã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œ2024å¹´æ˜¯ä¸€ä¸ªå……æ»¡æŒ‘æˆ˜ä¸æˆé•¿çš„å¹´ä»½ã€‚å°½ç®¡åœ¨å­¦ä¸šå’Œå¥åº·æ–¹é¢é‡åˆ°äº†ä¸€äº›å›°éš¾ï¼Œä½†è¿™äº›ç»å†éƒ½è®©æˆ‘å˜å¾—æ›´åŠ åšéŸ§å’Œæˆç†Ÿã€‚æ–°çš„ä¸€å¹´ï¼Œå¸Œæœ›å¤§å®¶èƒ½å¤Ÿè¶Šæ¥è¶Šå¥½å§ï¼ğŸ˜‡</p><p>å¼¹æŒ‡é—´ï¼Œ è½»èˆŸå·²è¿‡ä¸‡é‡å±±ã€‚</p>]]></content>
    
    
    <summary type="html">è¿™ç¯‡æ–‡ç« ä»‹ç»äº†ä½œè€…åœ¨2024å¹´çš„ä¸ªäººå‘å±•å’Œç”Ÿæ´»ç»å†ã€‚å­¦ä¸šä¸Šï¼Œå°½ç®¡æŠ•å…¥æ—¶é—´è¾ƒå¤šï¼Œæˆç»©ç¨³å®šï¼Œä½†å› å­¦ä¸šç¼˜æ•…ï¼Œåšå®¢è¿è¥å’Œå¼€æºé¡¹ç›®çš„å‚ä¸åº¦æœ‰æ‰€å‡å°‘ã€‚ä½œè€…åœ¨Qexoé¡¹ç›®ä¸Šä¹Ÿæœ‰æ‰€è¿›å±•ï¼Œå¢åŠ äº†æ–°åŠŸèƒ½å¹¶ä¼˜åŒ–äº†æ€§èƒ½å’Œå®‰å…¨ã€‚åœ¨ç”Ÿæ´»æ–¹é¢ï¼Œä½œè€…ç»å†äº†å¥åº·æŒ‘æˆ˜ï¼Œä½†åœ¨å®¶äººå’ŒåŒ»ç”Ÿçš„å¸®åŠ©ä¸‹ï¼Œé€šè¿‡è°ƒæ•´ç”Ÿæ´»ä¹ æƒ¯å’Œé€‚åº¦è¿åŠ¨åº”å¯¹ï¼Œå¹¶å…»æˆäº†è§„å¾‹è¿åŠ¨çš„è‰¯å¥½ä¹ æƒ¯ã€‚æ—…æ¸¸æ–¹é¢ï¼Œä½œè€…æ¸¸è§ˆäº†åŒ—äº¬ã€å—äº¬å’Œå®‰å¤§ç•¥çœï¼Œæ„Ÿå—åˆ°äº†å„åœ°çš„æ–‡åŒ–åº•è•´å’Œå†å²çš„åº„é‡å…¸é›…ã€‚å¤§éƒ¨åˆ†2024å¹´çš„ç›®æ ‡å·²è¾¾æˆï¼Œå¦‚å­¦ä¸šæˆç»©ã€Qexoé¡¹ç›®å¼€å‘å’Œå¥åº·ä¹ æƒ¯çš„å…»æˆã€‚</summary>
    
    
    
    <category term="å…¶ä»–" scheme="https://oplog.cn/categories/%E5%85%B6%E4%BB%96/"/>
    
    
  </entry>
  
  <entry>
    <title>Icarusè°ƒæ•™æŒ‡åŒ— - æˆ‘å¯¹ä¸»é¢˜çš„ä¿®æ”¹</title>
    <link href="https://oplog.cn/archives/8962.html"/>
    <id>https://oplog.cn/archives/8962.html</id>
    <published>2022-12-28T13:17:24.000Z</published>
    <updated>2026-01-02T04:23:00.087Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬åšå®¢ä¸»é¢˜åŸºäº <a href="https://github.com/imaegoo/hexo-theme-icarus">imaegoo/hexo-theme-icarus</a> äºŒæ¬¡ä¿®æ”¹ï¼Œæœ¬æ–‡ç« çš„å†…å®¹ç†è®ºä¸Šæ”¯æŒ4.xä»¥åçš„å®˜æ–¹åˆ†æ”¯ä»¥åŠ imaegoo çš„åˆ†æ”¯ï¼Œå¦‚æœé‡åˆ°é—®é¢˜è¯·è‡ªè¡Œè°ƒæ•´</p><h2 id="åŸºäºåŸå§‹åˆ†æ”¯çš„ä¿®æ”¹">åŸºäºåŸå§‹åˆ†æ”¯çš„ä¿®æ”¹</h2><h3 id="æ·»åŠ é¢„åŠ è½½">æ·»åŠ é¢„åŠ è½½</h3><p><code>themes/icarus/layout/common/scripts.jsx</code>ä¸­çš„ <code>&lt;/Fragment&gt;</code> å‰æ·»åŠ </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&#123;cdn(</span>&#x27;<span class="attr">instant.page</span>&#x27;, &#x27;<span class="attr">5.1.1</span>&#x27;, &#x27;<span class="attr">instantpage.min.js</span>&#x27;)&#125; <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ç›®å½•å›ºå®š">ç›®å½•å›ºå®š</h3><p><code>themes/icarus/source/js/main.js</code> ä¸­çš„ <code>if ($toc.length &gt; 0)</code> åæ·»åŠ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$toc.<span class="title function_">addClass</span>(<span class="string">&#x27;column-right is-sticky&#x27;</span>);   <span class="comment">// å¦‚æœç›®å½•åœ¨å·¦ä¾§åˆ™æ”¹ä¸º column-left</span></span><br></pre></td></tr></table></figure><p>ä¸ºäº†é˜²æ­¢ç›®å½•å›ºå®šä¹‹åæ— æ³•ç‚¹å‡»åˆ°è¾ƒä¸‹æ–¹çš„é¡¹ç›®ï¼Œéœ€è¦å…è®¸ç›®å½•æ»šåŠ¨</p><p>åœ¨ <code>themes/icarus/include/style/widget.styl</code> æ·»åŠ </p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#toc</span>  <span class="comment">//ç›®å½•å¯æ»šåŠ¨</span></span><br><span class="line">    <span class="attribute">max-height</span>: <span class="built_in">calc</span>(<span class="number">100vh</span> - <span class="number">22px</span>)</span><br><span class="line">    overflow-y: scroll</span><br></pre></td></tr></table></figure><h3 id="å³ä¾§è¾¹æ å¸åº•">å³ä¾§è¾¹æ å¸åº•</h3><p>æ­¤å¤„å‚è€ƒ imaegoo çš„å·¦ä¾§è¾¹æ å¸åº•ï¼Œå¯æ·»åŠ åœ¨ <code>themes/icarus/source/js/main.js</code> æœ«å°¾ï¼›å¦‚æœå³ä¾§è¾¹æ æœ‰ååŠ è½½å†…å®¹ï¼ˆå¦‚å‹é“¾ã€æœ€è¿‘è¯„è®ºï¼‰åˆ™åº”åŠ åœ¨å®Œæˆè¯¥æ“ä½œä¹‹å</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å³ä¾§è¾¹æ å¸åº•(æ— æ–‡ç« ç›®å½•æ—¶ç”Ÿæ•ˆ)</span></span><br><span class="line"><span class="keyword">var</span> columnRight = $(<span class="string">&#x27;.column-right&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fixRightColumnTop</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// if SBP return</span></span><br><span class="line">    <span class="keyword">if</span> ($(<span class="variable language_">window</span>).<span class="title function_">width</span>() &lt; <span class="number">769</span>) &#123;</span><br><span class="line">        columnRight.<span class="property">style</span>.<span class="property">top</span> = <span class="literal">null</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (columnRight) &#123;</span><br><span class="line">            columnRight.<span class="property">style</span>.<span class="property">top</span> = $(<span class="variable language_">window</span>).<span class="title function_">height</span>() - columnRight.<span class="property">scrollHeight</span> - <span class="number">10</span> + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                columnRight = $(<span class="string">&#x27;.column-right&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">                <span class="title function_">fixRightColumnTop</span>();</span><br><span class="line">            &#125;, <span class="number">500</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!($(<span class="string">&#x27;#toc&#x27;</span>).<span class="property">length</span> &gt; <span class="number">0</span>)) &#123;  <span class="comment">// æ— ç›®å½•</span></span><br><span class="line">    <span class="title function_">fixRightColumnTop</span>();</span><br><span class="line">    $(<span class="variable language_">window</span>).<span class="title function_">resize</span>(fixRightColumnTop);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Hæ ‡ç­¾ç¾åŒ–">Hæ ‡ç­¾ç¾åŒ–</h3><p>æ·»åŠ åœ¨ <code>themes/icarus/source/css/default.styl</code></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.content</span> &gt; <span class="selector-tag">h1</span> </span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">13px</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">8px</span> solid <span class="number">#ed515191</span></span><br><span class="line">.content &gt; h2 </span><br><span class="line">    padding:<span class="number">0px</span> <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">7px</span> solid <span class="number">#BF51ED91</span></span><br><span class="line">.content &gt; h3 </span><br><span class="line">    padding:<span class="number">0px</span> <span class="number">11px</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">6px</span> solid <span class="number">#6495ed91</span></span><br><span class="line">.content &gt; h4 </span><br><span class="line">    padding:<span class="number">0px</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">5px</span> solid <span class="number">#e2aa2b91</span></span><br><span class="line">.content &gt; h5 </span><br><span class="line">    padding:<span class="number">0</span> <span class="number">19px</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">4px</span> solid <span class="number">#64c1c191</span></span><br></pre></td></tr></table></figure><h3 id="å›¾ç‰‡æ‡’åŠ è½½">å›¾ç‰‡æ‡’åŠ è½½</h3><p>å®‰è£…å¹¶é…ç½® <code>hexo-image-lazyload</code>æ’ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">npm install hexo-lazyload-image --save</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">lazyload:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">onlypost:</span> <span class="literal">false</span> <span class="comment"># optional</span></span><br><span class="line">  <span class="attr">loadingImg:</span> <span class="comment"># optional eg ./images/loading.gif</span></span><br><span class="line">  <span class="attr">isSPA:</span> <span class="literal">false</span> <span class="comment"># optional</span></span><br><span class="line">  <span class="attr">preloadRatio:</span> <span class="number">3</span> <span class="comment"># optional, default is 1</span></span><br></pre></td></tr></table></figure><p><code>themes/icarus/source/js/main.js</code> æ·»åŠ ä»£ç ä»¥ä¿®å¤ <code>lightGallery</code> å…¼å®¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‡’åŠ è½½ä¿®å¤</span></span><br><span class="line">    $(<span class="variable language_">document</span>).<span class="title function_">find</span>(<span class="string">&#x27;img[data-original]&#x27;</span>).<span class="title function_">each</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        $(<span class="variable language_">this</span>).<span class="title function_">parent</span>().<span class="title function_">attr</span>(<span class="string">&quot;href&quot;</span>, $(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&quot;data-original&quot;</span>));</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ ç½®é¡¶æ–‡ç« æ ‡ç­¾">æ·»åŠ ç½®é¡¶æ–‡ç« æ ‡ç­¾</h3><p>å®‰è£… <code>hexo-generator-index-pin-top</code> ç„¶åä¸ºä½ éœ€è¦ç½®é¡¶çš„æ–‡ç« æ·»åŠ  <code>top</code> å­—æ®µä½œä¸ºç½®é¡¶æƒé‡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-index-pin-top --save</span><br></pre></td></tr></table></figure><p><code>themes/icarus/layout/common/article.jsx</code> ä¸­ <code>&lt;div class=&quot;level-left&quot;&gt;</code> ä¸‹æ–¹æ·»åŠ </p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;index &amp;&amp; page.<span class="property">top</span> ? <span class="language-xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;level-item stick-top&quot;</span>&gt;</span> ç½®é¡¶ <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span> : <span class="literal">null</span>&#125;</span><br></pre></td></tr></table></figure><p>CSS æ·»åŠ åœ¨ <code>themes/icarus/source/css/default.styl</code></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ç½®é¡¶æ ‡ç­¾ */</span></span><br><span class="line"><span class="selector-class">.stick-top</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">64</span>, <span class="number">158</span>, <span class="number">255</span>, <span class="number">0.13</span>);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">64</span>, <span class="number">158</span>, <span class="number">255</span>, <span class="number">0.5</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#409eff</span>;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">0.5em</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">0.75em</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f2f6fc</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ éœ€è¦é»‘å¤œæ¨¡å¼çš„ CSS ï¼Œè¯·æ·»åŠ åœ¨<code>themes/icarus/source/css/night.styl</code></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* é»‘å¤œæ¨¡å¼ç½®é¡¶æ ‡ç­¾ */</span></span><br><span class="line"><span class="selector-class">.stick-top</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">color</span>: dark-font-color;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">0.5em</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">0.75em</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: dark-primary-color-hover;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ -Qexo-å‹é“¾ä¾§è¾¹æ ">æ·»åŠ  Qexo å‹é“¾ä¾§è¾¹æ </h3><p><code>themes/icarus/include/schema/common/widgets.json</code> ä¸­ <code>items.oneOf</code> æ·»åŠ </p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;$ref&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/widget/qexo_friends.json&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><code>themes/icarus/include/schema/widget/qexo_friends.json</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;$schema&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://json-schema.org/draft-07/schema#&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;$id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/widget/qexo_friends.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Qexo friends links widget configurations&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;object&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;const&quot;</span><span class="punctuation">:</span> <span class="string">&quot;qexo_friends&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;required&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;type&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><code>themes/icarus/layout/widget/qexo_friends.jsx</code> æ³¨æ„æ­¤å¤„ä¿®æ”¹ <code>https://yoursite.com</code> ä¸ºä½ çš„ Qexo éƒ¨ç½²åœ°å€</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; <span class="variable constant_">URL</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;url&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">Component</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;inferno&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; cacheComponent &#125; = <span class="built_in">require</span>(<span class="string">&#x27;hexo-component-inferno/lib/util/cache&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QexoLinks</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> js = <span class="string">`loadSideBarFriends(&#x27;qexo-sidebar-friends&#x27;, &#x27;https://yoursite.com&#x27;);`</span>;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card widget&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-content&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;menu&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;menu-label&quot;</span>&gt;</span>å‹æƒ…é“¾æ¥<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;menu-list qexo-sidebar-friends&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">script</span> <span class="attr">dangerouslySetInnerHTML</span>=<span class="string">&#123;&#123;</span> <span class="attr">__html:</span> <span class="attr">js</span> &#125;&#125;&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;link-more button is-light is-small size-small&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/links/&quot;</span>&gt;</span>æŸ¥çœ‹æ›´å¤š<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">QexoLinks</span>;</span><br></pre></td></tr></table></figure><p><code>themes/icarus/source/js/sidebar-friends.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">loadSideBarFriends</span>(<span class="params">id, url</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> uri = url + <span class="string">&quot;/pub/friends/&quot;</span>;</span><br><span class="line">    <span class="keyword">var</span> loadStyle = <span class="string">&#x27;&lt;div class=&quot;qexo_loading&quot;&gt;&lt;div class=&quot;qexo_part&quot;&gt;&lt;div style=&quot;display: flex; justify-content: center&quot;&gt;&lt;div class=&quot;qexo_loader&quot;&gt;&lt;div class=&quot;qexo_inner one&quot;&gt;&lt;/div&gt;&lt;div class=&quot;qexo_inner two&quot;&gt;&lt;/div&gt;&lt;div class=&quot;qexo_inner three&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p style=&quot;text-align: center; display: block&quot;&gt;å‹é“¾åŠ è½½ä¸­...&lt;/p&gt;&lt;/div&gt;&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(id).<span class="property">length</span>;i++)&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(id)[i].<span class="property">innerHTML</span> = loadStyle;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(id)[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">var</span> ajax;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// Firefox, Opera 8.0+, Safari</span></span><br><span class="line">        ajax = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        <span class="comment">// Internet Explorer</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ajax = <span class="keyword">new</span> <span class="title class_">ActiveXObject</span>(<span class="string">&quot;Msxml2.XMLHTTP&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                ajax = <span class="keyword">new</span> <span class="title class_">ActiveXObject</span>(<span class="string">&quot;Microsoft.XMLHTTP&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                <span class="title function_">alert</span>(<span class="string">&quot;ç³Ÿç³•,ä½ çš„æµè§ˆå™¨ä¸èƒ½ä¸Šä¼ æ–‡ä»¶!&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ajax.<span class="title function_">open</span>(<span class="string">&quot;get&quot;</span>, uri, <span class="literal">true</span>);</span><br><span class="line">    ajax.<span class="title function_">setRequestHeader</span>(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;text/plain&quot;</span>);</span><br><span class="line">    ajax.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ajax.<span class="property">readyState</span> == <span class="number">4</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (ajax.<span class="property">status</span> == <span class="number">200</span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> res = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(ajax.<span class="property">response</span>);</span><br><span class="line">                <span class="keyword">if</span> (res[<span class="string">&quot;status&quot;</span>]) &#123;</span><br><span class="line">                    <span class="keyword">var</span> friends = res[<span class="string">&quot;data&quot;</span>];</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(id).<span class="property">length</span>;i++)&#123;</span><br><span class="line">                        <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(id)[i].<span class="property">innerHTML</span> = <span class="string">&#x27;&lt;ul class=&quot;menu-list&quot;&gt;&#x27;</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; friends.<span class="property">length</span>; i++) &#123;</span><br><span class="line">                        <span class="keyword">for</span>(<span class="keyword">let</span> j=<span class="number">0</span>;j&lt;<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(id).<span class="property">length</span>;j++)&#123;</span><br><span class="line">                            <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(id)[j].<span class="property">innerHTML</span> += <span class="string">&#x27;&lt;li&gt;&lt;a class=&quot;level is-mobile is-mobile&quot; href=&quot;&#x27;</span>+friends[i][<span class="string">&quot;url&quot;</span>]+<span class="string">&#x27;&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;span class=&quot;level-left&quot;&gt;&lt;span class=&quot;level-item&quot;&gt;&#x27;</span>+friends[i][<span class="string">&quot;name&quot;</span>]+<span class="string">&#x27;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;level-right&quot;&gt;&lt;span class=&quot;level-item tag&quot;&gt;&#x27;</span>+friends[i][<span class="string">&quot;url&quot;</span>].<span class="title function_">split</span>(<span class="string">&#x27;/&#x27;</span>)[<span class="number">2</span>]+<span class="string">&#x27;&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(res[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;msg&quot;</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å‹é“¾è·å–å¤±è´¥! ç½‘ç»œé”™è¯¯&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    ajax.<span class="title function_">send</span>(<span class="literal">null</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>themes/icarus/layout/common/head.jsx</code> ä¸­ <code>&lt;/head&gt;</code> å‰æ·»åŠ </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/js/sidebar-friends.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ -Qexo-å‹é“¾ç”³è¯·é¡µé¢">æ·»åŠ  Qexo å‹é“¾ç”³è¯·é¡µé¢</h3><p>åˆ›å»ºä¸€ä¸ªé¡µé¢ï¼Œå…¶ä¸­å¡«å†™</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line">&#123;% raw %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">article</span> <span class="attr">class</span>=<span class="string">&quot;message is-info&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;message-header&quot;</span>&gt;</span></span><br><span class="line">        ç”³è¯·å‹é“¾</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;message-body&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-ask-friend&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;field&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;label&quot;</span>&gt;</span>åç§°<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;control has-icons-left&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;input&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;æ‚¨çš„ç«™ç‚¹å&quot;</span> <span class="attr">id</span>=<span class="string">&quot;friend-name&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;icon is-small is-left&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-signature&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;field&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;label&quot;</span>&gt;</span>é“¾æ¥<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;control has-icons-left&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;input&quot;</span> <span class="attr">type</span>=<span class="string">&quot;url&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;æ‚¨ç½‘ç«™é¦–é¡µçš„é“¾æ¥&quot;</span> <span class="attr">id</span>=<span class="string">&quot;friend-link&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;icon is-small is-left&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-link&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;help &quot;</span>&gt;</span>è¯·ç¡®ä¿ç«™ç‚¹å¯è®¿é—®ï¼<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;field&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;label&quot;</span>&gt;</span>å›¾æ ‡<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;control has-icons-left&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;input&quot;</span> <span class="attr">type</span>=<span class="string">&quot;url&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;æ‚¨çš„ç½‘ç«™å›¾æ ‡(å°½é‡ä¸ºæ­£åœ†å½¢)&quot;</span> <span class="attr">id</span>=<span class="string">&quot;friend-icon&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;icon is-small is-left&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-image&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;field&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;label&quot;</span>&gt;</span>æè¿°<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;control has-icons-left&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;input&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·ç”¨ä¸€å¥è¯ä»‹ç»æ‚¨çš„ç«™ç‚¹&quot;</span> <span class="attr">id</span>=<span class="string">&quot;friend-des&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;icon is-small is-left&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-info&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;field&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;control&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;friend-check&quot;</span>/&gt;</span> æˆ‘æäº¤çš„ä¸æ˜¯æ— æ„ä¹‰ä¿¡æ¯</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;field is-grouped&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;control&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;button is-info&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;askFriend(event)&quot;</span>&gt;</span>ç”³è¯·å‹é“¾<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://recaptcha.net/recaptcha/api.js?render=ä½ çš„reCpatchaV3å¯†é’¥&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">TestUrl</span>(<span class="params">url</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> <span class="title class_">Expression</span>=<span class="regexp">/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&amp;=]*)?/</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> objExp=<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="title class_">Expression</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span>(objExp.<span class="title function_">test</span>(url) != <span class="literal">true</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">askFriend</span> (<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> check = $(<span class="string">&quot;#friend-check&quot;</span>).<span class="title function_">is</span>(<span class="string">&quot;:checked&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> name = $(<span class="string">&quot;#friend-name&quot;</span>).<span class="title function_">val</span>();</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> url = $(<span class="string">&quot;#friend-link&quot;</span>).<span class="title function_">val</span>();</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> image = $(<span class="string">&quot;#friend-icon&quot;</span>).<span class="title function_">val</span>();</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> des = $(<span class="string">&quot;#friend-des&quot;</span>).<span class="title function_">val</span>();</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span>(!check)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">&quot;è¯·å‹¾é€‰\&quot;æˆ‘æäº¤çš„ä¸æ˜¯æ— æ„ä¹‰ä¿¡æ¯\&quot;&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span>(!(name&amp;&amp;url&amp;&amp;image&amp;&amp;des))&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">&quot;ä¿¡æ¯å¡«å†™ä¸å®Œæ•´! &quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (!(<span class="title class_">TestUrl</span>(url)))&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">&quot;URLæ ¼å¼é”™è¯¯! éœ€è¦åŒ…å«HTTPåè®®å¤´! &quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (!(<span class="title class_">TestUrl</span>(image)))&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">&quot;å›¾ç‰‡URLæ ¼å¼é”™è¯¯! éœ€è¦åŒ…å«HTTPåè®®å¤´! &quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    event.<span class="property">target</span>.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;is-loading&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    grecaptcha.<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          grecaptcha.<span class="title function_">execute</span>(<span class="string">&#x27;ä½ çš„reCpatchaV3å¯†é’¥&#x27;</span>, &#123;<span class="attr">action</span>: <span class="string">&#x27;submit&#x27;</span>&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">token</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">              $.<span class="title function_">ajax</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&#x27;get&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">cache</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">url</span>: url,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">dataType</span>: <span class="string">&quot;jsonp&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">async</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">processData</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//timeout:10000, </span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">complete</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span>(data.<span class="property">status</span>==<span class="number">200</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    $.<span class="title function_">ajax</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>: <span class="string">&#x27;POST&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">dataType</span>: <span class="string">&quot;json&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&quot;name&quot;</span>: name,</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&quot;url&quot;</span>: url,</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&quot;image&quot;</span>: image,</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&quot;description&quot;</span>: des,</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&quot;verify&quot;</span>: token,</span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">url</span>: <span class="string">&#x27;https://ä½ çš„Qexoéƒ¨ç½²ç«™ç‚¹/pub/ask_friend/&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="title function_">alert</span>(data.<span class="property">msg</span>);</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;);&#125;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">alert</span>(<span class="string">&quot;URLæ— æ³•è¿é€š!&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                    event.<span class="property">target</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;is-loading&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;);</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure><p>ä¼šè‡ªåŠ¨éªŒè¯ç«™ç‚¹å¯è¿é€šæ€§å¹¶æäº¤åˆ° Qexo åå°ã€‚æ³¨æ„éœ€è¦ä¾ç…§æç¤ºé…ç½®å¥½ reCaptcha V3 å’Œä½ çš„ Qexo ç«™ç‚¹é“¾æ¥</p><h3 id="æ¥å…¥-Qexo-é¡µé¢è®¿é—®ç»Ÿè®¡">æ¥å…¥ Qexo é¡µé¢è®¿é—®ç»Ÿè®¡</h3><p><code>themes/icarus/source/js/statistic.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">loadStatistic</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> t = e + <span class="string">&quot;/pub/statistic/&quot;</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">qexoInner</span>(<span class="params">a,b</span>) &#123;<span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(a)) <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(a).<span class="property">innerHTML</span> = b;&#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">qexoFailed</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> j = [<span class="string">&quot;qexo-site-uv&quot;</span>,<span class="string">&quot;qexo-site-pv&quot;</span>,<span class="string">&quot;qexo-page-pv&quot;</span>]</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; j.<span class="property">length</span>; i++) <span class="title function_">qexoInner</span>(j[i],<span class="string">&quot;è¯·æ±‚å¤±è´¥&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="title function_">fetch</span>(t, &#123;</span><br><span class="line">        <span class="attr">referrerPolicy</span>: <span class="string">&quot;no-referrer-when-downgrade&quot;</span></span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">ok</span>) &#123;</span><br><span class="line">            res.<span class="title function_">json</span>().<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (e.<span class="property">status</span>) &#123;</span><br><span class="line">                    <span class="title function_">qexoInner</span>(<span class="string">&quot;qexo-site-uv&quot;</span>, e.<span class="property">site_uv</span>);</span><br><span class="line">                    <span class="title function_">qexoInner</span>(<span class="string">&quot;qexo-site-pv&quot;</span>, e.<span class="property">site_pv</span>);</span><br><span class="line">                    <span class="title function_">qexoInner</span>(<span class="string">&quot;qexo-page-pv&quot;</span>, e.<span class="property">page_pv</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">error</span>);</span><br><span class="line">                    <span class="title function_">qexoFailed</span>()</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">qexoFailed</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="keyword">function</span> (<span class="params">ex</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ç«™ç‚¹ç»Ÿè®¡å¤±è´¥! ç½‘ç»œé”™è¯¯&#x27;</span>)</span><br><span class="line">        <span class="title function_">qexoFailed</span>()</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>themes/icarus/layout/common/footer.jsx</code> ä½ éœ€è¦çš„ä½ç½®æ·»åŠ </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;busuanzi_container_site_uv&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: inline;&quot;</span>&gt;</span>å…±<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;qexo-site-uv&quot;</span>&gt;</span> Loading <span class="tag">&lt;/<span class="name">span</span>&gt;</span>ä¸ªè®¿å®¢<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">dangerouslySetInnerHTML</span>=<span class="string">&#123;&#123;</span> <span class="attr">__html:</span> &#x27;&lt;<span class="attr">script</span> <span class="attr">src</span>=<span class="string">&quot;/js/statistic.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">loadStatistic</span>(<span class="string">&quot;https://my.oplog.cn&quot;</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>&#x27;&#125;&#125; /&gt;</span><br></pre></td></tr></table></figure><p><code>themes/icarus/layout/common/article.jsx</code> ä¸­ <code>&#123;/* Visitor counter */&#125;</code> ä¸‹æ–¹ä¸‰è¡Œæ”¹ä¸º</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;!index ? <span class="language-xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&#123;url_for(page.link</span> || <span class="attr">page.path</span>)&#125; <span class="attr">class</span>=<span class="string">&quot;level-item leancloud_visitors&quot;</span> <span class="attr">data-flag-title</span>=<span class="string">&#123;page.title&#125;</span> <span class="attr">dangerouslySetInnerHTML</span>=<span class="string">&#123;&#123;__html:</span> &#x27;&lt;<span class="attr">i</span> <span class="attr">class</span>=<span class="string">&quot;far fa-eye&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>&#x27; + _p(&#x27;plugin.visit_count&#x27;, &#x27;  <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;qexo-page-pv&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-spinner fa-spin&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>&#x27;)&#125;&#125;&gt;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span> : <span class="literal">null</span>&#125;</span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ -Qexo-è¯´è¯´ä¾§è¾¹æ ">æ·»åŠ  Qexo è¯´è¯´ä¾§è¾¹æ </h3><p><code>themes/icarus/include/schema/common/widgets.json</code> ä¸­ <code>items.oneOf</code> æ·»åŠ </p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;$ref&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/widget/qexo_talks.json&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><code>themes/icarus/include/schema/widget/qexo_talks.json</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;$schema&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://json-schema.org/draft-07/schema#&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;$id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/widget/qexo_talks.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Qexo talks widget configurations&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;object&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;const&quot;</span><span class="punctuation">:</span> <span class="string">&quot;qexo_talks&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;required&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;type&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><code>themes/icarus/layout/widget/qexo_talks.jsx</code> æ³¨æ„æ­¤å¤„ä¿®æ”¹ <code>https://yoursite.com</code> ä¸ºä½ çš„ Qexo éƒ¨ç½²åœ°å€</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; <span class="variable constant_">URL</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;url&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">Component</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;inferno&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; cacheComponent &#125; = <span class="built_in">require</span>(<span class="string">&#x27;hexo-component-inferno/lib/util/cache&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QexoTalks</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> js = <span class="string">`loadSideBarTalks(&#x27;qexo-sidebar-talks&#x27;, &#x27;https://yoursite.com&#x27;, 5);`</span>;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card widget&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-content&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;menu&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;menu-label&quot;</span>&gt;</span>æœ€è¿‘è¯´è¯´<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;menu-list qexo-sidebar-talks&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">script</span> <span class="attr">dangerouslySetInnerHTML</span>=<span class="string">&#123;&#123;</span> <span class="attr">__html:</span> <span class="attr">js</span> &#125;&#125;&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;link-more button is-light is-small size-small&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/talks/&quot;</span>&gt;</span>æŸ¥çœ‹æ›´å¤š<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">QexoTalks</span>;</span><br></pre></td></tr></table></figure><p><code>themes/icarus/source/js/sidebar-friends.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">loadSideBarTalks</span>(<span class="params">id, url, limit</span>) &#123; <span class="comment">//id=class name</span></span><br><span class="line">    <span class="keyword">var</span> uri = url + <span class="string">&quot;/pub/talks/?page=1&amp;limit=&quot;</span> + limit;</span><br><span class="line">    <span class="keyword">var</span> loadStyle = <span class="string">&#x27;&lt;div class=&quot;qexo_loading&quot;&gt;&lt;div class=&quot;qexo_part&quot;&gt;&lt;div style=&quot;display: flex; justify-content: center&quot;&gt;&lt;div class=&quot;qexo_loader&quot;&gt;&lt;div class=&quot;qexo_inner one&quot;&gt;&lt;/div&gt;&lt;div class=&quot;qexo_inner two&quot;&gt;&lt;/div&gt;&lt;div class=&quot;qexo_inner three&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p style=&quot;text-align: center; display: block&quot;&gt;è¯´è¯´åŠ è½½ä¸­...&lt;/p&gt;&lt;/div&gt;&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(id).<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(id)[i].<span class="property">innerHTML</span> = loadStyle;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(id)[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">var</span> ajax;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// Firefox, Opera 8.0+, Safari</span></span><br><span class="line">        ajax = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        <span class="comment">// Internet Explorer</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ajax = <span class="keyword">new</span> <span class="title class_">ActiveXObject</span>(<span class="string">&quot;Msxml2.XMLHTTP&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                ajax = <span class="keyword">new</span> <span class="title class_">ActiveXObject</span>(<span class="string">&quot;Microsoft.XMLHTTP&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                <span class="title function_">alert</span>(<span class="string">&quot;ç³Ÿç³•,ä½ çš„æµè§ˆå™¨ä¸èƒ½ä¸Šä¼ æ–‡ä»¶!&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ajax.<span class="title function_">open</span>(<span class="string">&quot;get&quot;</span>, uri, <span class="literal">true</span>);</span><br><span class="line">    ajax.<span class="title function_">setRequestHeader</span>(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;text/plain&quot;</span>);</span><br><span class="line">    ajax.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ajax.<span class="property">readyState</span> == <span class="number">4</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (ajax.<span class="property">status</span> == <span class="number">200</span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> res = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(ajax.<span class="property">response</span>);</span><br><span class="line">                <span class="keyword">if</span> (res[<span class="string">&quot;status&quot;</span>]) &#123;</span><br><span class="line">                    <span class="keyword">var</span> talks = res[<span class="string">&quot;data&quot;</span>];</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(id).<span class="property">length</span>; i++) &#123;</span><br><span class="line">                        <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(id)[i].<span class="property">innerHTML</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; talks.<span class="property">length</span>; i++) &#123;</span><br><span class="line">                        <span class="keyword">var</span> item = talks[i];</span><br><span class="line">                        <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>(item.<span class="property">time</span> * <span class="number">1000</span>);</span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(id).<span class="property">length</span>; j++) &#123;</span><br><span class="line">                            <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(id)[j].<span class="property">innerHTML</span> +=</span><br><span class="line">                                <span class="string">&#x27;&lt;article class=&quot;media&quot;&gt;&lt;div class=&quot;media-content&quot;&gt;&#x27;</span> +</span><br><span class="line">                                <span class="string">&#x27;&lt;p class=&quot;title&quot;&gt;&lt;a href=&quot;#&#x27;</span> + item.<span class="property">id</span> + <span class="string">&#x27;&quot;&gt;&#x27;</span> + <span class="title function_">changeContent</span>(item.<span class="property">content</span>) + <span class="string">&#x27;&lt;/a&gt;&lt;/p&gt;&#x27;</span> +</span><br><span class="line">                                <span class="string">&#x27;&lt;p class=&quot;date&quot;&gt;&#x27;</span> + item.<span class="property">tags</span>.<span class="title function_">join</span>() + <span class="string">&#x27; / &#x27;</span> + date.<span class="title function_">getFullYear</span>() + <span class="string">&quot;-&quot;</span> +</span><br><span class="line">                                (date.<span class="title function_">getMonth</span>() &lt; <span class="number">9</span> ? <span class="number">0</span> : <span class="string">&quot;&quot;</span>) + (date.<span class="title function_">getMonth</span>() + <span class="number">1</span>) + <span class="string">&quot;-&quot;</span> + date.<span class="title function_">getDate</span>() + <span class="string">&#x27;&lt;/p&gt;&#x27;</span> +</span><br><span class="line">                                <span class="string">&#x27;&lt;/div&gt;&lt;/article&gt;&#x27;</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(res[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;msg&quot;</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å‹é“¾è·å–å¤±è´¥! ç½‘ç»œé”™è¯¯&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    ajax.<span class="title function_">send</span>(<span class="literal">null</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä» butterfly ä¸»é¢˜å€Ÿé‰´</span></span><br><span class="line"><span class="comment">// https://github.com/jerryc127/hexo-theme-butterfly/blob/dev/layout/includes/third-party/newest-comments/twikoo-comment.pug</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">changeContent</span>(<span class="params">content</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (content === <span class="string">&#x27;&#x27;</span>) <span class="keyword">return</span> content;</span><br><span class="line">    content = content.<span class="title function_">replace</span>(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">&#x27;&#x27;</span>); <span class="comment">// remove html tag</span></span><br><span class="line">    <span class="keyword">if</span> (content.<span class="property">length</span> &gt; <span class="number">150</span>) &#123;</span><br><span class="line">        content = content.<span class="title function_">substring</span>(<span class="number">0</span>, <span class="number">150</span>) + <span class="string">&#x27;...&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> content;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŸºäº-Imaegoo-åˆ†æ”¯çš„ä¿®æ”¹">åŸºäº Imaegoo åˆ†æ”¯çš„ä¿®æ”¹</h2><h3 id="è·Ÿéšç³»ç»Ÿåˆ‡æ¢é»‘å¤œæ¨¡å¼">è·Ÿéšç³»ç»Ÿåˆ‡æ¢é»‘å¤œæ¨¡å¼</h3><p><code>themes/icarus/source/js/imaegoo/night.js</code> ä¸­å°† <code>isNight &amp;&amp; applyNight(isNight);</code> æ³¨é‡Šå¹¶åœ¨åæ–¹æ·»åŠ ï¼Œè¯·æ³¨æ„æœ¬æ–¹æ¡ˆè¾ƒæ¸©å’Œï¼Œä»…åœ¨é¦–æ¬¡è®¿é—®æˆ–è®¿é—®æ—¶è¿›è¡Œäº†æ¨¡å¼æ›´æ”¹æ—¶ç”Ÿæ•ˆ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ifSysIsNight = <span class="variable language_">window</span>.<span class="title function_">matchMedia</span>(<span class="string">&#x27;(prefers-color-scheme: dark)&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (isNight === <span class="literal">null</span>)&#123;</span><br><span class="line">    isNight = ifSysIsNight.<span class="property">matches</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">    <span class="title function_">applyNight</span>(isNight);</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;night&#x27;</span>, isNight);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">    isNight &amp;&amp; <span class="title function_">applyNight</span>(isNight);</span><br><span class="line">&#125;</span><br><span class="line">ifSysIsNight.<span class="property">onchange</span> = <span class="keyword">function</span> (<span class="params">evt</span>) &#123;</span><br><span class="line">    isNight = evt.<span class="property">matches</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">    <span class="title function_">applyNight</span>(isNight);</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;night&#x27;</span>, isNight);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æœ€å">æœ€å</h2><p>æœ¬ç¯‡æ–‡ç« ä¿®æ”¹è¾ƒä¸ºä»“ä¿ƒï¼Œå¯èƒ½å­˜åœ¨ç–æ¼ï¼Œå¯ä»¥åœ¨è¯„è®ºåŒºæŒ‡å‡º</p>]]></content>
    
    
    <summary type="html">è¿™ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•ä¿®æ”¹ä¸€ä¸ªåä¸ºimaegoo/hexo-theme-icarusçš„åšå®¢ä¸»é¢˜ï¼Œä½¿å…¶æ”¯æŒç›®å½•å›ºå®šå’Œå¯æ»šåŠ¨ã€å³ä¾§è¾¹æ å¸åº•ç­‰åŠŸèƒ½ã€‚å…¶ä¸­åŒ…æ‹¬æ·»åŠ ä»£ç å’Œä¿®æ”¹CSSæ ·å¼ç­‰æ­¥éª¤ã€‚ä½œè€…æä¾›äº†è¯¦ç»†çš„ä»£ç å’Œè¯´æ˜ï¼Œå¸®åŠ©è¯»è€…å®Œæˆè¿™äº›ä¿®æ”¹ã€‚æ–‡ç« è¿˜æåˆ°äº†éœ€è¦è‡ªè¡Œè°ƒæ•´çš„é—®é¢˜ï¼Œä»¥åŠè¯¥ä¿®æ”¹é€‚ç”¨çš„Hexoç‰ˆæœ¬èŒƒå›´ã€‚</summary>
    
    
    
    <category term="æŠ€æœ¯æ•™ç¨‹" scheme="https://oplog.cn/categories/%E6%8A%80%E6%9C%AF%E6%95%99%E7%A8%8B/"/>
    
    <category term="å»ºç«™æ•™ç¨‹" scheme="https://oplog.cn/categories/%E5%BB%BA%E7%AB%99%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Hexo" scheme="https://oplog.cn/tags/Hexo/"/>
    
    <category term="Icaus" scheme="https://oplog.cn/tags/Icaus/"/>
    
    <category term="Qexo" scheme="https://oplog.cn/tags/Qexo/"/>
    
    <category term="è‡ªå®šä¹‰" scheme="https://oplog.cn/tags/%E8%87%AA%E5%AE%9A%E4%B9%89/"/>
    
    <category term="åšå®¢" scheme="https://oplog.cn/tags/%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="ä»£ç " scheme="https://oplog.cn/tags/%E4%BB%A3%E7%A0%81/"/>
    
    <category term="åˆ†äº«" scheme="https://oplog.cn/tags/%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨ä»£ç ä¸­é‡å¯Djangoç¨‹åº</title>
    <link href="https://oplog.cn/archives/31002.html"/>
    <id>https://oplog.cn/archives/31002.html</id>
    <published>2022-12-24T07:31:48.000Z</published>
    <updated>2022-12-24T07:51:23.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨ Qexo çš„ç¼–å†™è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼š</p><p>å¦‚ä½•åœ¨å®Œæˆæ›´æ–°åè®©ç¨‹åºè‡ªåŠ¨é‡å¯ï¼Ÿ</p><p>è¿™ä¸ªé—®é¢˜å›°æ‰°äº†æˆ‘ä¸€æ®µæ—¶é—´ï¼Œèµ·åˆä½¿ç”¨çš„æ˜¯ Django è‡ªå¸¦çš„ AutoReloaderï¼Œä½†æ•ˆæœå¹¶ä¸ä½³ï¼Œç»å¸¸æ²¡æœ‰å®Œæˆæ–‡ä»¶çš„å®Œå…¨æ›¿æ¢å°±è‡ªåŠ¨é‡å¯ï¼Œä»è€Œå¯¼è‡´æ›´æ–°å¤±è´¥ã€‚åœ¨å‚è€ƒäº†éƒ¨åˆ†å¤§ä½¬çš„æ–‡ç« ä¹‹åï¼Œæ€»ç»“å‡ºäº†ä¸€ä¸ªä¸é”™çš„æ–¹æ³•ã€‚</p><h2 id="å…³é—­è‡ªåŠ¨é‡è½½">å…³é—­è‡ªåŠ¨é‡è½½</h2><p>æ—¢ç„¶æˆ‘ä»¬è¦æŠŠç¨‹åºçš„é‡å¯å®Œå…¨æŒæ¡åœ¨è‡ªå·±æ‰‹ä¸­ï¼Œé‚£ä¹ˆå¿…é¡»è¦æå‰å…³é—­å¥½ç¨‹åºçš„è‡ªåŠ¨é‡è½½åŠŸèƒ½ï¼Œè¿™ä¸€ç‚¹ååˆ†ç®€å•ï¼Œåªéœ€è¦ç¨å¾®ä¿®æ”¹å¯åŠ¨å‘½ä»¤å³å¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 manage.py runserver --noreload</span><br></pre></td></tr></table></figure><p>åªéœ€è¦åŠ ä¸Š<code>--noreload</code>å‚æ•°å³å¯ç¦ç”¨ Django çš„ AutoReloader</p><h2 id="æ·»åŠ é‡è½½ä»£ç ">æ·»åŠ é‡è½½ä»£ç </h2><h3 id="ç»“è®º">ç»“è®º</h3><p>å…ˆè¯´ç»“è®ºï¼Œå¦‚æœåœ¨ç¨‹åºä¸­ä½ éœ€è¦é‡è½½ï¼Œåˆ™éœ€è¦å¼ºåˆ¶é€€å‡ºå­ç¨‹åºå¹¶è¿”å›â€œ3â€ä½œä¸ºé€€å‡ºä»£ç ï¼Œå³</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os._exit(<span class="number">3</span>)</span><br></pre></td></tr></table></figure><h3 id="è¿™æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ">è¿™æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</h3><p>ç»è¿‡ä¸€ç•ªæœç´¢ä¹‹åï¼Œæˆ‘å¹¶æ²¡æœ‰æ‰¾åˆ°å“ªä¸ªå¤§ä½¬ç»™å‡ºäº†å®Œæ•´çš„æ–¹æ¡ˆï¼ˆä¹Ÿæœ‰å¯èƒ½æ˜¯æˆ‘æœç´¢èƒ½åŠ›è¾ƒå¼±ï¼‰ï¼Œäºæ˜¯åœ¨ç»“åˆäº†<a href="https://zhuanlan.zhihu.com/p/158063245">Djangoæºç åˆ†æ</a>å¯¹äº Reloader çš„åˆ†æç»™å‡ºäº†è¿™ä¸ªè§£å†³æ–¹æ¡ˆ</p><p>æˆ‘ä»¬è§‚å¯Ÿ<code>django.utils.autoreload</code>ä¸­æœ‰å…³é‡å¯çš„ä»£ç ï¼Œç»è¿‡ç­›é€‰åå¾—åˆ°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">restart_with_reloader</span>():</span><br><span class="line">    new_environ = &#123;**os.environ, DJANGO_AUTORELOAD_ENV: <span class="string">&#x27;true&#x27;</span>&#125;</span><br><span class="line">    args = get_child_arguments()</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        p = subprocess.run(args, env=new_environ, close_fds=<span class="literal">False</span>)</span><br><span class="line">        <span class="keyword">if</span> p.returncode != <span class="number">3</span>:</span><br><span class="line">            <span class="keyword">return</span> p.returncode</span><br></pre></td></tr></table></figure><p>å‘ç°  Django çš„è¿è¡Œé€»è¾‘å¹¶ä¸æ˜¯ç›´æ¥ä½¿ç”¨ä¸»è¿›ç¨‹ï¼Œè€Œæ˜¯åˆ›å»ºäº†ä¸€ä¸ªå­è¿›ç¨‹æ¥æ‰§è¡Œç¨‹åºä»£ç ï¼Œè€Œç”±åŸæœ¬çš„è¿›ç¨‹æ¥å®ç°å®ˆæŠ¤</p><p>æˆ‘ä»¬éœ€è¦é‡å¯å­çº¿ç¨‹ï¼Œå°±éœ€è¦è®©å­è¿›ç¨‹ç»“æŸï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°å¦‚æœé€€å‡ºä»£ç ä¸ä¸ºâ€œ3â€åˆ™ç»“æŸç¨‹åºï¼Œä¸ºâ€œ3â€åˆ™ç»§ç»­è¿è¡Œï¼Œé‡æ–°æ‰§è¡Œå¾ªç¯æ¥åˆ›å»ºå­è¿›ç¨‹ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„</p><p>è¿›ç¨‹è‡ªæ€çš„ä»£ç ä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.exit(<span class="number">3</span>)  <span class="comment"># 3ä¸ºé€€å‡ºä»£ç </span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å¾ˆé—æ†¾ï¼Œè¿™ä¸ªä»£ç ä¸­ sys åº“ä¼šå…ˆæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œè€Œè¿™ä¸ªé”™è¯¯ä¼šè¢« Django æ•è·è€Œæ— æ³•é€€å‡ºï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´åŠ ä¸¥å‰çš„é€€å‡ºæ–¹æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os._exit(<span class="number">3</span>)</span><br></pre></td></tr></table></figure><p>ç»è¿‡å°è¯•ï¼Œè¿™ä¸ªä»£ç å®Œç¾åœ°ç¬¦åˆäº†æˆ‘ä»¬çš„è¦æ±‚ï¼Œä¸»ç¨‹åºé‡åˆ°â€œ3â€ä½œä¸ºé€€å‡ºä»£ç åé‡æ–°åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œå®Œç»“æ’’èŠ±</p>]]></content>
    
    
    <summary type="html">è¿™ç¯‡æ–‡ç« ä»‹ç»äº†ä½œè€…åœ¨ç¼–å†™ Qexo é¡¹ç›®è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ï¼šå¦‚ä½•åœ¨æ›´æ–°å®Œæˆåè®©ç¨‹åºè‡ªåŠ¨é‡å¯ã€‚ä½œè€…é€šè¿‡å…³é—­ç¨‹åºçš„è‡ªåŠ¨é‡è½½åŠŸèƒ½æ¥å®ç°æ‰‹åŠ¨æ§åˆ¶ï¼Œç„¶åé€šè¿‡ä»£ç å®ç°å­è¿›ç¨‹çš„é€€å‡ºå’Œé‡æ–°åˆ›å»ºæ¥è¾¾åˆ°é‡å¯ç¨‹åºçš„ç›®çš„ã€‚ä½œè€…æ€»ç»“å‡ºçš„è§£å†³æ–¹æ³•å¯ä»¥åœ¨ Python ç¯å¢ƒä¸­ä½¿ç”¨ã€‚</summary>
    
    
    
    <category term="ç¼–ç¨‹ä»£ç " scheme="https://oplog.cn/categories/%E7%BC%96%E7%A8%8B%E4%BB%A3%E7%A0%81/"/>
    
    
    <category term="django" scheme="https://oplog.cn/tags/django/"/>
    
    <category term="æºç åˆ†æ" scheme="https://oplog.cn/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ºHexoåšå®¢æ·»åŠ å‹é“¾ç³»ç»Ÿ</title>
    <link href="https://oplog.cn/archives/28219.html"/>
    <id>https://oplog.cn/archives/28219.html</id>
    <published>2022-07-06T11:51:08.000Z</published>
    <updated>2022-07-08T13:14:15.000Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ä¸ªæ•™ç¨‹å°†å¸®åŠ©ä½ åœ¨å‡ åˆ†é’Ÿå†…åˆ©ç”¨ Qexo ä¸ºåšå®¢æ¥å…¥å‹é“¾ç³»ç»Ÿ</p><p><img src="https://s2.loli.net/2024/07/19/NKhuBMOeTqlHYc7.png" alt=""></p><h2 id="é¡»çŸ¥">é¡»çŸ¥</h2><p>å‹é“¾åŠŸèƒ½è¦æ±‚ Qexo &gt;= 1.5.0 ä¸”ç”¨æˆ·æµè§ˆå™¨å¿…é¡»æ”¯æŒæ–‡ä»¶ä¸Šä¼ </p><h2 id="æ·»åŠ å‹é“¾">æ·»åŠ å‹é“¾</h2><ol><li>åœ¨ Qexo ä¾§è¾¹æ æ‰¾åˆ° <strong>å‹é“¾</strong> ç‚¹å‡»è¿›å…¥</li><li>ç‚¹å‡»å³ä¸Šè§’ <strong>æ–°å¢å‹é“¾</strong> è¾“å…¥ç«™ç‚¹åç§°ã€é“¾æ¥ç­‰æ•°æ® å…¶ä¸­é“¾æ¥åŠå›¾ç‰‡é“¾æ¥<strong>å¿…é¡»åŒ…å«httpåè®®å¤´</strong></li><li>ç‚¹å‡» <strong>ç¡®å®š</strong> æŒ‰é”®ä¿å­˜å‹é“¾æ•°æ®</li></ol><h2 id="æ¥å…¥åšå®¢">æ¥å…¥åšå®¢</h2><ol><li>åœ¨æ ¹ç›®å½•æ‰“å¼€å‘½ä»¤è¡Œ è¾“å…¥å‘½ä»¤<strong>åˆ›å»ºé¡µé¢</strong></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page links</span><br></pre></td></tr></table></figure><ol start="2"><li>æ‰“å¼€ <strong>source/links/index.md</strong> ä¿®æ”¹é¡µé¢é…ç½®</li><li>åœ¨é¡µé¢å†…å¼•å…¥ Qexo-Friends å°†å…¶ä¸­çš„ <strong>${SITE}</strong> æ”¹ä¸ºä½ çš„ Qexo é“¾æ¥ ä¾‹å¦‚ <strong><a href="https://admin.mysite.com">https://admin.mysite.com</a></strong></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;qexo-friends&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/qexo-static@1.1.3/hexo/friends/friends.css&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/qexo-static@1.1.3/hexo/friends/friends.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">loadQexoFriends</span>(<span class="string">&quot;qexo-friends&quot;</span>, <span class="string">&quot;$&#123;SITE&#125;&quot;</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="4"><li>å°†åšå®¢æ¨é€è‡³ä½ çš„ Github ä»“åº“</li></ol><h2 id="ä¸»é¢˜é€‚é…">ä¸»é¢˜é€‚é…</h2><p>æˆ‘å’Œå…¶ä»–å¼€å‘è€…ä¸ºéƒ¨åˆ†ä¸»é¢˜æä¾›äº†è¿›ä¸€æ­¥çš„é€‚é…ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯ç›¸åŒä¸»é¢˜ï¼Œå¯ä»¥å°è¯•é…ç½®</p><h3 id="Icarus">Icarus</h3><p>ä¾§è¾¹æ : <code>layout\widget\qexo_friends.jsx</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; <span class="variable constant_">URL</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;url&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">Component</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;inferno&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; cacheComponent &#125; = <span class="built_in">require</span>(<span class="string">&#x27;hexo-component-inferno/lib/util/cache&#x27;</span>);</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QexoLinks</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> js = <span class="string">`loadSideBarFriends(&#x27;qexo-sidebar-friends&#x27;, &#x27;https://QexoåŸŸå&#x27;);`</span>;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card widget&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-content&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;menu&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;menu-label&quot;</span>&gt;</span>å‹æƒ…é“¾æ¥<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;menu-list qexo-sidebar-friends&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">script</span> <span class="attr">dangerouslySetInnerHTML</span>=<span class="string">&#123;&#123;</span> <span class="attr">__html:</span> <span class="attr">js</span> &#125;&#125;&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;link-more button is-light is-small size-small&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/links/&quot;</span>&gt;</span>æŸ¥çœ‹æ›´å¤š<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">QexoLinks</span>;</span><br></pre></td></tr></table></figure><p>å‹é“¾ç”³è¯·é¡µé¢:</p><p><img src="https://s2.loli.net/2024/07/19/s3YPnv4bjpKSRuW.png" alt=""></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span> <span class="attr">class</span>=<span class="string">&quot;message is-info&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;message-header&quot;</span>&gt;</span></span><br><span class="line">        ç”³è¯·å‹é“¾</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;message-body&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-ask-friend&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;field&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;label&quot;</span>&gt;</span>åç§°<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;control has-icons-left&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;input&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;æ‚¨çš„ç«™ç‚¹å&quot;</span> <span class="attr">id</span>=<span class="string">&quot;friend-name&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;icon is-small is-left&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-signature&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;field&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;label&quot;</span>&gt;</span>é“¾æ¥<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;control has-icons-left&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;input&quot;</span> <span class="attr">type</span>=<span class="string">&quot;url&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;æ‚¨ç½‘ç«™é¦–é¡µçš„é“¾æ¥&quot;</span> <span class="attr">id</span>=<span class="string">&quot;friend-link&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;icon is-small is-left&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-link&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;help &quot;</span>&gt;</span>è¯·ç¡®ä¿ç«™ç‚¹å¯è®¿é—®ï¼<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;field&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;label&quot;</span>&gt;</span>å›¾æ ‡<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;control has-icons-left&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;input&quot;</span> <span class="attr">type</span>=<span class="string">&quot;url&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;æ‚¨çš„ç½‘ç«™å›¾æ ‡(å°½é‡ä¸ºæ­£åœ†å½¢)&quot;</span> <span class="attr">id</span>=<span class="string">&quot;friend-icon&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;icon is-small is-left&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-image&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;field&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;label&quot;</span>&gt;</span>æè¿°<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;control has-icons-left&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;input&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·ç”¨ä¸€å¥è¯ä»‹ç»æ‚¨çš„ç«™ç‚¹&quot;</span> <span class="attr">id</span>=<span class="string">&quot;friend-des&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;icon is-small is-left&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-info&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;field&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;control&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;friend-check&quot;</span>/&gt;</span> æˆ‘æäº¤çš„ä¸æ˜¯æ— æ„ä¹‰ä¿¡æ¯</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;field is-grouped&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;control&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;button is-info&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;askFriend(event)&quot;</span>&gt;</span>ç”³è¯·å‹é“¾<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://recaptcha.net/recaptcha/api.js?render=reCaptchaå¯†é’¥&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">TestUrl</span>(<span class="params">url</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> <span class="title class_">Expression</span>=<span class="regexp">/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&amp;=]*)?/</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> objExp=<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="title class_">Expression</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span>(objExp.<span class="title function_">test</span>(url) != <span class="literal">true</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">askFriend</span> (<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> check = $(<span class="string">&quot;#friend-check&quot;</span>).<span class="title function_">is</span>(<span class="string">&quot;:checked&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> name = $(<span class="string">&quot;#friend-name&quot;</span>).<span class="title function_">val</span>();</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> url = $(<span class="string">&quot;#friend-link&quot;</span>).<span class="title function_">val</span>();</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> image = $(<span class="string">&quot;#friend-icon&quot;</span>).<span class="title function_">val</span>();</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> des = $(<span class="string">&quot;#friend-des&quot;</span>).<span class="title function_">val</span>();</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span>(!check)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">&quot;è¯·å‹¾é€‰\&quot;æˆ‘æäº¤çš„ä¸æ˜¯æ— æ„ä¹‰ä¿¡æ¯\&quot;&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span>(!(name&amp;&amp;url&amp;&amp;image&amp;&amp;des))&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">&quot;ä¿¡æ¯å¡«å†™ä¸å®Œæ•´! &quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (!(<span class="title class_">TestUrl</span>(url)))&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">&quot;URLæ ¼å¼é”™è¯¯! éœ€è¦åŒ…å«HTTPåè®®å¤´! &quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (!(<span class="title class_">TestUrl</span>(image)))&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">&quot;å›¾ç‰‡URLæ ¼å¼é”™è¯¯! éœ€è¦åŒ…å«HTTPåè®®å¤´! &quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    event.<span class="property">target</span>.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;is-loading&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    grecaptcha.<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          grecaptcha.<span class="title function_">execute</span>(<span class="string">&#x27;reCaptchaå¯†é’¥&#x27;</span>, &#123;<span class="attr">action</span>: <span class="string">&#x27;submit&#x27;</span>&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">token</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">              $.<span class="title function_">ajax</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&#x27;get&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">cache</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">url</span>: url,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">dataType</span>: <span class="string">&quot;jsonp&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">async</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">processData</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//timeout:10000, </span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">complete</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span>(data.<span class="property">status</span>==<span class="number">200</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    $.<span class="title function_">ajax</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>: <span class="string">&#x27;POST&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">dataType</span>: <span class="string">&quot;json&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&quot;name&quot;</span>: name,</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&quot;url&quot;</span>: url,</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&quot;image&quot;</span>: image,</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&quot;description&quot;</span>: des,</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&quot;verify&quot;</span>: token,</span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">url</span>: <span class="string">&#x27;https://QEXOåŸŸå/pub/ask_friend/&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="title function_">alert</span>(data.<span class="property">msg</span>);</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;);&#125;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">alert</span>(<span class="string">&quot;URLæ— æ³•è¿é€š!&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                    event.<span class="property">target</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;is-loading&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;);</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…¶ä»–ä¸»é¢˜å¯å‚è€ƒ <a href="https://github.com/Qexo/Qexo-Friends">Qexo/Qexo-Friends: é’ˆå¯¹å„Hexo-Themeçš„å‹é“¾é€‚é…</a></p>]]></content>
    
    
    <summary type="html">è¿™ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•åˆ©ç”¨ Qexo ä¸ºåšå®¢æ¥å…¥å‹é“¾ç³»ç»Ÿã€‚é¦–å…ˆéœ€è¦æ»¡è¶³ Qexo &gt;= 1.5.0 å’Œç”¨æˆ·æµè§ˆå™¨æ”¯æŒæ–‡ä»¶ä¸Šä¼ çš„è¦æ±‚ï¼Œç„¶ååœ¨ Qexo ä¾§è¾¹æ ä¸­æ·»åŠ å‹é“¾å¹¶ä¿å­˜ï¼Œåœ¨åšå®¢æ ¹ç›®å½•æ‰“å¼€å‘½ä»¤è¡Œåä¿®æ”¹é¡µé¢é…ç½®ï¼Œå†å°†åšå®¢æ¨é€è‡³ GitHub ä»“åº“ã€‚æ–‡ç« è¿˜æä¾›äº†éƒ¨åˆ†ä¸»é¢˜çš„å‹é“¾é€‚é…æ–¹æ³•åŠå‹é“¾ç”³è¯·é¡µé¢çš„ä»£ç ç¤ºä¾‹ã€‚</summary>
    
    
    
    <category term="å»ºç«™æ•™ç¨‹" scheme="https://oplog.cn/categories/%E5%BB%BA%E7%AB%99%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="hexo" scheme="https://oplog.cn/tags/hexo/"/>
    
    <category term="qexo" scheme="https://oplog.cn/tags/qexo/"/>
    
    <category term="å‹æƒ…é“¾æ¥" scheme="https://oplog.cn/tags/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/"/>
    
  </entry>
  
  <entry>
    <title>Qexo - å…¨æ–°Hexoåœ¨çº¿ç®¡ç†å™¨</title>
    <link href="https://oplog.cn/archives/59651.html"/>
    <id>https://oplog.cn/archives/59651.html</id>
    <published>2021-11-21T14:52:00.000Z</published>
    <updated>2024-07-19T14:12:19.867Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Qexo</strong> æ˜¯ä¸€ä¸ªå¿«é€Ÿã€å¼ºå¤§ã€ç¾è§‚çš„åœ¨çº¿ <strong>Hexo ç¼–è¾‘å™¨</strong>ã€‚ä½¿ç”¨ GPL3.0 <strong>å¼€æº</strong>åè®®ã€‚æ”¯æŒåŒ…æ‹¬ä¸”ä¸é™äºåœ¨ <strong>Vercel</strong> ç­‰å¹³å°éƒ¨ç½²ï¼Œä¸ºæ‚¨çš„é™æ€åšå®¢æ·»åŠ <strong>åŠ¨æ€</strong>çš„å…ƒç´ <br><img src="https://s2.loli.net/2024/07/19/r1XJPHnYANKbcRl.png" alt=""></p><p>è¯¥æ–‡ç« å¯èƒ½ä¸ä¼šéšç‰ˆæœ¬æ›´æ–°è€Œæ›´æ–°ï¼Œæ•™ç¨‹è¯·ç§»æ­¥ <a href="https://oplog.cn/qexo">Qexoæ–‡æ¡£</a></p><h2 id="ç‰¹è‰²åŠŸèƒ½">ç‰¹è‰²åŠŸèƒ½</h2><ul><li><p><strong>æ–‡ç« ç®¡ç†~å…¨æ–°ç•Œé¢</strong></p><ul><li>2.0ç‰ˆæœ¬çš„ Qexo é‡æ–°è®¾è®¡äº†æ–‡ç« ç¼–è¾‘é¡µé¢ï¼Œæ‚¨å¯ä»¥æ›´ä¼˜é›…åœ°è¿›è¡Œæ–‡ç« ç¼–è¾‘</li><li>æ”¯æŒå¤šç§å›¾åºŠä¸Šä¼ ï¼Œä¸Šä¼ å°½åœ¨å¼¹æŒ‡ä¹‹é—´</li></ul></li><li><p><strong>ç¼“å­˜åŠŸèƒ½~é€Ÿåº¦è‡³ä¸Š</strong></p><ul><li>æ”¯æŒå°†æ–‡ç« ã€é¡µé¢ã€é…ç½®ç´¢å¼•ä¸€é”®ç¼“å­˜è‡³æ•°æ®åº“ï¼Œä¿è¯æ‚¨çš„é«˜é€Ÿè®¿é—®</li><li>Webhook å…¨è‡ªåŠ¨æ¸…é™¤ç¼“å­˜ï¼Œæ—¶åˆ»ä¿æŒæ•°æ®æœ€æ–°</li></ul></li><li><p><strong>éº»é›€è™½å°~äº”è„ä¿±å…¨</strong></p><ul><li>æ¨¡å—åŒ–æ¶æ„</li><li>æ”¯æŒå¤šç§ Hexo æ‰˜ç®¡å•† Githubã€Gitlabã€æœ¬åœ°</li><li>å¤šç§å›¾åºŠåè®®æ”¯æŒ Githubã€S3ã€FTPã€è¿œç¨‹API</li><li>Markdown è¯­æ³• + å¤šç§ç¼–è¾‘ç•Œé¢ï¼Œæ‰€è§å³æ‰€å¾—</li><li>é€šçŸ¥ä¸­å¿ƒ é€šçŸ¥æ  + çº¢ç‚¹æ ‡è®°</li><li>å¤šå½¢å¼æ¨é€ Barkã€Telegramã€Pushdeerã€Wechatâ€¦</li><li>reCaptcha é˜²æ­¢åƒåœ¾ä¿¡æ¯ä¾µå®³</li><li>å‹æƒ…é“¾æ¥ å‰ç«¯ç”³è¯·ï¼Œä¸€é”®æ¥å…¥</li><li>è‡ªåŠ¨æ›´æ–° ç®€å•æ–¹ä¾¿ï¼Œä¿æŒæœ€æ–°</li><li>è‡ªå®šå­—æ®µ / ç«™ç‚¹ç»Ÿè®¡ / é¡µé¢ç®¡ç† / é…ç½®ç¼–è¾‘</li><li>è¯„è®ºé€šçŸ¥ / å›¾ç‰‡ä¸Šä¼  / æ ‡è¯†ç”Ÿæˆ / API æ‹“å±•</li></ul></li></ul><h2 id="å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹</h2><p>Github å¼€æºä»“åº“ï¼š<a href="https://github.com/am-abudu/Qexo">https://github.com/am-abudu/Qexo</a><br>Wikiï¼š<a href="https://oplog.cn/qexo">https://oplog.cn/qexo</a></p><h3 id="æ— æœåŠ¡å™¨éƒ¨ç½²">æ— æœåŠ¡å™¨éƒ¨ç½²</h3><p>æœ¬ç¨‹åºæ”¯æŒæœ¬åœ°éƒ¨ç½²æˆ– Vercel+Mysql/PlanetScaleï¼Œè¯·æŸ¥çœ‹ <a href="https://oplog.cn/qexo/">æ–‡æ¡£</a> ä»¥äº†è§£æ›´å¤š</p><h3 id="å¸¸è§é—®é¢˜">å¸¸è§é—®é¢˜</h3><h4 id="ä»€ä¹ˆæ˜¯-API-å¯†é’¥">ä»€ä¹ˆæ˜¯ API å¯†é’¥</h4><p>åœ¨æ‚¨å®Œæˆåˆå§‹åŒ–ä¹‹åå¯åœ¨è®¾ç½®ç•Œé¢ä¿®æ”¹/åˆ›å»º API å¯†é’¥ï¼Œç”¨äº Webhook ä¸­çš„èº«ä»½éªŒè¯ã€‚è‹¥ç•™ç©ºç³»ç»Ÿä¼šéšæœºç”Ÿæˆä¸€ä¸ª API å¯†é’¥</p><h4 id="ä¸ºä»€ä¹ˆæˆ‘æ–°å»ºçš„æ–‡ç« æ²¡æœ‰æ˜¾ç¤º-Qexo-å¦‚ä½•ä¿è¯æ–‡ä»¶æœ€æ–°">ä¸ºä»€ä¹ˆæˆ‘æ–°å»ºçš„æ–‡ç« æ²¡æœ‰æ˜¾ç¤º | Qexo å¦‚ä½•ä¿è¯æ–‡ä»¶æœ€æ–°</h4><p>Qexo ä¸ºäº†åŠ å¿«è®¿é—®é€Ÿåº¦å¼•è¿›äº†ç¼“å­˜æœºåˆ¶ï¼Œä½ å¯ä»¥åœ¨è®¾ç½®æ¸…é™¤ç¼“å­˜ &amp; è®¾ç½® Webhookè‡ªåŠ¨æ¸…é™¤ç¼“å­˜</p><h4 id="Webhook-æ˜¯ä»€ä¹ˆ">Webhook æ˜¯ä»€ä¹ˆ</h4><p>Qexo ä¸­çš„ Webhook æŒ‡ /api/webhook ç”¨äºè‡ªåŠ¨åŒ–æ“ä½œï¼Œç›®å‰å¯ç”¨äºè‡ªåŠ¨æ¸…é™¤ç¼“å­˜</p><h4 id="å®‰è£…åå‡ºç°-504-Time-out">å®‰è£…åå‡ºç° 504 Time out</h4><ol><li>æ‚¨çš„æ•°æ®åº“æ²¡æœ‰æ­£ç¡®é…ç½®æˆ–æ²¡æœ‰å…è®¸æ‰€æœ‰ IP ç™½åå•è®¿é—®ï¼Œå¯åœ¨ MongoDB æ§åˆ¶å°è¿›è¡Œä¿®æ”¹ï¼Œä¿®æ”¹å®Œæˆå<strong>ä¸€å®šè¦é‡æ–°éƒ¨ç½²</strong></li><li>åˆ é™¤å¹¶é‡å»ºæ•°æ®åº“ï¼Œæ³¨æ„åŒºåŸŸ<strong>ä¸€å®šè¦é€‰æ‹© AWS / N. Virginia (us-east-1)</strong></li></ol><h4 id="å®‰è£…-æ›´æ–°åå‡ºç°-5xx-é”™è¯¯">å®‰è£…/æ›´æ–°åå‡ºç° 5xx é”™è¯¯</h4><p>Qexo æ¯ä¸ª Release éƒ½ç»è¿‡ Dev åˆ†æ”¯çš„æµ‹è¯•ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸ä¼šå‡ºç°è¾ƒå¤§é—®é¢˜ï¼Œå¦‚æœä½ é‡åˆ°äº†500ç­‰é”™è¯¯ï¼Œè¯·å°è¯•ä»¥ä¸‹æ­¥éª¤</p><ol><li>æ£€æŸ¥æ•°æ®åº“é…ç½®</li><li>æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ / ç¨‹åºç¼“å­˜</li><li>åœ¨ <code>/settings.html</code> é¡µé¢æ£€æŸ¥ Hexo æœåŠ¡å•†é…ç½®å¹¶ç‚¹å‡»ä¿å­˜</li><li>åœ¨ <code>/advanced.html</code> ä¸­ç‚¹å‡»â€œä¿®å¤â€æŒ‰é’®</li><li>è‹¥æ— æ³•ç™»å½•è¯·ä½¿ç”¨API: <code>/pub/fix?token=(Your API Key)</code></li><li>ä¿ç•™æ•°æ®åº“é…ç½®çš„ç¯å¢ƒå˜é‡å¹¶é‡æ–°éƒ¨ç½²</li><li>é‡æ–°éƒ¨ç½²æ•´ä¸ªç¨‹åº</li><li>å°è¯• Dev åˆ†æ”¯</li></ol><h4 id="AssertionError-â€œxxx-object-â€¦-its-id-attribute-is-set-to-None-â€">AssertionError(â€œxxx object â€¦ its id attribute is set to None.â€)</h4><p>è¯·æ£€æŸ¥ä½ æ˜¯å¦æ›¾ä½¿ç”¨è¿‡0.01æˆ–0.1ç‰ˆæœ¬ï¼Œè¿™ä¸¤ä¸ªç‰ˆæœ¬æœ‰ä¸¥é‡é—®é¢˜ï¼Œè¯·é‡æ–°åˆ›å»ºæ•°æ®åº“å¹¶éƒ¨ç½²</p><h4 id="å¦‚ä½•åˆ›å»ºå­ç›®å½•ä¸‹çš„æ–‡ç« ">å¦‚ä½•åˆ›å»ºå­ç›®å½•ä¸‹çš„æ–‡ç« </h4><p>åœ¨æ–‡ç« åä¸€æ å¡«å†™ dir/filename ä¾‹å¦‚æ‚¨å¸Œæœ›åˆ›å»º source/_posts/about/me.md åˆ™éœ€è¦è¾“å…¥ about/me</p><h4 id="KeyError-â€˜XXXâ€™">KeyError: â€˜XXXâ€™</h4><p>è¡¨ç¤ºå¹¶æ²¡æœ‰è·å–åˆ° â€œXXXâ€ è¿™ä¸ªç¯å¢ƒå˜é‡ï¼Œè¯·æ ¹æ®è¡¨æ ¼æ·»åŠ å Redeploy</p><table><thead><tr><th>åç§°</th><th>æ„ä¹‰</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>DOMAINS</td><td>ä½ æ‰€å…è®¸é€šä¿¡çš„å®‰å…¨åŸŸå æ³¨æ„åŒå¼•å·è€Œä¸”æ˜¯è‹±æ–‡åŠè§’</td><td>[â€œ.vercel.appâ€, â€œ127.0.0.1â€, â€œ.yoursite.comâ€]</td></tr><tr><td>MONGODB_HOST</td><td>MongoDB æ•°æ®åº“è¿æ¥åœ°å€</td><td>mongodb+srv://cluster0.xxxx.mongodb.net</td></tr><tr><td>MONGODB_PORT</td><td>MongoDB æ•°æ®åº“é€šä¿¡ç«¯å£ é»˜è®¤åº”å¡«å†™ 27017</td><td>27017</td></tr><tr><td>MONGODB_USER</td><td>MongoDB æ•°æ®åº“ç”¨æˆ·å</td><td>abudu</td></tr><tr><td>MONGODB_DB</td><td>MongoDB æ•°æ®åº“å</td><td>Cluster0</td></tr><tr><td>MONGODB_PASS</td><td>MongoDB æ•°æ®åº“å¯†ç </td><td>JWo0xxxxxxxx</td></tr></tbody></table><h4 id="Github-é…ç½®æ ¡éªŒé”™è¯¯">Github é…ç½®æ ¡éªŒé”™è¯¯</h4><p>å¦‚æœé…ç½®ä¸­é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥è®¿é—® <a href="https://hexoplusplus.cronfly.workers.dev/?step=start">HPPæ ¡éªŒåŠ©æ‰‹</a> è‡ªæ£€é…ç½®ï¼Œè‹¥ç¡®è®¤æ— è¯¯ï¼Œå¯æ£€æŸ¥ä»“åº“å†…æ˜¯å¦æœ‰å·²ç»å‘å¸ƒçš„æ–‡ç« </p><p>æ³¨æ„ï¼šGithub ä»“åº“ä¸€å®šä¸ºæ‚¨ Hexo <strong>è‡ªåŠ¨åŒ–éƒ¨ç½²</strong>æ‰€åœ¨çš„ä»“åº“</p><h4 id="Vercel-ç”¨é‡é—®é¢˜">Vercel ç”¨é‡é—®é¢˜</h4><p>Vercel çš„æ— æœåŠ¡å™¨å‡½æ•°ç”¨é‡å¯¹äº Qexo æ¥è¯´æ˜¯å……è£•çš„ï¼Œä½†è¿™ä¾ç„¶æŠµæŒ¡ä¸ä½æœ‰å¿ƒä¹‹äººçš„æ”»å‡»è¡Œä¸ºï¼Œæ‰€ä»¥è¦ä¿æŠ¤å¥½è‡ªå·±åå°åœ°å€ï¼Œä¸è¿‡å¥½åœ¨ Vercel ä¸ä¼šéšæ„æ‰£è´¹ï¼Œæ‰€ä»¥åœ¨èµ„æºç”¨å®Œä¹‹åå¹¶ä¸ä¼šäº§ç”Ÿè´¹ç”¨ï¼Œè‹¥ä¾ç„¶ä¸æ”¾å¿ƒå¯ä»¥è€ƒè™‘éƒ¨ç½²åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Š <a href="https://github.com/am-abudu/Qexo/wiki/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2">#æœåŠ¡å™¨éƒ¨ç½²#</a></p><h4 id="åœ¨çº¿æ›´æ–°å¤±è´¥äº†">åœ¨çº¿æ›´æ–°å¤±è´¥äº†</h4><p>æ£€æŸ¥é«˜çº§è®¾ç½®ä¸­çš„ VERCEL_TOKEN å’Œ PROJECT_ID æ˜¯å¦æ­£ç¡®ä¸º Qexo çš„éƒ¨ç½²é¡¹ç›®</p><h4 id="å…¶ä»–é—®é¢˜">å…¶ä»–é—®é¢˜</h4><p>å¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œå¯ä»¥å‘ <a href="https://github.com/am-abudu/Qexo/issues">issue</a> æˆ–åŠ å…¥ <a href="https://jq.qq.com/?_wv=1027&amp;k=rAcnhzqK">HexoPlusPlusäº¤æµç¾¤</a> è¯¢é—®</p><h3 id="å¦‚ä½•æ›´æ–°">å¦‚ä½•æ›´æ–°</h3><h4 id="ä¸€é”®æ›´æ–°">ä¸€é”®æ›´æ–°</h4><ul><li>åœ¨ Settings é¡µå®Œæˆåœ¨çº¿æ›´æ–°ç›¸å…³è®¾ç½® -&gt; è¿œç¨‹åˆ†æ”¯å¯ä¸ºmaster(è¾ƒç¨³å®š)/dev(æµ‹è¯•ç‰ˆ)</li><li>åˆ·æ–°é¡µé¢ ç‚¹å‡»â€œåŒæ­¥æ›´æ–°â€</li></ul><h4 id="æ‰‹åŠ¨æ›´æ–°">æ‰‹åŠ¨æ›´æ–°</h4><ul><li>åˆ›å»º Pull Request å¹¶æ‹‰å– Qexo ä¸»åˆ†æ”¯æºç </li></ul><h2 id="é¸£è°¢">é¸£è°¢</h2><p>Qexo çš„è¯ç”Ÿç¦»ä¸å¼€è¿™äº›é¡¹ç›®çš„ä»˜å‡º</p><ul><li><a href="https://ace.c9.io/">Ace</a></li><li><a href="https://github.com/creativetimofficial/argon-dashboard-django">Argon-Dashboard-Django</a></li><li><a href="https://getbootstrap.com/">Bootstrap</a></li><li><a href="https://github.com/mouse0270/bootstrap-notify">Bootstrap-Notify</a></li><li><a href="https://github.com/django/django">Django</a></li><li><a href="https://github.com/nesdis/djongo">Djongo</a></li><li><a href="https://github.com/Vanessa219/vditor">Vditor</a></li><li><a href="https://github.com/HexoPlusPlus/HexoPlusPlus">HexoPlusPlus</a></li><li><a href="https://jquery.com/">jQuery</a></li><li><a href="https://github.com/ardnt/vercel-python-wsgi">Vercel-Python-WSGI</a></li><li>â€¦</li></ul>]]></content>
    
    
    <summary type="html">è¿™ç¯‡æ–‡ç« ä»‹ç»äº†åœ¨çº¿Â HexoÂ ç¼–è¾‘å™¨Â Qexoï¼Œå®ƒä½¿ç”¨GPL3.0å¼€æºåè®®ã€‚Qexoæ”¯æŒåœ¨Vercelç­‰å¹³å°éƒ¨ç½²ï¼Œä¸ºé™æ€åšå®¢æ·»åŠ åŠ¨æ€å…ƒç´ ã€‚Qexoå…·æœ‰å¤šç§ç‰¹è‰²åŠŸèƒ½ï¼Œä¾‹å¦‚æ”¯æŒå¤šç§å›¾åºŠä¸Šä¼ ã€ç¼“å­˜åŠŸèƒ½ã€æ”¯æŒå¤šç§Hexoæ‰˜ç®¡å•†ã€å¤šç§å›¾åºŠåè®®æ”¯æŒã€é€šçŸ¥ä¸­å¿ƒç­‰ã€‚åŒæ—¶ï¼Œæ–‡ç« è¿˜ä»‹ç»äº†å¦‚ä½•åœ¨Vercelä¸Šè¿›è¡Œæ— æœåŠ¡å™¨éƒ¨ç½²ã€‚æ–‡ç« æœ€åè¿˜å›ç­”äº†ä¸€äº›å¸¸è§é—®é¢˜ï¼Œä¾‹å¦‚å¦‚ä½•ä¿æŒæ–‡ä»¶æœ€æ–°ã€ä¸ºä»€ä¹ˆæ–°å»ºçš„æ–‡ç« æ²¡æœ‰æ˜¾ç¤ºç­‰ã€‚</summary>
    
    
    
    <category term="å»ºç«™æ•™ç¨‹" scheme="https://oplog.cn/categories/%E5%BB%BA%E7%AB%99%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Hexo" scheme="https://oplog.cn/tags/Hexo/"/>
    
    <category term="Qexo" scheme="https://oplog.cn/tags/Qexo/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨æ¢¦ç‰›ç½‘ä¸ºç½‘ç«™æ¥å…¥Cloudflareå¹¶è‡ªé€‰IP</title>
    <link href="https://oplog.cn/archives/11593.html"/>
    <id>https://oplog.cn/archives/11593.html</id>
    <published>2021-05-19T14:12:20.000Z</published>
    <updated>2022-08-13T04:09:41.000Z</updated>
    
    <content type="html"><![CDATA[<article class="message is-success"><div class="message-body">æœ¬æ–‡äº2022-6-14é‡æ–°ç¼–è¾‘</div></article><article class="message is-danger"><div class="message-body"><p>ç»åšä¸»æµ‹è¯•ï¼Œè¯¥æ–¹æ¡ˆå·²å¤±æ•ˆï¼Œè¯·ä½¿ç”¨SaaSæˆ–Page Funtionåä»£è¿›è¡Œè‡ªé€‰èŠ‚ç‚¹ï¼Œè‹¥éœ€è¦æ¢¦ç‰›é‚€è¯·ç ä¾ç„¶å¯ä»¥å‘æˆ‘å‘é€é‚®ä»¶</p></div></article><p><em>ç”±äºé‚€è¯·ç æœ‰é™ï¼Œéœ€è¦é‚€è¯·ç çš„æœ‹å‹å¯ä»¥abudulin@foxmail.comè”ç³»æˆ‘</em></p><p><strong>è‡ªé€‰IPå¹¶ä¸æ˜¯å®˜æ–¹è®¤å¯çš„æ“ä½œï¼Œå­˜åœ¨å°ç¦é£é™©ï¼Œç”¨å‰ä¸‰æ€</strong></p><p>Cloudflareæ˜¯ä¸€å®¶ç¾å›½çš„CDNæä¾›å•†ï¼Œéå¸¸è‰¯å¿ƒçš„æä¾›å…è´¹çš„<strong>CDN</strong>ï¼Œä½†æ˜¯ç”±äºä¸€äº›ä¸å¯æŠ—æ‹’å› ç´ ï¼Œå›½å†…çš„è®¿é—®é€Ÿåº¦å¥‡æ…¢ï¼Œäºæ˜¯ä¹å°±æœ‰äº†è‡ªé€‰IPçš„ç©æ³•ï¼Œä½†æ˜¯è¿‘æœŸç¬¨ç‰›ç½‘åœæ­¢æœåŠ¡ï¼Œæ‰€ä»¥æ¢¦ç‰›ç½‘ä¼¼ä¹æˆä¸ºäº†æ›´å¥½çš„é€‰æ‹©</p><h2 id="ä½¿ç”¨æ¢¦ç‰›ç½‘æ¥å…¥åŸŸå">ä½¿ç”¨æ¢¦ç‰›ç½‘æ¥å…¥åŸŸå</h2><h3 id="æ³¨å†Œæ¢¦ç‰›ç½‘">æ³¨å†Œæ¢¦ç‰›ç½‘</h3><p>æ‰“å¼€<a href="https://mnn.tw/">æ¢¦ç‰›ç½‘å®˜ç½‘mnn.tw</a>ï¼Œç‚¹å‡»ç™»å½• -&gt; ç«‹å³æ³¨å†Œ  è¾“å…¥ä¿¡æ¯å’Œé‚€è¯·ç å®Œæˆæ³¨å†Œ</p><h3 id="æ·»åŠ Cloudflareè´¦æˆ·">æ·»åŠ Cloudflareè´¦æˆ·</h3><p>æ‰“å¼€<a href="https://mnn.tw/panel/user/index">ç®¡ç†é¢æ¿</a>ï¼Œåœ¨å·¦ä¾§å¯¼èˆªæ é€‰æ‹©Cloudflareç®¡ç†-&gt;ç»‘å®šè´¦æˆ·è¿›è¡Œè´¦æˆ·ç»‘å®š</p><h3 id="æ·»åŠ åŸŸå">æ·»åŠ åŸŸå</h3><p>æ‰“å¼€Cloudflareç®¡ç†-&gt;æ·»åŠ åŸŸå-&gt;Cname/IPæ¥å…¥ï¼Œè¾“å…¥åŸŸåä¿¡æ¯åç‚¹å‡»ç«‹å³æäº¤å³å¯</p><h2 id="è®¾ç½®è§£æ">è®¾ç½®è§£æ</h2><p>æ‰“å¼€Cloudflareç®¡ç†-&gt;åŸŸååˆ—è¡¨ï¼Œè¿™é‡Œå°±èƒ½çœ‹åˆ°ä½ åˆšåˆšæ·»åŠ çš„åŸŸåäº†ï¼Œæ¥ç€ç‚¹å‡»è¿™ä¸ªåŸŸåï¼Œè¿›å…¥ç®¡ç†é¢æ¿ ç‚¹å‡»è§£æï¼Œæ·»åŠ ä½ è¦è§£æçš„è®°å½•ï¼Œåœ¨DNSç®¡ç†å•†è§£æåˆ°Cloudflareç»™å‡ºçš„CNAMEå³å¯</p><h2 id="èŠ‚ç‚¹æ¨è">èŠ‚ç‚¹æ¨è</h2><article class="message is-warning"><div class="message-body"><p>è‡ªé€‰IPå¹¶ä¸æ˜¯å®˜æ–¹è®¤å¯çš„æ“ä½œï¼Œå­˜åœ¨å°ç¦é£é™©ï¼Œç”¨å‰ä¸‰æ€</p></div></article><p><strong>æ³¨æ„ï¼šå›½å¤–çº¿è·¯è¯·åŠ¡å¿…è§£æåˆ°cloudflareç»™ä½ çš„CNAMEèŠ‚ç‚¹ï¼Œé˜²æ­¢SSLç¿»è½¦</strong></p><article class="message is-info"><div class="message-header"><p>ç™¾åº¦äº‘åŠ é€Ÿåˆä½œèŠ‚ç‚¹</p></div><div class="message-body"><p>162.159.208.4-162.159.208.103</p><p>162.159.209.4-162.159.209.103</p><p>162.159.210.4-162.159.210.103</p><p>162.159.211.4-162.159.211.103</p></div></article><p>ä½ å¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰å‘è¡¨çš„åšæ–‡<a href="https://oplog.cn/archives/45814.html">Cloudflareè‡ªé€‰èŠ‚ç‚¹ - æ¨è&amp;ç°æˆç­”æ¡ˆ</a> è¿›è¡Œè‡ªé€‰IPï¼Œä¹Ÿå¯ä»¥è‡ªè¡Œå¯»æ‰¾IP</p><h2 id="å…¶ä»–é—®é¢˜">å…¶ä»–é—®é¢˜</h2><ul><li><strong>æˆ‘çš„è‡ªé€‰èŠ‚ç‚¹åSSLå¤±æ•ˆäº†</strong></li></ul><p>å›½å¤–çº¿è·¯è¯·åŠ¡å¿…è§£æåˆ°cloudflareç»™ä½ çš„CNAMEèŠ‚ç‚¹ï¼Œä¸ç„¶æœ‰å‡ ç‡ç¿»è½¦ï¼Œé‡æ–°è§£æåå°è¯•å…³é—­SSLåé‡æ–°å¼€å¯</p><ul><li><strong>Error 1016 Origin DNS error</strong></li></ul><p>å›æºé…ç½®æœ‰é—®é¢˜ã€‚è®¿é—®è€…åªèƒ½æ‰¾åˆ° Cloudflareï¼Œä½†æ˜¯ Cloudflare æ‰¾ä¸åˆ°IPæ‰€å¯¹åº”çš„ç½‘ç«™ã€‚è¯·ç¡®ä¿å›æºIPé…ç½®æ­£ç¡®ã€‚</p>]]></content>
    
    
    <summary type="html">è¿™ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨æ¢¦ç‰›ç½‘æ¥å…¥Cloudflareçš„CDNï¼Œä»¥åŠå¦‚ä½•è‡ªé€‰IPèŠ‚ç‚¹æ¥æé«˜å›½å†…è®¿é—®é€Ÿåº¦ã€‚æ–‡ç« ä¸­æé†’è‡ªé€‰IPå­˜åœ¨å°ç¦é£é™©ï¼Œéœ€è¦è°¨æ…ä½¿ç”¨ï¼ŒåŒæ—¶è¿˜æ¨èäº†ç™¾åº¦äº‘åŠ é€Ÿåˆä½œèŠ‚ç‚¹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯è¦å°†å›½å¤–çº¿è·¯è§£æåˆ°Cloudflareç»™å‡ºçš„CNAMEèŠ‚ç‚¹ï¼Œä»¥é˜²æ­¢SSLç¿»è½¦ã€‚</summary>
    
    
    
    <category term="å®ç”¨æŠ€å·§" scheme="https://oplog.cn/categories/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/"/>
    
    
  </entry>
  
  <entry>
    <title>Euservå…è´¹æœåŠ¡å™¨é…ç½®IPv4ç¯å¢ƒ+ä½“éªŒ</title>
    <link href="https://oplog.cn/archives/1112.html"/>
    <id>https://oplog.cn/archives/1112.html</id>
    <published>2021-04-27T14:25:23.000Z</published>
    <updated>2022-06-23T13:43:32.000Z</updated>
    
    <content type="html"><![CDATA[<p>EUserv æ˜¯ä¸€å®¶å¾·å›½ä¸»æœºå•†ï¼Œæä¾›ä¸“ç”¨æœåŠ¡å™¨æ‰˜ç®¡ï¼Œè™šæ‹Ÿä¸“ç”¨æœåŠ¡å™¨ï¼Œäº‘æœåŠ¡ï¼Œç½‘ç«™æ‰˜ç®¡å’ŒåŸŸæ³¨å†ŒæœåŠ¡ï¼Œè¿˜æä¾›äº†IPv6 Onlyçš„å…è´¹VPSæœåŠ¡</p><h2 id="VPSé…ç½®">VPSé…ç½®</h2><ul><li>CPUï¼š1 Core @ 1 GHz</li><li>å†…å­˜ï¼š1 GB</li><li>ç¡¬ç›˜ï¼š10 GB HDD</li><li>å¸¦å®½ï¼š1 Gbit</li><li>IPÂ  Â  ï¼š1 IPv6</li></ul><h2 id="é…ç½®IPv4ç¯å¢ƒ">é…ç½®IPv4ç¯å¢ƒ</h2><h3 id="é‡è£…ç³»ç»Ÿ">é‡è£…ç³»ç»Ÿ</h3><p>è¿™é‡Œå»ºè®®é‡è£…ä¸ºDebian10ç³»ç»Ÿï¼Œæ–¹ä¾¿è¿›è¡Œä¸‹ä¸€æ­¥çš„æ“ä½œ<img src="https://cdn.oplog.cn/img/20210427220735.png" alt=""></p><h3 id="é…ç½®DNS64">é…ç½®DNS64</h3><p>åœ¨é…ç½®Warpä¹‹å‰å»ºè®®å…ˆé…ç½®DNS64ç¯å¢ƒï¼Œå¦åˆ™è¿›è¡Œè¿œç¨‹æ–‡ä»¶è·å–æ—¶å¯èƒ½å‡ºç°æ„å¤–</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/resolv.conf</span><br></pre></td></tr></table></figure><p>åˆ é™¤æ‰€æœ‰nameserverå¼€å¤´çš„è¡Œï¼Œæ”¹ä¸º</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nameserver 2001:67c:2b0::4</span><br><span class="line">nameserver 2001:67c:2b0::6</span><br></pre></td></tr></table></figure><p>æ¥ç€ä½ å¯èƒ½éœ€è¦é‡å¯ä½ çš„VPSæ›´æ–°é…ç½®</p><h3 id="é…ç½®Cloudflare-Warp">é…ç½®Cloudflare Warp</h3><p>åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­å·²ç»è®²è¿‡<a href="https://oplog.cn/archives/311.html">ä¸ºIPv4 Onlyçš„è…¾è®¯äº‘è½»é‡é…ç½®IPv6æ”¯æŒ</a>è¿™æ¬¡ä»…ä»…æ˜¯æŠŠWGCFçš„é…ç½®ä»IPv4æ”¹ä¸ºIPv6å³å¯ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆéš¾åº¦</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># æ›´æ–°ç¯å¢ƒ.å®‰è£…ä¾èµ–</span><br><span class="line">apt update</span><br><span class="line">apt install curl sudo lsb-release -y</span><br><span class="line"># å®‰è£…wireguard</span><br><span class="line">echo &quot;deb http://deb.debian.org/debian $(lsb_release -sc)-backports main&quot;  sudo tee /etc/apt/sources.list.d/backports.list</span><br><span class="line">sudo apt update</span><br><span class="line">sudo apt install net-tools iproute2 openresolv dnsutils -y</span><br><span class="line">sudo apt install wireguard-tools --no-install-recommends</span><br><span class="line">sudo apt install wireguard</span><br><span class="line"># å®‰è£…å†…æ ¸</span><br><span class="line">curl -fsSL git.io/wireguard-go.sh  sudo bash</span><br><span class="line"># å®‰è£…WGCF</span><br><span class="line">curl -fsSL git.io/wgcf.sh  sudo bash</span><br></pre></td></tr></table></figure><p>æ¥ç€å°±åˆ°äº†å…³é”®çš„WGCFé…ç½®ç¯èŠ‚ å…ˆæ³¨å†Œä¸€ä¸‹Warpçš„è´¦æˆ·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./wgcf register</span><br></pre></td></tr></table></figure><p>è‹¥å‡ºç°è¿™æ ·çš„ç•Œé¢ç›´æ¥å›è½¦å³å¯<a href="https://cdn.oplog.cn/img/20210403230823.png"><img src="https://cdn.oplog.cn/img/20210403230823.png" alt="æ‰“ç ´æ¬¡å…ƒå£ï¼Œè…¾è®¯äº‘è½»é‡é…ç½®Warpå®ç°IPv6è®¿é—®æ’å›¾5" title="æ‰“ç ´æ¬¡å…ƒå£ï¼Œè…¾è®¯äº‘è½»é‡é…ç½®Warpå®ç°IPv6è®¿é—®æ’å›¾5"></a> Â  ç„¶åè¾“å…¥<code>./wgcf generate</code>ï¼Œæ£€æŸ¥ç›®å½•ä¸‹æ˜¯å¦å‡ºç°åä¸ºwgcf-profile.confçš„æ–‡ä»¶ï¼Œå†…å®¹å¤§æ¦‚è¿™æ ·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[Interface]</span><br><span class="line">PrivateKey = xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br><span class="line">Address = 172.16.0.2/32</span><br><span class="line">Address = fd01:5ca1:ab1e:8a15:6634:bea7:4f74:47d9/128</span><br><span class="line">DNS = 1.1.1.1</span><br><span class="line">MTU = 1280</span><br><span class="line">[Peer]</span><br><span class="line">PublicKey = xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br><span class="line">AllowedIPs = 0.0.0.0/0</span><br><span class="line">AllowedIPs = ::/0</span><br><span class="line">Endpoint = engage.cloudflareclient.com:2408</span><br></pre></td></tr></table></figure><p>è¾“å…¥<code>nano wgcf-profile.conf</code> ä¿®æ”¹é…ç½®ï¼Œåˆ é™¤ç¬¬åè¡Œ<code>AllowedIPs = ::/0</code> ï¼Œç¬¬äº”è¡ŒDNSæ”¹ä¸º<code>DNS = 2606:4700:4700::1111</code>Â ï¼Œç¬¬åä¸€è¡Œä¸º<code>Endpoint = [2606:4700:d0::a29f:c001]:2408</code>Â ï¼ŒCtrl+Xä¿å­˜ Â  æ¥ç€è¾“å…¥å¦‚ä¸‹ä»£ç ï¼Œè¿è¡ŒWGCFå¹¶è®¾ç½®å¼€æœºè‡ªå¯åŠ¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo cp wgcf-profile.conf /etc/wireguard/wgcf.conf</span><br><span class="line">sudo systemctl start wg-quick@wgcf</span><br><span class="line">sudo systemctl enable wg-quick@wgcf</span><br><span class="line">echo &#x27;precedence  ::ffff:0:0/96   100&#x27;  sudo tee -a /etc/gai.conf</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•è¿æ¥">æµ‹è¯•è¿æ¥</h3><p>SSHè¾“å…¥<code>ping baidu.com -4</code> ï¼Œè‹¥è¿æ¥æ­£å¸¸å³ä¸ºé…ç½®æˆåŠŸ <img src="https://cdn.oplog.cn/img/20210427222131.png" alt=""></p><h2 id="ä½“éªŒ">ä½“éªŒ</h2><p>ç®€å•è·‘äº†ä¸‹bench.shå’ŒLemonbenchï¼Œå¤§å®¶å¯ä»¥å‚è€ƒä¸€ä¸‹ï¼Œå¯ä»¥çœ‹å‡ºé€Ÿåº¦è¿˜æ˜¯éå¸¸å¿«çš„ <img src="https://cdn.oplog.cn/img/20210401213214.png" alt=""> LemonBenchå®Œæ•´æµ‹è¯•æŠ¥å‘Šï¼š<a href="https://paste.ubuntu.com/p/N3gtCFDDYg/">https://paste.ubuntu.com/p/N3gtCFDDYg/</a> <img src="https://cdn.oplog.cn/img/20210427222410.png" alt=""></p><h2 id="å‚è€ƒ">å‚è€ƒ</h2><p><a href="https://blog.cyfan.top/p/d788bdf3.html">Euservæ­£ç¡®æ‰“å¼€ä¼˜åŒ–æ–¹å¼ é™ˆYFã®åšå®¢(ï¿£â–½ï¿£)&quot; (cyfan.top)</a> <a href="https://luotianyi.vc/5252.html">ã€WGCFã€‘è¿æ¥CF WARPä¸ºæœåŠ¡å™¨æ·»åŠ IPv4/IPv6ç½‘ç»œ â€“ Luminousâ€™ Home (luotianyi.vc)</a></p>]]></content>
    
    
    <summary type="html">è¿™ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•åœ¨EUservä¸Šé…ç½®CloudFlare WarpæœåŠ¡ï¼Œä¸ºæœåŠ¡å™¨æ·»åŠ IPv4/IPv6ç½‘ç»œã€‚éœ€è¦é‡è£…ä¸ºDebian10ç³»ç»Ÿï¼Œé…ç½®DNS64ç¯å¢ƒï¼Œå®‰è£…Wireguardï¼Œå¹¶æ³¨å†Œå’Œç”ŸæˆWGCFé…ç½®æ–‡ä»¶ã€‚ç„¶åä¿®æ”¹é…ç½®æ–‡ä»¶å’Œè®¾ç½®å¼€æœºè‡ªå¯åŠ¨ï¼Œæœ€åæµ‹è¯•è¿æ¥å’Œä½“éªŒã€‚ä½œè€…è¿˜æä¾›äº†ä¸€äº›å‚è€ƒé“¾æ¥å’Œæµ‹è¯•æŠ¥å‘Šã€‚</summary>
    
    
    
    <category term="å®ç”¨æŠ€å·§" scheme="https://oplog.cn/categories/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/"/>
    
    <category term="VPSè¯„æµ‹" scheme="https://oplog.cn/categories/VPS%E8%AF%84%E6%B5%8B/"/>
    
    <category term="ä¸»æœºè¯„æµ‹" scheme="https://oplog.cn/categories/%E4%B8%BB%E6%9C%BA%E8%AF%84%E6%B5%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•å†™ä¸€ç¯‡VPSæµ‹è¯„</title>
    <link href="https://oplog.cn/archives/13783.html"/>
    <id>https://oplog.cn/archives/13783.html</id>
    <published>2021-04-18T14:31:34.000Z</published>
    <updated>2022-06-23T13:43:32.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¾ˆå¤šåšä¸»éƒ½æƒ³å†™ç±»ä¼¼VPSæµ‹è¯„çš„æ–‡ç« ï¼Œå¯æ˜¯è‹¦äºæ²¡æœ‰æ•™ç¨‹æˆ–æ˜¯å¿«é€Ÿæµ‹è¯•çš„è„šæœ¬ï¼Œè¿™é‡Œåšä¸»åšå‡ºå¯¹è‡ªå·±ç†è§£çš„æ€»ç»“</p><h2 id="è„šæœ¬">è„šæœ¬</h2><h3 id="ç½‘ç»œæµ‹è¯•">ç½‘ç»œæµ‹è¯•</h3><p>ä¸€å°å¥½çš„VPSï¼Œé¦–å…ˆéœ€è¦ä¼˜ç§€çš„ç½‘ç»œ</p><ol><li><p><strong>Superbench</strong>è„šæœ¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- git.io/superbench.sh  bash</span><br></pre></td></tr></table></figure></li><li><p><strong><a href="http://Bench.sh">Bench.sh</a></strong>è„šæœ¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- bench.sh  bash</span><br></pre></td></tr></table></figure></li><li><p><strong><strong>å›ç¨‹æµ‹è¯•è„šæœ¬</strong></strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- git.io/besttrace  bash</span><br></pre></td></tr></table></figure></li><li><p><strong>SuperSpeed</strong>ä¸‰ç½‘æµ‹é€Ÿè„šæœ¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -Lso- https://git.io/superspeed)</span><br></pre></td></tr></table></figure></li><li><p><strong>ZBench</strong>å¢å¼ºè„šæœ¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench-CN.sh &amp;&amp; bash ZBench-CN.sh</span><br></pre></td></tr></table></figure></li><li><p><strong>BestTrace</strong>è·¯ç”±è„šæœ¬</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://cdn.ipip.net/17mon/besttrace4linux.zip &amp;&amp; unzip besttrace4linux.zip &amp;&amp; chmod +x ./besttrace</span><br></pre></td></tr></table></figure></li></ol><h3 id="ç»¼åˆæµ‹è¯•è„šæœ¬">ç»¼åˆæµ‹è¯•è„šæœ¬</h3><p>å¾€å¾€ä¸€å°å¥½çš„LinuxæœåŠ¡å™¨è¿˜éœ€è¦è‰¯å¥½çš„æœåŠ¡å™¨æ€§èƒ½åŸºç¡€ï¼Œäºæ˜¯ä¹è¯ç”Ÿäº†å¾ˆå¤šæœåŠ¡å™¨æ€§èƒ½æµ‹è¯•è„šæœ¬</p><ol><li><p><strong>LemonBench</strong>è„šæœ¬</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- http://ilemonra.in/LemonBenchIntl  bash -s fast</span><br></pre></td></tr></table></figure></li><li><p><strong>UnixBench</strong>è„šæœ¬</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate https://github.com/teddysun/across/raw/master/unixbench.sh &amp;&amp; sh unixbench.sh</span><br></pre></td></tr></table></figure></li><li><p><strong>VpsTest</strong>åˆé›†è„šæœ¬</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget vpstest.cn/it &amp;&amp; sh it</span><br></pre></td></tr></table></figure></li></ol><h2 id="å†™ä½œ">å†™ä½œ</h2><p>åœ¨è®¤è¯†äº†è¿™ä¹ˆå¤šæµ‹è¯•è„šæœ¬ä¹‹åï¼Œç»ˆäºåˆ°äº†è‡³å…³é‡è¦çš„å†™ä½œç¯èŠ‚ï¼Œå¸¸è§çš„æµ‹è¯„æµç¨‹å¦‚ä¸‹ï¼š <img src="https://cdn.oplog.cn/img/20210418222736.png" alt=""> å¦‚æœé“¾æ¥æ²¡æœ‰AFFä¼šæ›´ä½³å—å¤§ä¼—å–œçˆ±</p>]]></content>
    
    
    <summary type="html">è¿™ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•è¿›è¡ŒVPSç½‘ç»œæµ‹è¯•çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬Superbenchè„šæœ¬ã€Bench.shè„šæœ¬ã€å›ç¨‹æµ‹è¯•è„šæœ¬ã€SuperSpeedä¸‰ç½‘æµ‹é€Ÿè„šæœ¬ä»¥åŠZBenchå¢å¼ºè„šæœ¬ã€‚è¿™äº›è„šæœ¬å¯å¸®åŠ©åšä¸»æˆ–ç”¨æˆ·å¿«é€Ÿæµ‹è¯•VPSçš„ç½‘ç»œæ€§èƒ½ã€‚ä½œè€…æŒ‡å‡ºï¼Œä¸€ä¸ªä¼˜ç§€çš„VPSåº”è¯¥æ‹¥æœ‰ç¨³å®šã€å¿«é€Ÿçš„ç½‘ç»œã€‚</summary>
    
    
    
    <category term="å»ºç«™æ•™ç¨‹" scheme="https://oplog.cn/categories/%E5%BB%BA%E7%AB%99%E6%95%99%E7%A8%8B/"/>
    
    <category term="å®ç”¨æŠ€å·§" scheme="https://oplog.cn/categories/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/"/>
    
    <category term="VPSè¯„æµ‹" scheme="https://oplog.cn/categories/VPS%E8%AF%84%E6%B5%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>ã€å¿«è®¯ã€‘å›½å¤–çŸ¥åCDN Cloudflareç–‘æ‹¦æˆªéƒ¨åˆ†è‡ªé€‰IPèŠ‚ç‚¹</title>
    <link href="https://oplog.cn/archives/12586.html"/>
    <id>https://oplog.cn/archives/12586.html</id>
    <published>2021-03-15T14:23:00.000Z</published>
    <updated>2022-06-23T13:43:32.000Z</updated>
    
    <content type="html"><![CDATA[<h1>èƒŒæ™¯</h1><p>æœ‰æ¶ˆæ¯ç§°ï¼Œå›½å¤–çŸ¥åCDN Cloudflareä»Šæ—¥ç–‘ä¼¼æ‹¦æˆªè‡ªé€‰IPï¼Œä¼—æ‰€å‘¨çŸ¥ï¼Œç”±äºä¸€äº›ä¸å¯æŠ—å› ç´ ï¼ŒCloudflareåœ¨ä¸­å›½å¤§é™†è®¿é—®é€Ÿåº¦ææ…¢ï¼Œäºæ˜¯æœ‰äº†ä¸€ç§ç§°ä¸ºâ€œè‡ªé€‰IPâ€çš„ä½¿ç”¨æ–¹æ³•ï¼Œç®€å•æ¦‚æ‹¬å³ä¸ºåˆ©ç”¨Cloudflareçš„æ¼æ´å¼ºåˆ¶æŒ‡å‘è´Ÿè½½è¾ƒä½ï¼Œè·å¤§é™†è¾ƒè¿‘çš„IPè¿›è¡Œè®¿é—®çš„æé€Ÿï¼Œè¿™ç§è¡Œä¸ºå·²ç»è§¦åŠåˆ°äº†Cloudflareçš„åˆ©ç›Šï¼Œäºæ˜¯Cloudflareå¾ˆå¯èƒ½è¿›è¡Œç›¸å…³æ¼æ´çš„ä¿®å¤</p><h1>å†…å®¹</h1><p>ç»ç½‘å‹å‘ç°ï¼Œä½¿ç”¨â€œä¼˜é€‰IPâ€çš„éƒ¨åˆ†IPæ®µå·²ç»è¢«Cloudflareæ‰€æ‹¦æˆªï¼Œæ‹¦æˆªåé¡µé¢ä¸Šä¼šæç¤º1043Errorçš„å­—æ ·ï¼Œå±Šæ—¶ç½‘ç«™æ— æ³•è®¿é—®<br><img src="https://7.dusays.com/2021/03/15/bae4a394c476e.png" alt=""><br>åœ¨å›½å†…çŸ¥åè®ºå›ç±»ä¼¼çš„è¯é¢˜ä¸€æ—¶é—´ä¹Ÿæ˜¯å±‚å‡ºä¸ç©·ï¼Œè¿™ä¹Ÿè¯´æ˜äº†è¿™ä¸ªé—®é¢˜å¹¶éå°‘æ•°ï¼ŒåŸºæœ¬å¯ä»¥ç¡®è®¤æ˜¯Cloudflareå®˜æ–¹æ‰€ä¸º<br><img src="https://7.dusays.com/2021/03/15/2942e0964ae23.png" alt=""></p><h1>å¦‚ä½•é¿å…ï¼Ÿ</h1><p>ç›®å‰çœ‹æ¥åªæœ‰172.64.228.*è¿™ä¸ªCDNç½‘æ®µæ®µæœ‰æ‹¦æˆªï¼Œä¸æ’é™¤æ˜¯Cloudflareæ–¹é¢å°è§„æ¨¡æµ‹è¯•ï¼Œä»¥åå¯èƒ½ä¼šæ¨å¹¿ï¼Œæ‰€ä»¥å»ºè®®å„ä½åˆ‡æ¢å›å®˜æ–¹CNAMEæˆ–DNSä½¿ç”¨ï¼Œé˜²æ­¢è¢«æ‹¦æˆªå½±å“ç½‘ç«™è®¿é—®åŠSEO<img src="https://cdn.jsdelivr.net/gh/2x-ercha/twikoo-magic@master/image/bilibili2233/%5B2233%E5%A8%98_%E5%96%9D%E6%B0%B4%5D.png" alt=""></p>]]></content>
    
    
    <summary type="html">è¿™ç¯‡æ–‡ç« ä»‹ç»äº†Cloudflareå¯èƒ½æ‹¦æˆªè‡ªé€‰IPçš„æƒ…å†µã€‚è‡ªé€‰IPæ˜¯ä¸€ç§åˆ©ç”¨Cloudflareæ¼æ´å¼ºåˆ¶æŒ‡å‘é€Ÿåº¦æ›´å¿«çš„IPè¿›è¡Œè®¿é—®çš„æ–¹æ³•ã€‚ç„¶è€Œï¼Œè¿™ç§è¡Œä¸ºå·²å½±å“åˆ°äº†Cloudflareçš„åˆ©ç›Šï¼Œå› æ­¤Cloudflareå¯èƒ½ä¼šå¯¹æ¼æ´è¿›è¡Œä¿®å¤ã€‚ç½‘å‹å‘ç°éƒ¨åˆ†ä½¿ç”¨â€œä¼˜é€‰IPâ€çš„IPæ®µå·²è¢«æ‹¦æˆªï¼Œè¿™å°±å¯¼è‡´ç½‘ç«™æ— æ³•è®¿é—®ã€‚å»ºè®®ä½¿ç”¨å®˜æ–¹CNAMEæˆ–DNSä»¥é¿å…å½±å“ã€‚</summary>
    
    
    
    <category term="æ–°é—»èµ„è®¯" scheme="https://oplog.cn/categories/%E6%96%B0%E9%97%BB%E8%B5%84%E8%AE%AF/"/>
    
    
    <category term="cdn" scheme="https://oplog.cn/tags/cdn/"/>
    
    <category term="cloudflare" scheme="https://oplog.cn/tags/cloudflare/"/>
    
    <category term="å…è´¹cdn" scheme="https://oplog.cn/tags/%E5%85%8D%E8%B4%B9cdn/"/>
    
  </entry>
  
  <entry>
    <title>Cloudflareè‡ªå®šä¹‰IPèŠ‚ç‚¹</title>
    <link href="https://oplog.cn/archives/18409.html"/>
    <id>https://oplog.cn/archives/18409.html</id>
    <published>2020-12-15T14:23:00.000Z</published>
    <updated>2026-01-02T04:23:00.086Z</updated>
    
    <content type="html"><![CDATA[<p><font color="red">ç»åšä¸»æµ‹è¯•ï¼Œè¯¥æ–¹æ¡ˆå·²å¤±æ•ˆï¼Œè¯·ä½¿ç”¨SaaSæˆ–Page Funtionåä»£è¿›è¡Œè‡ªé€‰èŠ‚ç‚¹</font></p><p>Cloudflareæ˜¯ä¸€å®¶ç¾å›½çš„CDNæä¾›å•†ï¼Œéå¸¸è‰¯å¿ƒçš„æä¾›å…è´¹çš„CDNï¼Œä½†æ˜¯ç”±äºä¸€äº›ä¸å¯æŠ—æ‹’å› ç´ ï¼Œå›½å†…çš„è®¿é—®é€Ÿåº¦å¥‡æ…¢ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç”¨ä¸€äº›ç‰¹æ®Šçš„æ‰‹æ®µæ¥è‡ªå®šä¹‰è®¿é—®èŠ‚ç‚¹æ¥æé«˜é€Ÿåº¦</p><h2 id="ä½¿ç”¨Cloudflare-Partneræ¥å…¥">ä½¿ç”¨Cloudflare Partneræ¥å…¥</h2><p>ç”¨å®˜æ–¹çš„Cloudflareæ˜¯æ²¡åŠæ³•CNAMEæ¥å…¥çš„ï¼Œè¦å‡çº§åˆ°bizç‰ˆæœ¬ï¼ˆæ¯æœˆ200åˆ€ï¼‰æ‰èƒ½æä¾›ï¼Œè¿™å¯¹äºå°ç«™é•¿å®åœ¨æ˜¯å¤ªè´µäº†ã€‚ã€‚è€Œä¸”æ²¡è¾¾åˆ°æˆ‘ä»¬ç™½å«–çš„ç›®çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ç”¨Cloudflare Partneræ¥CNAMEæ¥å…¥</p><h2 id="æ³¨å†Œ-æ¥å…¥ç¬¨ç‰›ç½‘">æ³¨å†Œ/æ¥å…¥ç¬¨ç‰›ç½‘</h2><p>Cloudflare Partnerçš„æä¾›å•†æœ‰å¾ˆå¤šï¼Œè¿™é‡Œå°±ä»¥ç¬¨ç‰›ç½‘ä¸ºä¾‹<br>æ‰“å¼€ç¬¨ç‰›ç½‘å®˜ç½‘<a href="http://cdn.bnxb.com">cdn.bnxb.com</a>ï¼Œç‚¹å‡»ç™»å½•/æ³¨å†Œï¼Œè¾“å…¥ä½ çš„cloudflareè´¦æˆ·ï¼Œç‚¹å‡»åŸŸåç®¡ç†<br><img src="https://ae01.alicdn.com/kf/He2902bc0e21a48dcb2bd6a6b17f66f6fl.jpg" alt=""><br>è¿™æ—¶ä½ ä¼šçœ‹åˆ°ä½ å·²ç»å®˜æ–¹æ¥å…¥çš„åŸŸå<br><img src="https://gitee.com/code-abudu/blogimage/raw/master/img/20200603131225.png" alt=""><br>ç‚¹å‡»åŸŸåè¿›å…¥ç®¡ç†ç•Œé¢ï¼Œç‚¹å‡»åŸŸåèµ„æ–™ - å˜æ›´æ¥å…¥ - æ¥å…¥æœ¬ç«™CNAME<br><img src="https://ae01.alicdn.com/kf/H3f0089dc078c4058b0516c44068fe1b2L.jpg" alt=""></p><h2 id="è§£æè®¾ç½®">è§£æè®¾ç½®</h2><p>å°†ä½ çš„åŸŸåNSé‡æ–°è®¾ç½®å›DNSç®¡ç†å•†ï¼ˆå¦‚DNSPODï¼Œåä¸ºäº‘DNSï¼‰<br>æ¥ç€åœ¨ç¬¨ç‰›ç½‘ç®¡ç†ç•Œé¢èœå•ç‚¹å‡»ä¸Šæ–¹çš„åŸŸåè§£æï¼Œæ·»åŠ ä½ è¦è§£æçš„è®°å½•ï¼Œåœ¨DNSç®¡ç†å•†è§£æåˆ°cloudflareçš„ipå³å¯<br><img src="https://shop.io.mi-img.com/app/shop/img?id=shop_5ded7a0f8bfb39548091ebda7c496c55.png" alt=""></p><h2 id="èŠ‚ç‚¹æ¨è">èŠ‚ç‚¹æ¨è</h2><p>å¦‚æœä½ ä¸æƒ³æŠ˜è…¾èŠ‚ç‚¹ï¼Œ<a href="http://xn--CNAMEcf-hc5k28vstedw8czoyc.oplog.cn">å¯ä»¥ç›´æ¥CNAMEåˆ°cf.oplog.cn</a>ï¼Œä½¿ç”¨åšä¸»é€‰å¥½çš„èŠ‚ç‚¹<br>æ³¨æ„ï¼šå›½å¤–çº¿è·¯è¯·åŠ¡å¿…è§£æåˆ°cloudflareç»™ä½ çš„CNAMEèŠ‚ç‚¹ï¼Œé˜²æ­¢SSLç¿»è½¦<br>ç™¾åº¦äº‘åŠ é€Ÿåˆä½œèŠ‚ç‚¹ï¼š<br>162.159.208.4-162.159.208.103<br>162.159.209.4-162.159.209.103<br>162.159.210.4-162.159.210.103<br>162.159.211.4-162.159.211.103<br>ç”µä¿¡æ¨èä½¿ç”¨ä¸Šé¢çš„ç™¾åº¦äº‘åŠ é€ŸèŠ‚ç‚¹æˆ–è€…104.22.3.117<br>ç§»åŠ¨èŠ‚ç‚¹æ¨èä½¿ç”¨èµ°é¦™æ¸¯ç™¾åº¦äº‘åŠ é€ŸèŠ‚ç‚¹198.41.214.162<br>è”é€šå¯ä»¥èµ°104.20.157.0æˆ–è€…ä¸Šé¢çš„ç™¾åº¦äº‘åŠ é€ŸèŠ‚ç‚¹</p><h2 id="å…¶ä»–é—®é¢˜">å…¶ä»–é—®é¢˜</h2><ul><li>æˆ‘çš„è‡ªé€‰èŠ‚ç‚¹åSSLå¤±æ•ˆäº†<br>å›½å¤–çº¿è·¯è¯·åŠ¡å¿…è§£æåˆ°cloudflareç»™ä½ çš„CNAMEèŠ‚ç‚¹ï¼Œä¸ç„¶æœ‰å‡ ç‡ç¿»è½¦ï¼Œé‡æ–°è§£æåå°è¯•å…³é—­SSLåé‡æ–°å¼€å¯</li><li>Error 1016 Origin DNS error<br>å›æºé…ç½®æœ‰é—®é¢˜ã€‚è®¿é—®è€…åªèƒ½æ‰¾åˆ° Cloudflareï¼Œä½†æ˜¯ Cloudflare æ‰¾ä¸åˆ°IPæ‰€å¯¹åº”çš„ç½‘ç«™ã€‚è¯·ç¡®ä¿å›æºIPé…ç½®æ­£ç¡®ã€‚</li></ul>]]></content>
    
    
    <summary type="html">è¿™ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•é€šè¿‡CloudflareÂ Partneræ¥è‡ªå®šä¹‰è®¿é—®èŠ‚ç‚¹å¹¶æé«˜é€Ÿåº¦ã€‚æ–‡ç« æŒ‡å‡ºï¼Œä½¿ç”¨å®˜æ–¹çš„Cloudflareæ¥å…¥æ˜¯éœ€è¦å‡çº§åˆ°bizç‰ˆæœ¬æ‰å¯æä¾›CNAMEæ¥å…¥çš„ï¼Œè€Œä»£æ›¿æ–¹æ³•æ˜¯ä½¿ç”¨CloudflareÂ Partnerã€‚æ–‡ç« ä»¥ç¬¨ç‰›ç½‘ä¸ºä¾‹ä»‹ç»äº†å¦‚ä½•æ³¨å†Œã€æ¥å…¥ï¼Œå¹¶è¿›è¡Œè§£æè®¾ç½®ã€‚æ­¤å¤–ï¼Œä½œè€…æ¨èäº†ä¸€äº›èŠ‚ç‚¹ï¼Œå¹¶ä»‹ç»äº†å‡ ç§å¸¸è§é—®é¢˜çš„è§£å†³æ–¹æ³•ã€‚</summary>
    
    
    
    <category term="æŠ€æœ¯æ•™ç¨‹" scheme="https://oplog.cn/categories/%E6%8A%80%E6%9C%AF%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="cdn" scheme="https://oplog.cn/tags/cdn/"/>
    
    <category term="cloudflare" scheme="https://oplog.cn/tags/cloudflare/"/>
    
    <category term="å…è´¹cdn" scheme="https://oplog.cn/tags/%E5%85%8D%E8%B4%B9cdn/"/>
    
    <category term="å…è´¹" scheme="https://oplog.cn/tags/%E5%85%8D%E8%B4%B9/"/>
    
  </entry>
  
  <entry>
    <title>ç»§GoogleåçŸ¥åCDN Cloudflareä¸­å›½åŒºåŸŸå‡ºç°è§£ææ•…éšœ</title>
    <link href="https://oplog.cn/archives/1622.html"/>
    <id>https://oplog.cn/archives/1622.html</id>
    <published>2020-12-15T13:52:00.000Z</published>
    <updated>2022-06-23T13:43:32.000Z</updated>
    
    <content type="html"><![CDATA[<p><font color="red">æ›´æ–°ï¼šäº20201215åŒ—äº¬æ—¶é—´22:15ï¼Œåšä¸»æµ‹è¯•å·²ç»æ­£å¸¸</font></p><blockquote><p>å‡ ååˆ†é’Ÿå‰ï¼Œåœ¨ä¸­å›½å†…åœ°è®¿é—®DNSæ‰˜ç®¡äºCloudflareçš„ç½‘ç«™å¼€å§‹å‡ºç°è§£æå¤±è´¥ï¼Œæç¤ºâ€œæ­¤ç½‘ç«™æ— æ³•æä¾›å®‰å…¨è¿æ¥â€ã€‚<br>åŒ…æ‹¬ Cloudflare å®˜ç½‘åœ¨å†…çš„ç½‘ç«™æ— æ³•é€šè¿‡ä¸­å›½å†…åœ°ç½‘ç»œç›´æ¥è®¿é—®ã€‚å¤§éƒ¨åˆ†IPè¢«è§£æåˆ°äº†ä½äºä¸­å›½å†…åœ°çš„IPä¸Šï¼Œæ‰€æœ‰çš„è§£æå‡æ²¡æœ‰æˆåŠŸã€‚<br>ç›®å‰ï¼Œè¿˜ä¸æ¸…æ¥šè¿™æ˜¯å¦ä¸ºå•ä¸€çš„æŠ€æœ¯æ•…éšœã€‚æˆªæ­¢å‘ç¨¿æ—¶ï¼Œéƒ¨åˆ†åœ°åŒºçš„è§£æå·²ç»æ¢å¤æ­£å¸¸ï¼ŒCFæœªå°±æ­¤å‘å¸ƒçŠ¶æ€å¼‚å¸¸è­¦å‘Šã€‚<br>â€”â€”è½¬è‡ªVPSä¿¡å·æ——</p></blockquote><h2 id="å½±å“èŒƒå›´">å½±å“èŒƒå›´</h2><p>æ®æ‚‰ï¼Œæ­¤æ¬¡æ•…éšœä¸»è¦å½±å“çš„æ˜¯ç”±Cloudflareå®˜æ–¹æ¥å…¥æˆ–ç¬¬ä¸‰æ–¹DNSæ¥å…¥çš„åŸŸåï¼Œä¼šè¢«å¼ºåˆ¶è§£æè‡³å›½å†…èŠ‚ç‚¹å¯¼è‡´æ— æ³•è®¿é—®<br><img src="https://www.helloimg.com/images/2020/12/15/202012152157580c9c4391a48cdd97.png" alt=""></p><h2 id="å®˜æ–¹ååº”">å®˜æ–¹ååº”</h2><p>å¯¹æ­¤ï¼Œå®˜æ–¹çš„ååº”æ˜¯<br><img src="https://www.helloimg.com/images/2020/12/15/20201215215146a3ec7e63c555beb6.png" alt=""><br>(ç¿»è¯‘ï¼šå·²è¯†åˆ«-é—®é¢˜å·²ç¡®å®šï¼Œæ­£åœ¨å®æ–½ä¿®å¤)<br>ä¹Ÿæœ‰ç¾¤å‹è¯¢é—®äº†Cloudflareç›¸å…³å®¢æœäººå‘˜ï¼Œå¾—åˆ°çš„ç­”å¤å¦‚ä¸‹<br><img src="https://www.helloimg.com/images/2020/12/15/20201215220544171a3e6a972c9481.png" alt=""><br><img src="https://www.helloimg.com/images/2020/12/15/20201215220701f53c98fdefbe835d.png" alt=""><br>æœŸå¾…Cloudflareæ–¹é¢è¿›ä¸€æ­¥è§£å†³â€¦</p>]]></content>
    
    
    <summary type="html">è¿™ç¯‡æ–‡ç« ä»‹ç»äº†ä¸­å›½å†…åœ°è®¿é—®DNSæ‰˜ç®¡äºCloudflareçš„ç½‘ç«™å‡ºç°è§£æå¤±è´¥çš„æƒ…å†µï¼Œå¹¶æç¤ºâ€œæ­¤ç½‘ç«™æ— æ³•æä¾›å®‰å…¨è¿æ¥â€ã€‚ç›®å‰è¿˜ä¸æ¸…æ¥šè¿™æ˜¯å¦ä¸ºå•ä¸€çš„æŠ€æœ¯æ•…éšœã€‚æœ‰äº›åœ°åŒºçš„è§£æå·²ç»æ¢å¤æ­£å¸¸ï¼ŒCloudflareå®˜æ–¹å·²ç»è¯†åˆ«äº†é—®é¢˜å¹¶æ­£åœ¨å®æ–½ä¿®å¤ã€‚æ­¤æ¬¡æ•…éšœä¸»è¦å½±å“çš„æ˜¯ç”±Cloudflareå®˜æ–¹æ¥å…¥æˆ–ç¬¬ä¸‰æ–¹DNSæ¥å…¥çš„åŸŸåï¼Œä¼šè¢«å¼ºåˆ¶è§£æè‡³å›½å†…èŠ‚ç‚¹å¯¼è‡´æ— æ³•è®¿é—®ã€‚</summary>
    
    
    
    <category term="æ–°é—»èµ„è®¯" scheme="https://oplog.cn/categories/%E6%96%B0%E9%97%BB%E8%B5%84%E8%AE%AF/"/>
    
    
    <category term="cdn" scheme="https://oplog.cn/tags/cdn/"/>
    
    <category term="cloudflare" scheme="https://oplog.cn/tags/cloudflare/"/>
    
    <category term="å…è´¹cdn" scheme="https://oplog.cn/tags/%E5%85%8D%E8%B4%B9cdn/"/>
    
  </entry>
  
  <entry>
    <title>Cloudflareè‡ªé€‰èŠ‚ç‚¹ - æ¨è&amp;ç°æˆç­”æ¡ˆ</title>
    <link href="https://oplog.cn/archives/45814.html"/>
    <id>https://oplog.cn/archives/45814.html</id>
    <published>2020-12-09T22:48:15.000Z</published>
    <updated>2022-06-23T13:43:32.000Z</updated>
    
    <content type="html"><![CDATA[<p>Cloudflareè‡ªé€‰èŠ‚ç‚¹ä¸€ç›´æ˜¯ä¸€ä¸ªä¸–çºªéš¾é¢˜ï¼Œå¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œå¤§ä½¬ä»¬çº·çº·ç»™å‡ºäº†ç­”æ¡ˆï¼Œä¾‹å¦‚æ‰«æ®µå·¥å…·ï¼ŒAPIç­‰ç­‰ï¼Œè¿™é‡Œåšå‡ºæ€»ç»“</p><h2 id="æœ‰ä»€ä¹ˆé—®é¢˜">æœ‰ä»€ä¹ˆé—®é¢˜</h2><ol><li>è‡ªå·±Aè®°å½•å¡«å†™çš„CloudFlare IPå¹¶ä¸æ˜¯æ°¸ä¹…å¯ç”¨ï¼Œä¿ä¸é½å“ªå¤©ä½ å¡«å†™çš„CloudFlare IPè¢«GFWç»™å±è”½äº†ï¼Œé‚£ä½ çš„ç½‘ç«™å°±æ­‡èœäº†ã€‚</li><li>è‡ªå·±Aè®°å½•å¡«å†™çš„CloudFlare IPå¹¶ä¸æ˜¯èƒ½æŒç»­ç¨³å®šï¼Œå³ä½¿æ˜¯CloufFlareï¼ŒæœåŠ¡å™¨ä¹Ÿæœ‰è¢«æ”»å‡»çš„æ—¶å€™ï¼Œè¿™æ—¶ä½ çš„ç½‘ç«™æ‰“å¼€é€Ÿåº¦å°±ä¼šå¾ˆæ…¢ï¼Œæœ‰æ—¶å¯èƒ½ä¼šå‡ºç°æ‰“ä¸å¼€çš„æƒ…å†µã€‚</li><li>è‡ªå·±Aè®°å½•å¡«å†™çš„CloudFlare IPå¹¶ä¸æ˜¯å¯¹æ‰€æœ‰äººè®¿é—®é€Ÿåº¦éƒ½å¿«ï¼Œè¿™ä¸€ç‚¹å»ºç«™çš„å°ä¼™ä¼´è¦å°¤ä¸ºæ³¨æ„ï¼Œä¹Ÿè®¸ä½ pingè¿™ä¸ªCloudflare IPå»¶è¿Ÿå¾ˆä½ï¼Œä½†æ˜¯ä½ çš„ç«™ç‚¹å¹¶ä¸æ˜¯ä½ ä¸€ä¸ªäººè®¿é—®ï¼Œä½ éœ€è¦çš„æ˜¯è®©å›½å†…å¤–æ¯ä¸ªè®¿é—®è€…éƒ½èƒ½é«˜é€Ÿè®¿é—®ä½ çš„ç½‘ç«™ã€‚</li><li>æ™®é€šç«™é•¿å¾ˆéš¾å»æ‰¾åˆ°CloudFLareå¯¹ä¸åŒè¿è¥å•†ï¼ˆç§»åŠ¨ã€è”é€šã€ç”µä¿¡ï¼‰è®¿é—®é€Ÿåº¦å¿«çš„IPã€‚</li></ol><h2 id="ä½¿ç”¨Github-ActionåŠ¨æ€è‡ªé€‰IP">ä½¿ç”¨Github ActionåŠ¨æ€è‡ªé€‰IP</h2><p>å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œ<a href="https://hostmonit.com/" title="HostMinit">HostMonit</a>å¤§ä½¬ç»™å‡ºäº†ç­”æ¡ˆï¼Œè¿™é‡Œå¼•ç”¨ä»–çš„ä¸€æ®µè¯</p><blockquote><p>é‡åˆ°é—®é¢˜é‚£ä¹ˆå°±è¦è§£å†³æ‰ï¼Œä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œç«™é•¿ä¸æƒœé‡é‡‘ä¹°äº†å‡ å°å›½å†…ä¸åŒè¿è¥å•†çš„é«˜å¸¦å®½é«˜æµé‡VDSï¼Œå¹¶èŠ±äº†ä¸¤å¤©æ—¶é—´å†™äº†ä¸€å¥—ç¨‹åºï¼Œåœ¨æ¯å°VDSä¸Šéƒ½éƒ¨ç½²ä¸€å¥—ç¨‹åºï¼Œç”¨æ¥è·å–ç›¸åº”è¿è¥å•†è¿æ¥ç›®å‰å·²çŸ¥çš„1786880ä¸ªCloudFlare IPä¸­é€Ÿåº¦æœ€å¿«çš„IPï¼Œå¹¶ä»¥æ¥å£å½¢å¼æä¾›å‡ºæ¥ã€‚ä¹‹ååˆèŠ±äº†åŠå¤©æ—¶é—´å†™äº†ä¸€ä¸ªè„šæœ¬ï¼Œè„šæœ¬ä¸»è¦åŠŸèƒ½æ˜¯è°ƒå–æ¥å£å°†è¿æ¥å„è¿è¥å•†é€Ÿåº¦å¿«çš„CloudFare IPè‡ªåŠ¨è§£æåˆ°DNSåŸŸåæœåŠ¡å•†å¤„ã€‚ç»è¿‡ä¸€ä¸ªå¤šæœˆçš„ä½¿ç”¨æµ‹è¯•ï¼Œæ˜æ˜¾æ„Ÿè§‰åˆ°ç½‘ç«™çš„è®¿é—®é€Ÿåº¦å’Œç¨³å®šæ€§æœ‰æ‰€æå‡ã€‚</p></blockquote><p>ä½œè€…åŸæ–‡ï¼š<a href="https://hostmonit.com/cloudflare-select-ip-plus/" title="https://hostmonit.com/cloudflare-select-ip-plus/">https://hostmonit.com/cloudflare-select-ip-plus/</a> <strong>å¥½å¤„</strong>ï¼šåŠ¨æ€è‡ªé€‰èŠ‚ç‚¹ï¼Œå¯ä»¥æœ€å¤§ç¨‹åº¦ä¼˜åŒ–é€Ÿåº¦ <strong>å¼Šç«¯</strong>ï¼šå…è´¹APIé€Ÿåº¦è¾ƒæ…¢ã€éƒ¨ç½²ç›¸å¯¹éº»çƒ¦ç­‰</p><h2 id="ä¸€é”®è„šæœ¬æ‰«æ®µ">ä¸€é”®è„šæœ¬æ‰«æ®µ</h2><p>è„šæœ¬ä¸‹è½½ï¼š<a href="https://wwa.lanzous.com/idg1Kj87nsf" title="https://wwa.lanzous.com/idg1Kj87nsf">https://wwa.lanzous.com/idg1Kj87nsf</a> å…·ä½“ä½¿ç”¨æ–¹æ³•è§ <strong>ä½¿ç”¨è¯´æ˜.txt</strong> å³å¯ <strong>å¥½å¤„</strong>ï¼šè¿è¡Œç®€å•ï¼Œè½»æ¾ä½¿ç”¨ï¼Œé€Ÿåº¦å¯é  <strong>å¼Šç«¯</strong>ï¼š1.é™æ€IPéœ€è¦ç»å¸¸æ‰«æ®µï¼Œå¦åˆ™éš¾ä»¥ä¿è¯é€Ÿåº¦; 2.éš¾ä»¥å‡‘é½ä¸‰ç½‘è®¾å¤‡</p><h2 id="å…³äºæˆ‘">å…³äºæˆ‘</h2><p>cf.oplog.cnæ˜¯æˆ‘çš„Cloudflare IPæ–¹æ¡ˆï¼Œå·²ç»ä½¿ç”¨Github ActionåŠ¨æ€è‡ªé€‰IPï¼Œå¦‚æœè§‰å¾—éº»çƒ¦ä¹Ÿå¯ä»¥CNAMEåˆ°æˆ‘è¿™é‡Œ</p>]]></content>
    
    
    <summary type="html">è¿™ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•è§£å†³Cloudflareè‡ªé€‰èŠ‚ç‚¹çš„éš¾é¢˜ï¼ŒåŒ…æ‹¬å…¶å­˜åœ¨çš„é—®é¢˜ä»¥åŠä¸¤ç§è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨Github ActionåŠ¨æ€è‡ªé€‰IPå’Œä¸€é”®è„šæœ¬æ‰«æ®µã€‚å‰è€…é€šè¿‡èŠ±é’±ä¹°VDSå’Œå†™ç¨‹åºå®ç°è‡ªåŠ¨è·å–å’Œè§£æè¿æ¥é€Ÿåº¦æœ€å¿«çš„IPï¼Œå¹¶æä¾›APIæ¥å£ï¼›åè€…åˆ™æ˜¯é€šè¿‡ä½¿ç”¨è„šæœ¬æ‰«æ®µæ¥è·å–IPï¼Œé€Ÿåº¦å¯é ä½†éœ€è¦ç»å¸¸æ‰«æ®µã€‚ä½œè€…æä¾›äº†è‡ªå·±çš„Cloudflare IPæ–¹æ¡ˆcf.oplog.cnï¼Œä¹Ÿç»™å‡ºäº†ä¸€äº›ä½¿ç”¨æ–¹æ³•å’Œæ³¨æ„äº‹é¡¹ã€‚</summary>
    
    
    
    <category term="å®ç”¨æŠ€å·§" scheme="https://oplog.cn/categories/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/"/>
    
    
  </entry>
  
  <entry>
    <title>çŸ¥åé™æ€ç½‘ç«™æ‰˜ç®¡Fast.ioå³å°†åœæ­¢å…è´¹æœåŠ¡</title>
    <link href="https://oplog.cn/archives/17169.html"/>
    <id>https://oplog.cn/archives/17169.html</id>
    <published>2020-10-14T05:11:51.000Z</published>
    <updated>2022-06-23T13:43:32.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="èµ·å› ">èµ·å› </h2><p><a href="http://fast.io" title="Fast.io">Fast.io</a>é•¿æœŸæä¾›å…è´¹çš„é™æ€æ‰˜ç®¡æœåŠ¡ï¼Œè€Œä¸”ç”±äºä½¿ç”¨Cloudflare Enterpriseè®¿é—®é€Ÿåº¦å¾ˆå¿«ï¼Œæ·±å—ç½‘å‹çš„å–œçˆ±ï¼Œä½†æ˜¯ä»Šæ—¥åšä¸»æ”¶åˆ°äº†ä¸€å°æ¥è‡ªFast.ioå›¢é˜Ÿçš„é‚®ä»¶è¯´æ˜å¯¹æ–¹å³å°†åœæ­¢è¯¥æœåŠ¡</p><h2 id="é‚®ä»¶å†…å®¹">é‚®ä»¶å†…å®¹</h2><p><img src="https://cdn.oplog.cn/img/20201014130334.png" alt="è‹±æ–‡ç‰ˆé‚®ä»¶" title="è‹±æ–‡ç‰ˆé‚®ä»¶"> <em>è‹±æ–‡åŸæ–‡</em> <img src="https://cdn.oplog.cn/img/20201014130444.png" alt="ä¸­æ–‡ï¼ˆæ¥è‡ªè°·æ­Œç¿»è¯‘ï¼‰" title="ä¸­æ–‡ï¼ˆæ¥è‡ªè°·æ­Œç¿»è¯‘ï¼‰"> <em>ä¸­æ–‡ï¼ˆæ¥è‡ªè°·æ­Œç¿»è¯‘ï¼‰</em></p><h2 id="å…³äºè¿ç§»">å…³äºè¿ç§»</h2><p>å…³äºé‚®ä»¶ï¼ŒFast.ioæ²¡æœ‰æŒ‡å‡ºç¡®åˆ‡çš„åŸå› ï¼Œåšä¸»çŒœæµ‹å¯èƒ½æ˜¯æœ‰éƒ¨åˆ†ç”¨æˆ·æ»¥ç”¨ç­‰ï¼Œè‡³äºè¿ç§»ï¼Œå¯ä»¥è€ƒè™‘æ¢åˆ°å…è´¹çš„<a href="https://www.vercel.com" title="https://www.vercel.com">vercel.com</a>æˆ–è€…<a href="https://coding.net" title="Coding Pages">Coding Pages</a>ã€<a href="https://github.com" title="Github Pages">Github Pages</a>å…¶ä¸­Vercelæœ‰å…¨çƒAnycastèŠ‚ç‚¹ï¼ŒCodingæœ‰æ–°åŠ å¡åŠé¦™æ¸¯èŠ‚ç‚¹ï¼Œè¾ƒä¸ºé«˜é€Ÿï¼Œè€ŒGithubçš„å›½å†…é€Ÿåº¦è¾ƒæ…¢ï¼Œå¤§å®¶è‡ªå·±é€‰æ‹©ä¸€ä¸‹</p>]]></content>
    
    
    <summary type="html">è¿™ç¯‡æ–‡ç« ä»‹ç»äº†Fast.ioå³å°†åœæ­¢æä¾›å…è´¹çš„é™æ€æ‰˜ç®¡æœåŠ¡çš„åŸå› ï¼Œå¹¶é™„ä¸Šäº†å…¶å›¢é˜Ÿå‘é€çš„å£°æ˜é‚®ä»¶ã€‚è™½ç„¶Fast.ioå¹¶æœªæ˜ç¡®æŒ‡å‡ºåŸå› ï¼Œä½†æ˜¯æœ‰éƒ¨åˆ†ç”¨æˆ·æ»¥ç”¨å¯èƒ½æ˜¯å…¶ä¸­ä¸€ä¸ªå› ç´ ã€‚æ–‡ç« è¿˜æä¾›äº†ä¸€äº›å¤‡é€‰æ–¹æ¡ˆï¼Œå¦‚æ¢åˆ°å…¶ä»–å…è´¹çš„é™æ€æ‰˜ç®¡æœåŠ¡å¦‚vercel.comã€Coding Pagesæˆ–Github Pagesç­‰ã€‚Vercelå’ŒCoding Pagesæœ‰è¾ƒå¿«çš„è®¿é—®é€Ÿåº¦ï¼Œè€ŒGithub Pagesåœ¨å›½å†…çš„é€Ÿåº¦è¾ƒæ…¢ï¼Œè¯»è€…å¯ä»¥è‡ªè¡Œé€‰æ‹©ã€‚</summary>
    
    
    
    <category term="æ–°é—»æ¶ˆæ¯" scheme="https://oplog.cn/categories/%E6%96%B0%E9%97%BB%E6%B6%88%E6%81%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>å…¨æ–°æ— åç«¯è¯„è®ºç³»ç»Ÿ â€”â€” Twikoo</title>
    <link href="https://oplog.cn/archives/65477.html"/>
    <id>https://oplog.cn/archives/65477.html</id>
    <published>2020-09-24T11:49:58.000Z</published>
    <updated>2022-06-23T13:43:32.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç®€ä»‹">ç®€ä»‹</h2><p><a href="http://twikoo.js.org" title="Twikoo">Twikoo</a>æ˜¯ä¸€ä¸ªå…¨æ–°çš„æ”¯æŒçº¯é™æ€åšå®¢å¼•æ“ï¼ˆåŒ…æ‹¬Hexoã€Hugoï¼‰çš„æ— åç«¯è¯„è®ºç³»ç»Ÿ</p><h2 id="å¿«é€Ÿä¸Šæ‰‹">å¿«é€Ÿä¸Šæ‰‹</h2><h3 id="ç¯å¢ƒåˆå§‹åŒ–">ç¯å¢ƒåˆå§‹åŒ–</h3><p>Twikoo ä½¿ç”¨äº‘å¼€å‘ä½œä¸ºè¯„è®ºåå°ï¼Œæ¯ä¸ªäº‘å¼€å‘ç”¨æˆ·å‡é•¿æœŸäº«å—1ä¸ªå…è´¹çš„æ ‡å‡†å‹åŸºç¡€ç‰ˆ1èµ„æºå¥—é¤ã€‚å¦‚æœæ‚¨å·²ç»æ‹¥æœ‰äº†ä¸€ä¸ªå…è´¹ç‰ˆäº‘å¼€å‘ç¯å¢ƒï¼Œåœ¨ç¯å¢ƒé…ç½®ç¬¦åˆè¦æ±‚çš„æƒ…å†µä¸‹ï¼ŒTwikoo ç†è®ºå¯ä»¥ä¸å…¶ä»–é¡¹ç›®å…±ç”¨ä¸€ä¸ªç¯å¢ƒã€‚ 1.<a href="https://curl.qcloud.com/KnnJtUom" title="æ³¨å†Œäº‘å¼€å‘CloudBase">æ³¨å†Œäº‘å¼€å‘CloudBase</a> 2.è¿›å…¥<a href="https://console.cloud.tencent.com/tcb/" title="äº‘å¼€å‘æ§åˆ¶å°">äº‘å¼€å‘æ§åˆ¶å°</a>ï¼Œæ–°å»ºç¯å¢ƒï¼Œè¯·æŒ‰ä¸ªäººéœ€è¦é…ç½®ç¯å¢ƒ</p><blockquote><p><strong>æç¤º</strong> æ¨èé€‰æ‹©è®¡è´¹æ–¹å¼åŒ…å¹´åŒ…æœˆï¼Œå¥—é¤ç‰ˆæœ¬åŸºç¡€ç­ 1 å¦‚æœæç¤ºâ€œé€‰æ‹©éƒ¨ç½²åº”ç”¨â€ï¼Œè¯·é€‰æ‹©â€œä¸åˆ›å»ºç¯å¢ƒâ€</p></blockquote><p>3.è¿›å…¥ç¯å¢ƒ-ç™»å½•æˆæƒï¼Œå¯ç”¨â€œåŒ¿åç™»å½•â€ 4.è¿›å…¥ç¯å¢ƒ-å®‰å…¨é…ç½®ï¼Œå°†ç½‘ç«™åŸŸåæ·»åŠ åˆ°â€œWEBå®‰å…¨åŸŸåâ€ 5.å¤åˆ¶ç¯å¢ƒIdå¤‡ç”¨</p><h3 id="ç¯å¢ƒéƒ¨ç½²">ç¯å¢ƒéƒ¨ç½²</h3><blockquote><p>æ³¨æ„ è¯·ç¡®ä¿æ‚¨å·²ç»å®‰è£…äº† Node.js è¯·å°†å‘½ä»¤ã€ä»£ç ä¸­â€œæ‚¨çš„ç¯å¢ƒidâ€æ›¿æ¢ä¸ºæ‚¨è‡ªå·±çš„ç¯å¢ƒid è¯·ä¸è¦ä½¿ç”¨ Windows è‡ªå¸¦çš„è®°äº‹æœ¬ç¼–è¾‘ envId.txtï¼Œå¦åˆ™ä¼šéƒ¨ç½²å¤±è´¥ï¼Œåç»­ä¼šä¿®å¤è¯¥é—®é¢˜</p></blockquote><p>1.å…‹éš†æœ¬ä»“åº“</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/imaegoo/twikoo.git</span><br><span class="line">cd twikoo</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœæ‚¨æ²¡æœ‰å®‰è£… Gitï¼Œä¹Ÿå¯ä»¥ä» <a href="https://github.com/imaegoo/twikoo/releases" title="Release">Release</a> é¡µé¢ä¸‹è½½æœ€æ–°çš„ Source code</p></blockquote><p>2.å®‰è£…ä¾èµ–é¡¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install # æˆ– yarn install</span><br></pre></td></tr></table></figure><p>3.è®¾ç½®ç¯å¢ƒid</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo æ‚¨çš„ç¯å¢ƒid &gt; envId.txt</span><br></pre></td></tr></table></figure><p>4.æˆæƒäº‘å¼€å‘ç¯å¢ƒ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run login # æˆ– yarn run login</span><br></pre></td></tr></table></figure><p>5.è‡ªåŠ¨éƒ¨ç½²</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run deploy # æˆ– yarn deploy</span><br></pre></td></tr></table></figure><blockquote><p>æ›´æ–° Twikoo ç‰ˆæœ¬æ—¶ï¼Œè¯·å†æ¬¡æ‰§è¡Œæ­¤å‘½ä»¤æ›´æ–°ç°æœ‰çš„äº‘å‡½æ•°</p></blockquote><h3 id="ä½¿ç”¨">ä½¿ç”¨</h3><h4 id="é€šè¿‡-CDN-å¼•å…¥">é€šè¿‡ CDN å¼•å…¥</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;twikoo&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;twikoo.init(&#123; envId: &#x27;æ‚¨çš„ç¯å¢ƒid&#x27; &#125;)&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="é€šè¿‡-NPM-å¼•å…¥">é€šè¿‡ NPM å¼•å…¥</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install twikoo # æˆ– yarn add twikoo</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;twikoo&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> twikoo <span class="keyword">from</span> <span class="string">&#x27;twikoo&#x27;</span> <span class="comment">// æˆ– const twikoo = require(&#x27;twikoo&#x27;)</span></span><br><span class="line">twikoo.<span class="title function_">init</span>(&#123; <span class="attr">envId</span>: <span class="string">&#x27;æ‚¨çš„ç¯å¢ƒid&#x27;</span> &#125;)</span><br></pre></td></tr></table></figure><p><strong>æ‘˜è‡ª_<a href="https://twikoo.js.org/quick-start.html" title="Twikooä¸­æ–‡æ–‡æ¡£">Twikooä¸­æ–‡æ–‡æ¡£</a>_</strong></p><h2 id="è¯„è®ºæµ‹è¯•">è¯„è®ºæµ‹è¯•</h2><p>twikoo.init({ envId: â€˜blog-comment-6gd38we84e441790â€™, el: â€˜#tcommentâ€™ })</p>]]></content>
    
    
    <summary type="html">è¿™ç¯‡æ–‡ç« ä»‹ç»äº†ä¸€ä¸ªæ–°çš„è¯„è®ºç³»ç»ŸTwikooï¼Œå®ƒæ”¯æŒçº¯é™æ€åšå®¢å¼•æ“(Hexo, Hugo)ä¸”æ— éœ€åå°ï¼Œä½¿ç”¨äº‘å¼€å‘ä½œä¸ºè¯„è®ºåå°ã€‚åœ¨ä½¿ç”¨è¯¥ç³»ç»Ÿå‰éœ€è¦åˆå§‹åŒ–ç¯å¢ƒ(Twikoo)ï¼Œéœ€è¦æ³¨å†Œäº‘å¼€å‘(CloudBase)ï¼Œæ–°å»ºé€‚åˆä¸ªäººéœ€æ±‚çš„ç¯å¢ƒå¹¶å¯ç”¨åŒ¿åç™»å½•å’Œå®‰å…¨é…ç½®ã€‚è¿˜éœ€è¦å…‹éš†æœ¬ä»“åº“å¹¶å®‰è£…ä¾èµ–é¡¹ã€‚</summary>
    
    
    
    <category term="å»ºç«™æ•™ç¨‹" scheme="https://oplog.cn/categories/%E5%BB%BA%E7%AB%99%E6%95%99%E7%A8%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>è§£å†³Wordpressåœ¨è®¾ç½®ä¼ªé™æ€å’ŒHTTPSåå‡ºç°é‡å®šå‘è¿‡å¤š</title>
    <link href="https://oplog.cn/archives/59138.html"/>
    <id>https://oplog.cn/archives/59138.html</id>
    <published>2020-08-28T13:49:22.000Z</published>
    <updated>2022-06-23T13:43:32.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜å¼•å…¥">é—®é¢˜å¼•å…¥</h2><p>ä»Šå¤©åœ¨è¿ç§»åšå®¢è‡³æ–°ä¸»æœºæ—¶ï¼Œç”±äºæ˜¯Nginxè½¬Apacheï¼Œéœ€è¦é‡æ–°é…ç½®ä¼ªé™æ€ï¼Œåœ¨é…ç½®å®Œæˆä¼ªé™æ€å’ŒSSLåå´å‘ç°æ–‡ç« é¡µå‡ºç°é‡å®šå‘è¿‡å¤šï¼ˆæ— é™302ï¼‰çš„é—®é¢˜ï¼Œåœ¨ç½‘ä¸Šæ‰¾äº†å¾ˆå¤šèµ„æ–™æœ€ç»ˆå‘ç°æ˜¯Wordpressçš„é—®é¢˜ï¼Œè¿™é‡Œåšä¸ºè®°å½•</p><h2 id="å¦‚ä½•è§£å†³ï¼Ÿ">å¦‚ä½•è§£å†³ï¼Ÿ</h2><p>è§£å†³æ–¹æ³•æœ‰å¾ˆå¤šï¼Œå¤§å®¶å¯ä»¥å‚è€ƒ<a href="https://www.chinaz.com/web/2012/0327/242582.shtml" title="https://www.chinaz.com/web/2012/0327/242582.shtml">https://www.chinaz.com/web/2012/0327/242582.shtml</a> è¿™é‡Œå°±å†™æˆ‘ä½¿ç”¨çš„ï¼Œä¹Ÿæ˜¯æœ€æ–¹ä¾¿çš„ä¸€ç§ï¼Œä¸ç”¨ä¿®æ”¹WordpressåŸç”Ÿä»£ç ï¼Œåœ¨æ›´æ–°åä¾ç„¶å¯ç”¨</p><h2 id="è§£å†³æ–¹æ³•">è§£å†³æ–¹æ³•</h2><p>æ–¹æ³•å¾ˆç®€å•ï¼Œä¸‹è½½<a href="http://wordpress.org/extend/plugins/permalink-fix-disable-canonical-redirects-pack/" title="Permalink Fix &amp; Disable Canonical Redirects Pack">Permalink Fix &amp; Disable Canonical Redirects Pack</a>å®‰è£…ä¸Šå°±æˆåŠŸäº†ï¼Œä½†æ˜¯é—®é¢˜åœ¨äºä½ æ²¡æœ‰åŠæ³•ç›´æ¥åœ¨Wordpressåº”ç”¨å•†åº—é‡Œä¸‹è½½æ’ä»¶ï¼Œå› ä¸ºè¿™ä¸ªæ’ä»¶å®åœ¨æ˜¯å¤ªè€äº†ï¼Œä½ å¿…é¡»ä¸‹è½½æ’ä»¶åŒ…æ‰‹åŠ¨ä¸Šä¼  <a href="https://downloads.wordpress.org/plugin/permalink-fix-disable-canonical-redirects-pack.1.0.5.zip" title="Wordpresså®˜ç½‘ä¸‹è½½">Wordpresså®˜ç½‘ä¸‹è½½</a>ä¸‹è½½å®Œä¹‹åå°†æ–‡ä»¶å¤¹æ”¾ç½®åœ¨./wp-content/pluginsç›®å½•ï¼Œåœ¨åå°å¯ç”¨æ’ä»¶å³å¯</p><h2 id="å®Œæˆæˆªå›¾">å®Œæˆæˆªå›¾</h2><p><img src="https://wx2.sbimg.cn/2020/08/28/6LMIe.png" alt=""> ä¹Ÿæ˜¯éå¸¸ç®€å•ï¼Œå¸Œæœ›å¤§å®¶èƒ½å¤ŸCtrl+Dæ”¶è—ä¸€ä¸‹æœ¬ç«™ï¼Œæ„Ÿè°¢</p>]]></content>
    
    
    <summary type="html">è¿™ç¯‡æ–‡ç« ä»‹ç»äº†ä½œè€…åœ¨å°†åšå®¢è¿ç§»åˆ°æ–°ä¸»æœºæ—¶é‡åˆ°çš„é‡å®šå‘é—®é¢˜ï¼Œç»è¿‡æŸ¥æ‰¾å‘ç°æ˜¯Wordpressçš„é—®é¢˜ã€‚ä½œè€…æä¾›äº†è§£å†³æ–¹æ³•ä¹‹ä¸€ï¼Œå³ä¸‹è½½å¹¶ä½¿ç”¨Permalink Fixæ’ä»¶ï¼Œè¿™ç§æ–¹æ³•ä¸éœ€è¦ä¿®æ”¹WordpressåŸç”Ÿä»£ç ï¼Œä¸”åœ¨æ›´æ–°åä¾ç„¶å¯ç”¨ã€‚</summary>
    
    
    
    <category term="å®ç”¨æŠ€å·§" scheme="https://oplog.cn/categories/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/"/>
    
    
  </entry>
  
  <entry>
    <title>å…³äºå®ç°Hexoå¤šç«¯æ’°å†™åšæ–‡çš„ä¸€äº›æ€è·¯</title>
    <link href="https://oplog.cn/archives/8251.html"/>
    <id>https://oplog.cn/archives/8251.html</id>
    <published>2020-05-18T22:48:00.000Z</published>
    <updated>2022-06-23T13:43:32.000Z</updated>
    
    <content type="html"><![CDATA[<p>Hexoæ˜¯ä¸€ä¸ªè½»é‡çº§çš„åšå®¢æ¡†æ¶ï¼Œä½†æ˜¯ä½ å°±ä¼šå‘ç°ï¼Œå†™åšæ–‡çœŸæ˜¯ä¸€ä¸ªä»¤äººå¤´ç—›çš„äº‹æƒ…ï¼šä¸èƒ½åœ¨å¤šä¸ªè®¾å¤‡æ’°å†™åšæ–‡ï¼Œä¸€æ—¦æ¢è®¾å¤‡å°±ä¼šæå…¶éº»çƒ¦ï¼Œè¿™é‡Œå°±è·Ÿå¤§å®¶è®²è®²æˆ‘å¯¹äºè¿™ä¸ªé—®é¢˜çš„ä¸€äº›å¿ƒå¾—ã€‚</p><h1>å®ç°åŸç†</h1><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« æˆ‘ä»¬è®²åˆ°å¯ä»¥é€šè¿‡Github Actions è‡ªåŠ¨éƒ¨ç½² Hexo è„šæœ¬ï¼Œè¿™ç¯‡æ–‡ç« å°±æ˜¯åŸºäºè‡ªåŠ¨éƒ¨ç½²å®ç°çš„ï¼Œå¦‚æœä½ ä¸äº†è§£å¯ä»¥çœ‹ä¸€ä¸‹é‚£ç¯‡æ–‡ç« <a href="https://www.abudu.top/archives/15.html">ä¼ é€é—¨</a> æ—¢ç„¶å°†åšå®¢æºä»£ç æ‰˜ç®¡åˆ°äº†Githubï¼Œå°±æ„å‘³ç€å¯ä»¥ä½¿ç”¨å·¥å…·è®¿é—®è¿™ä¸ªä»“åº“ï¼Œè¿›è€Œæ’°å†™åšæ–‡ï¼Œå¾ˆå·§ï¼Œæˆ‘å°±æ‰¾åˆ°äº†ä¸€ä¸ªè¿™æ ·çš„å·¥å…·ï¼š<a href="http://markdown.xiaoshujiang.com">å°ä¹¦åŒ Markdownç¼–è¾‘å™¨</a></p><h1>å®ç°è¿‡ç¨‹</h1><h2 id="åˆ›å»ºToken">åˆ›å»ºToken</h2><p>é¦–å…ˆè¦æ–°å»ºä¸€ä¸ªGithubçš„Tokenç”¨äºè¿æ¥å°ä¹¦åŒ å’ŒGithubï¼Œè¿™é‡Œå°±æ”¾ä¸€å¼ ä¹‹å‰çš„å›¾å§ï¼š<br><img src="https://cdn.jsdelivr.net/gh/am-abudu/cdn/images/20200229172348.png" alt=""></p><h2 id="è¿æ¥å°ä¹¦åŒ ">è¿æ¥å°ä¹¦åŒ </h2><p>ç‚¹å‡»å°ä¹¦åŒ ç¼–è¾‘å™¨å·¦ä¸Šè§’çš„æ ‡å¿—ï¼Œç‚¹å‡»ç»‘å®šï¼Œåœ¨æ•°æ®å‚¨å­˜é‡Œç»‘å®šä½ ä¹‹å‰å­˜æ”¾æºä»£ç çš„ä»“åº“ï¼š<br><img src="https://cdn.jsdelivr.net/gh/am-abudu/cdn/images/20200304193557.png" alt=""></p><h2 id="ä¿®æ”¹æ¨¡æ¿">ä¿®æ”¹æ¨¡æ¿</h2><p>é€€å‡ºç»‘å®šï¼Œç‚¹å‡»ç¬¬äºŒä¸ªæ¨¡æ¿ï¼Œå°†æ¨¡æ¿ä¿®æ”¹æˆä½ Hexoçš„æ–‡ç« æ¨¡æ¿<br><img src="https://cdn.jsdelivr.net/gh/am-abudu/cdn/images/20200304194026.png" alt=""></p><h2 id="æ–°å»ºæ–‡ç« ">æ–°å»ºæ–‡ç« </h2><p>ä¿®æ”¹å®Œå°±å¯ä»¥é€€å‡ºæ¥æ„‰å¿«çš„å†™æ–‡ç« äº†ï¼Œç‚¹å‡»æ–°å»ºï¼Œå†™å®Œæ–‡ç« Ctrl+Sä¿å­˜ï¼Œè®°å¾—ä¿å­˜åœ¨ä½ çš„æ–‡ç« ç›®å½•ä¸‹å“¦ï¼ŒActionæ£€æµ‹åˆ°ä¼šè‡ªåŠ¨éƒ¨ç½²</p><h1>ä¸€äº›é¢˜å¤–è¯</h1><p>ä¸çŸ¥é“ç™¾åº¦ç«™é•¿å¹³å°æ˜¯å¹²ä»€ä¹ˆåƒçš„ï¼Œæˆ‘åå‡ ç¯‡æ–‡ç« éƒ½æäº¤ä¸Šå»äº†ï¼Œç´¢å¼•é‡ä¸€ç›´è¿˜æ˜¯0ï¼Œæœ‰æ²¡æœ‰äººçŸ¥é“ä»€ä¹ˆå›äº‹è¯„è®ºåŒºè§£ç­”ä¸€ä¸‹<br><img src="https://cdn.jsdelivr.net/gh/am-abudu/cdn/images/20200304194509.png" alt=""><br><img src="https://cdn.jsdelivr.net/gh/am-abudu/cdn/images/20200304194601.png" alt=""></p>]]></content>
    
    
    <summary type="html">è¿™ç¯‡æ–‡ç« ä»‹ç»äº†ä½¿ç”¨å°ä¹¦åŒ Markdownç¼–è¾‘å™¨å’ŒGithub Actionsè‡ªåŠ¨éƒ¨ç½²Hexoåšå®¢æºä»£ç çš„æ­¥éª¤ï¼Œè§£å†³äº†åšå®¢åœ¨ä¸åŒè®¾å¤‡ä¸Šæ’°å†™çš„é—®é¢˜ï¼Œåªéœ€è¦åˆ›å»ºGithub Tokenã€ç»‘å®šå‚¨å­˜ä»“åº“å’Œä¿®æ”¹Hexoæ–‡ç« æ¨¡æ¿ï¼Œå³å¯åœ¨å°ä¹¦åŒ ç¼–è¾‘å™¨ä¸Šæ„‰å¿«æ’°å†™åšæ–‡ï¼Œè‡ªåŠ¨éƒ¨ç½²åˆ°ä»“åº“ä¸­ã€‚ä½œè€…è¿˜æåˆ°äº†è‡ªå·±æäº¤åˆ°ç™¾åº¦ç«™é•¿å¹³å°ç´¢å¼•é‡ä¸€ç›´ä¸º0çš„é—®é¢˜ã€‚</summary>
    
    
    
    <category term="å»ºç«™æ•™ç¨‹" scheme="https://oplog.cn/categories/%E5%BB%BA%E7%AB%99%E6%95%99%E7%A8%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>Hexo è‡ªåŠ¨éƒ¨ç½²</title>
    <link href="https://oplog.cn/archives/24998.html"/>
    <id>https://oplog.cn/archives/24998.html</id>
    <published>2020-05-18T22:38:00.000Z</published>
    <updated>2022-06-23T13:43:32.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¯¹äºé™æ€åšå®¢æ¥è¯´ï¼ŒHexoæ˜¯ä¸€æ¬¾å¾ˆå—æ¬¢è¿çš„åšå®¢ç”Ÿæˆå™¨ã€‚å…¶æ‹¥æœ‰æ•°ç™¾çš„ä¸»é¢˜å’Œæ’ä»¶ï¼Œæ–¹ä¾¿æˆ‘ä»¬éƒ¨ç½²å’Œè‡ªå®šä¹‰åšå®¢å†…å®¹ã€‚ç„¶è€Œï¼Œå¾ˆå¤šç”Ÿæˆå™¨éƒ½æœ‰ä¸€ä¸ªè·Ÿæ˜æ˜¾çš„ç¼ºç‚¹ï¼Œå½“ç½‘ç«™çš„æ–‡ç« è¶Šæ¥è¶Šå¤šæ—¶ï¼Œç”Ÿæˆæ‰€éœ€è¦çš„æ—¶é—´ä¹Ÿè¶Šæ¥è¶Šä¹…ã€‚å¦‚æœç”µè„‘æ•ˆèƒ½å·®çš„è¯ï¼Œéƒ¨ç½²æ—¶é—´åˆ™ä¼šæ›´åŠ çš„ä¹…ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‡‡ç”¨è‡ªåŠ¨åŒ–éƒ¨ç½²æ˜¯ä¸€ä¸ªç»ä½³çš„é€‰æ‹©ã€‚ç°å¦‚ä»Šæä¾›è‡ªåŠ¨åŒ–éƒ¨ç½²çš„å¹³å°è¶Šæ¥è¶Šå¤šã€‚åƒTravis CIï¼ŒGithub Actionsã€‚æˆ‘ä»¬åªéœ€è¦æŠŠHexoçš„ç›®å½•æ¨é€åˆ°GitHubå»ï¼Œç›¸å…³å¹³å°ç›‘æµ‹åˆ°å¯¹åº”çš„Repositorieså‘ä½ˆå˜åŒ–ï¼Œå°±ä¼šè‡ªåŠ¨å»æ‰§è¡Œç¼–è¯‘ï¼Œå¹¶æŠŠç¼–è¯‘å¥½çš„å†…å®¹å‘å¸ƒåˆ°åšå®¢Repositorieså»ã€‚</p><h1>è·å–Coding Token</h1><p>é¡¹ç›®è®¾ç½® --&gt; å¼€å‘è€…é€‰é¡¹ --&gt; é¡¹ç›®ä»¤ç‰Œ<br><img src="https://cdn.jsdelivr.net/gh/am-abudu/cdn/images/20200229171901.png" alt=""><br>æƒé™è¦ç»™å…¨</p><h1>è·å–Github Token</h1><p>Personal settings --&gt; Developer settings --&gt; Personal access tokens<br><img src="https://cdn.jsdelivr.net/gh/am-abudu/cdn/images/20200229172348.png" alt=""><br>æƒé™ç»™repoï¼Œpublic repoï¼Œtokenè¦å­˜å¥½ï¼Œä¸ç„¶æ²¡äº†åªèƒ½é‡æ–°è·å–</p><h1>åˆ›å»ºActions</h1><p>å»ºç«‹ä¸€ä¸ªç§æœ‰ä»“åº“ï¼Œä¸Šä¼ Hexoæºä»£ç <br>åœ¨Hexoç›®å½•çš„ä»“åº“ï¼Œç‚¹å‡»Actions<br><img src="https://cdn.jsdelivr.net/gh/am-abudu/cdn/images/20200229165620.png" alt=""><br>ç„¶åç‚¹å‡»Set up a workflow yourself<br><img src="https://cdn.jsdelivr.net/gh/am-abudu/cdn/images/20200229165621.png" alt=""><br>è¾“å…¥ä»¥ä¸‹ä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">name: è‡ªåŠ¨éƒ¨ç½² Hexo</span><br><span class="line"></span><br><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    branches:</span><br><span class="line">      - master</span><br><span class="line"></span><br><span class="line">jobs:</span><br><span class="line">  build:</span><br><span class="line">    runs-on: ubuntu-latest</span><br><span class="line">    strategy:</span><br><span class="line">      matrix:</span><br><span class="line">        node-version: [10.x]</span><br><span class="line"></span><br><span class="line">    steps:</span><br><span class="line">      - name: å¼€å§‹è¿è¡Œ</span><br><span class="line">        uses: actions/checkout@v1</span><br><span class="line"></span><br><span class="line">      - name: è®¾ç½® Node.js $&#123;&#123; matrix.node-version &#125;&#125;</span><br><span class="line">        uses: actions/setup-node@v1</span><br><span class="line">        with:</span><br><span class="line">          node-version: $&#123;&#123; matrix.node-version &#125;&#125;</span><br><span class="line"></span><br><span class="line">      - name: å®‰è£… Hexo CI</span><br><span class="line">        run: </span><br><span class="line">          export TZ=&#x27;Asia/Shanghai&#x27;</span><br><span class="line">          npm install hexo-cli -g</span><br><span class="line"></span><br><span class="line">      - name: ç¼“å­˜</span><br><span class="line">        uses: actions/cache@v1</span><br><span class="line">        id: cache-dependencies</span><br><span class="line">        with:</span><br><span class="line">          path: node_modules</span><br><span class="line">          key: $&#123;&#123;runner.OS&#125;&#125;-$&#123;&#123;hashFiles(&#x27;**/package-lock.json&#x27;)&#125;&#125;</span><br><span class="line"></span><br><span class="line">      - name: å®‰è£…æ’ä»¶</span><br><span class="line">        if: steps.cache-dependencies.outputs.cache-hit != &#x27;true&#x27;</span><br><span class="line">        run: </span><br><span class="line">          npm install</span><br><span class="line"></span><br><span class="line">      - name: éƒ¨ç½²åšå®¢</span><br><span class="line">        run: </span><br><span class="line">          hexo clean &amp;&amp; hexo g &amp;&amp; hexo douban &amp;&amp; gulp</span><br><span class="line">          cd ./public</span><br><span class="line">          git init</span><br><span class="line">          git config user.name &quot;$&#123;&#123;secrets.GIT_NAME&#125;&#125;&quot;</span><br><span class="line">          git config user.email &quot;$&#123;&#123;secrets.GIT_EMAIL&#125;&#125;&quot;</span><br><span class="line">          git add .</span><br><span class="line">          git commit -m &quot;Update&quot;</span><br><span class="line">          git push --force --quiet &quot;https://$&#123;&#123;secrets.GH_TOKEN&#125;&#125;@$&#123;&#123;secrets.GH_REF&#125;&#125;&quot; master:master</span><br><span class="line">          git push --force --quiet &quot;https://$&#123;&#123;secrets.CD_TOKEN&#125;&#125;@$&#123;&#123;secrets.CD_REF&#125;&#125;&quot; master:master</span><br></pre></td></tr></table></figure><p>ç‚¹å‡»Start commit<br><img src="https://cdn.jsdelivr.net/gh/am-abudu/cdn/images/20200229165954.png" alt=""></p><h1>è®¾ç½®Secrets</h1><p>ä¸ºäº†ä¿æŠ¤é‡è¦çš„èµ„æ–™ï¼Œéœ€è¦æŠŠè¿™äº›èµ„æ–™è®¾ç½®åˆ°Secretsé‡Œï¼Œç„¶åé€šè¿‡$å¼•ç”¨ã€‚<br>åœ¨Settings --&gt; Secrets<br><img src="https://cdn.jsdelivr.net/gh/am-abudu/cdn/images/20200229170358.png" alt=""><br>è¿™é‡Œéœ€è¦è®¾ç½®6ä¸ªSecrets</p><table><thead><tr><th>åç§°</th><th>å†…å®¹</th></tr></thead><tbody><tr><td>CD_REF</td><td>è¦æäº¤åˆ°çš„Codingä»“åº“åœ°å€</td></tr><tr><td>CD_TOKEN</td><td>Coding Token æ ¼å¼ä¸º ç”¨æˆ·å:å¯†åŒ™</td></tr><tr><td>GH_REF</td><td>è¦æäº¤åˆ°çš„ Github ä»“åº“åœ°å€</td></tr><tr><td>GH_TOKEN</td><td>Github Token</td></tr><tr><td>GIT_EMAIL</td><td>Gitç”¨æˆ·é‚®ç®±</td></tr><tr><td>GIT_NAME</td><td>Gitç”¨æˆ·å</td></tr></tbody></table><h1>è¿è¡Œ</h1><p>éšä¾¿ä¿®æ”¹ä¸€ä¸ªä¸œè¥¿ï¼Œæ¯”å¦‚æäº¤ä¸€ç¯‡æ–‡ç« ï¼Œå°±å¯ä»¥çœ‹åˆ°å˜åŒ–äº†</p><h1>é¸£è°¢</h1><p>1.<a href="http://jerryc.me/posts/74006f42/">é€šè¿‡travis-ciæˆ–è€…GitHub Actionsè‡ªåŠ¨åŒ–éƒ¨ç½²GitHub Pageså’ŒCoding Pages</a><br>2.<a href="https://eallion.com/github-actions-hexo-ci/">Github Actions è‡ªåŠ¨éƒ¨ç½² Hexo è„šæœ¬</a></p>]]></content>
    
    
    <summary type="html">è¿™ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•è§£å†³ä½¿ç”¨Hexoç”Ÿæˆè¿‡å¤šå†…å®¹æ—¶æ‰€é‡åˆ°çš„éƒ¨ç½²æ—¶é—´å˜é•¿çš„é—®é¢˜ï¼Œå³é‡‡ç”¨è‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚ä½œè€…ä»‹ç»äº†è‡ªåŠ¨åŒ–éƒ¨ç½²çš„ä¼˜ç‚¹ä»¥åŠä¸€äº›ç°æœ‰çš„å¹³å°ï¼ˆå¦‚Travis CIï¼ŒGithub Actionsï¼‰ã€‚ç„¶åè¯¦ç»†ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨Github Actionsè¿›è¡Œè‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œåœ¨Githubè®¾ç½®Tokenå’ŒActionsï¼Œä»¥åŠè¿è¡Œä¸€ä¸ªè‡ªåŠ¨åŒ–éƒ¨ç½²Hexoçš„workflowã€‚</summary>
    
    
    
    <category term="å»ºç«™æ•™ç¨‹" scheme="https://oplog.cn/categories/%E5%BB%BA%E7%AB%99%E6%95%99%E7%A8%8B/"/>
    
    
  </entry>
  
</feed>
