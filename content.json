{"posts":[{"title":"Qexo - 全新Hexo在线管理器","text":"Qexo 是一个快速、强大、美观的在线 Hexo 编辑器。使用 GPL3.0 开源协议。支持包括且不限于在 Vercel 等平台部署，为您的静态博客添加动态的元素 该文章可能不会随版本更新而更新，教程请移步 Qexo文档 特色功能 文章管理~全新界面 2.0版本的 Qexo 重新设计了文章编辑页面，您可以更优雅地进行文章编辑 支持多种图床上传，上传尽在弹指之间 缓存功能~速度至上 支持将文章、页面、配置索引一键缓存至数据库，保证您的高速访问 Webhook 全自动清除缓存，时刻保持数据最新 麻雀虽小~五脏俱全 模块化架构 支持多种 Hexo 托管商 Github、Gitlab、本地 多种图床协议支持 Github、S3、FTP、远程API Markdown 语法 + 多种编辑界面，所见即所得 通知中心 通知栏 + 红点标记 多形式推送 Bark、Telegram、Pushdeer、Wechat… reCaptcha 防止垃圾信息侵害 友情链接 前端申请，一键接入 自动更新 简单方便，保持最新 自定字段 / 站点统计 / 页面管理 / 配置编辑 评论通知 / 图片上传 / 标识生成 / API 拓展 快速开始 Github 开源仓库：https://github.com/am-abudu/Qexo Wiki：https://oplog.cn/qexo 无服务器部署 本程序支持本地部署或 Vercel+Mysql/PlanetScale，请查看 文档 以了解更多 常见问题 什么是 API 密钥 在您完成初始化之后可在设置界面修改/创建 API 密钥，用于 Webhook 中的身份验证。若留空系统会随机生成一个 API 密钥 为什么我新建的文章没有显示 | Qexo 如何保证文件最新 Qexo 为了加快访问速度引进了缓存机制，你可以在设置清除缓存 &amp; 设置 Webhook自动清除缓存 Webhook 是什么 Qexo 中的 Webhook 指 /api/webhook 用于自动化操作，目前可用于自动清除缓存 安装后出现 504 Time out 您的数据库没有正确配置或没有允许所有 IP 白名单访问，可在 MongoDB 控制台进行修改，修改完成后一定要重新部署 删除并重建数据库，注意区域一定要选择 AWS / N. Virginia (us-east-1) 安装/更新后出现 5xx 错误 Qexo 每个 Release 都经过 Dev 分支的测试，一般情况下不会出现较大问题，如果你遇到了500等错误，请尝试以下步骤 检查数据库配置 清除浏览器缓存 / 程序缓存 在 /settings.html 页面检查 Hexo 服务商配置并点击保存 在 /advanced.html 中点击“修复”按钮 若无法登录请使用API: /pub/fix?token=(Your API Key) 保留数据库配置的环境变量并重新部署 重新部署整个程序 尝试 Dev 分支 AssertionError(“xxx object … its id attribute is set to None.”) 请检查你是否曾使用过0.01或0.1版本，这两个版本有严重问题，请重新创建数据库并部署 如何创建子目录下的文章 在文章名一栏填写 dir/filename 例如您希望创建 source/_posts/about/me.md 则需要输入 about/me KeyError: ‘XXX’ 表示并没有获取到 “XXX” 这个环境变量，请根据表格添加后 Redeploy 名称 意义 示例 DOMAINS 你所允许通信的安全域名 注意双引号而且是英文半角 [“.vercel.app”, “127.0.0.1”, “.yoursite.com”] MONGODB_HOST MongoDB 数据库连接地址 mongodb+srv://cluster0.xxxx.mongodb.net MONGODB_PORT MongoDB 数据库通信端口 默认应填写 27017 27017 MONGODB_USER MongoDB 数据库用户名 abudu MONGODB_DB MongoDB 数据库名 Cluster0 MONGODB_PASS MongoDB 数据库密码 JWo0xxxxxxxx Github 配置校验错误 如果配置中遇到问题，可以访问 HPP校验助手 自检配置，若确认无误，可检查仓库内是否有已经发布的文章 注意：Github 仓库一定为您 Hexo 自动化部署所在的仓库 Vercel 用量问题 Vercel 的无服务器函数用量对于 Qexo 来说是充裕的，但这依然抵挡不住有心之人的攻击行为，所以要保护好自己后台地址，不过好在 Vercel 不会随意扣费，所以在资源用完之后并不会产生费用，若依然不放心可以考虑部署在自己的服务器上 #服务器部署# 在线更新失败了 检查高级设置中的 VERCEL_TOKEN 和 PROJECT_ID 是否正确为 Qexo 的部署项目 其他问题 如果还有问题，可以发 issue 或加入 HexoPlusPlus交流群 询问 如何更新 一键更新 在 Settings 页完成在线更新相关设置 -&gt; 远程分支可为master(较稳定)/dev(测试版) 刷新页面 点击“同步更新” 手动更新 创建 Pull Request 并拉取 Qexo 主分支源码 鸣谢 Qexo 的诞生离不开这些项目的付出 Ace Argon-Dashboard-Django Bootstrap Bootstrap-Notify Django Djongo Vditor HexoPlusPlus jQuery Vercel-Python-WSGI …","link":"/archives/59651.html"},{"title":"2024年终总结|轻舟已过万重山","text":"关于学业 2024年的学业水平总体保持稳定，各科成绩都有还算不错的表现。作为一名高中生，我需要将大量时间和精力投入到课业学习中，这也意味着我不得不减少在博客运营和开源项目上的参与度。尽管如此，我仍然在课余时间保持对这些领域的关注和学习，希望在未来能够有更多机会深入参与这些富有创造性的工作。 关于 Qexo 2024年，Qexo 新增了以下功能： 图床支持远程图片删除 - 3.1 支持手动图片上传 - 3.2 灯箱图片查看 - 3.3 新增多语言支持 - 3.4 完善 Docker 支持 - 3.5 同时，我修复了大量 Bug，并对性能和安全方面进行了优化。考虑到时间有限，在新的一年里，我会将重点聚焦于提升系统的稳定性和兼容性上。 关于生活 虽然2023年我的身体状况不佳，经历了一些健康方面的挑战和困扰，包括频繁的感冒、免疫力下降以及睡眠质量不稳定等问题。这些健康问题给我的日常生活带来了诸多不便，影响了我的学习效率和生活质量。在与家人和医生的共同努力下，我通过调整作息时间、改善饮食习惯和进行适度运动等方式来应对这些挑战。这段经历确实给我带来了一些困扰。 2024年我尝试了每周进行一定的运动，不仅锻炼了身体，也结交了一群志同道合的朋友。同时也养成了规律运动的良好习惯。不仅在繁忙的学习生活中让我保持活力，还让我学会了在竞技中保持冷静和策略性思考。 关于目标 回顾2024年设定的目标，我完成了其中的大部分。特别是在学业方面，我达到了预期的成绩水平。在Qexo项目的开发上，虽然因为学业压力而放缓了节奏，但仍然按计划完成了主要功能的更新。健康习惯的养成也取得了明显的进步，尤其是在坚持运动这一方面。 关于外出 北京 - 这应当是我第二次游览首都。这次在一位朋友的带领下游览了清华大学校园，感受到了这所百年学府深厚的文化底蕴和浓郁的学术氛围。 南京 - 北京之后便是南京。这座六朝古都以其深厚的历史文化底蕴给我留下了难忘的印象。不得不说今年旅游的人流量异常庞大，各个景点都是人山人海，不得不佩服后疫情时代人们对旅游的热情。我主要参观了中山陵和总统府，这两处历史地标让我深入了解了中国近代史上的重要时期，对共和国的国父倍感敬佩。在游览过程中，我不仅感受到了南京作为古都的庄重与典雅，也体会到了这座城市在现代化进程中保持的文化传承。 安大略省 - 今年夏天我有幸参与了一个多伦多的项目，这次经历让我深入体验了加拿大安大略省的独特魅力。在为期两周的访问中，我不仅参观了多伦多标志性的CN塔这一世界级建筑奇观，还有幸游览了北美最壮观的自然景观之一 - 气势磅礴的尼亚加拉瀑布。瀑布湍急的水流和弥漫的水雾给人留下了难忘的印象，特别是在游船近距离观赏时，更能感受到大自然的震撼力量。这次旅行让我深入体验到了与中国截然不同的文化氛围和生活方式，也让我对这个以多元文化著称的国家产生了浓厚的兴趣。特别是在多伦多市区漫步时，能深切感受到这座城市独特的包容性和现代化气息，来自世界各地的移民和当地人和谐共处的景象给我留下了深刻的印象。城市的规划布局、公共设施的完善程度，以及居民友好开放的态度，都展现出一座国际化大都市的风范。不过不得不说相比国内的社会治安，这里确实存在一些问题，几天时间就&quot;有幸&quot;体会到了一次被黑人小哥零元购的体验（被要求打Uber😂），这让我对国内的安全环境有了新的认识。 关于未来 今年的生活让我深刻体会到了&quot;创造力&quot;的重要性。在日常学习和生活中，无论是与朝夕相处的同学交流，还是在旅途中邂逅的形形色色的人们，他们所展现出的独特思维方式和创新能力，都不断提醒着我自己在创造力方面的不足。通过观察和反思，我逐渐意识到，自从步入紧张的高中学业以来，原本活跃的创造思维似乎逐渐变得迟钝，那些曾经源源不断涌现的新想法和灵感也随之减少。这种创造力的衰退不仅体现在解决问题的方式上，也反映在对事物的思考深度和广度上。 或许我应该在未来的学习和生活中更加注重培养和保持创造力。这不仅意味着要在繁重的课业之余留出时间思考和创新，也包括主动寻找机会参与创意项目，与不同背景的人交流互动，以及尝试新的思维方式和解决问题的角度。通过有意识地锻炼和培养创造力，我希望能重新激发那份曾经充满想象力和创新精神的思维模式。 总的来说，2024年是一个充满挑战与成长的年份。尽管在学业和健康方面遇到了一些困难，但这些经历都让我变得更加坚韧和成熟。新的一年，希望大家能够越来越好吧！😇 弹指间， 轻舟已过万重山。","link":"/archives/2260.html"},{"title":"Icarus调教指北 - 我对主题的修改","text":"本博客主题基于 imaegoo/hexo-theme-icarus 二次修改，本文章的内容理论上支持4.x以后的官方分支以及 imaegoo 的分支，如果遇到问题请自行调整 基于原始分支的修改 添加预加载 themes/icarus/layout/common/scripts.jsx中的 &lt;/Fragment&gt; 前添加 1&lt;script src={cdn('instant.page', '5.1.1', 'instantpage.min.js')} type=&quot;module&quot;&gt;&lt;/script&gt; 目录固定 themes/icarus/source/js/main.js 中的 if ($toc.length &gt; 0) 后添加 1$toc.addClass('column-right is-sticky'); // 如果目录在左侧则改为 column-left 为了防止目录固定之后无法点击到较下方的项目，需要允许目录滚动 在 themes/icarus/include/style/widget.styl 添加 123#toc //目录可滚动 max-height: calc(100vh - 22px) overflow-y: scroll 右侧边栏吸底 此处参考 imaegoo 的左侧边栏吸底，可添加在 themes/icarus/source/js/main.js 末尾；如果右侧边栏有后加载内容（如友链、最近评论）则应加在完成该操作之后 12345678910111213141516171819202122//右侧边栏吸底(无文章目录时生效)var columnRight = $('.column-right')[0];function fixRightColumnTop() { // if SBP return if ($(window).width() &lt; 769) { columnRight.style.top = null; } else { if (columnRight) { columnRight.style.top = $(window).height() - columnRight.scrollHeight - 10 + 'px'; } else { setTimeout(function () { columnRight = $('.column-right')[0]; fixRightColumnTop(); }, 500); } }}if (!($('#toc').length &gt; 0)) { // 无目录 fixRightColumnTop(); $(window).resize(fixRightColumnTop);} H标签美化 添加在 themes/icarus/source/css/default.styl 123456789101112131415.content &gt; h1 padding: 0px 13px; border-left: 8px solid #ed515191.content &gt; h2 padding:0px 12px; border-left: 7px solid #BF51ED91.content &gt; h3 padding:0px 11px; border-left: 6px solid #6495ed91.content &gt; h4 padding:0px 10px; border-left: 5px solid #e2aa2b91.content &gt; h5 padding:0 19px; border-left: 4px solid #64c1c191 图片懒加载 安装并配置 hexo-image-lazyload插件 1$ npm install hexo-lazyload-image --save 123456lazyload: enable: true onlypost: false # optional loadingImg: # optional eg ./images/loading.gif isSPA: false # optional preloadRatio: 3 # optional, default is 1 themes/icarus/source/js/main.js 添加代码以修复 lightGallery 兼容 1234// 懒加载修复 $(document).find('img[data-original]').each(function () { $(this).parent().attr(&quot;href&quot;, $(this).attr(&quot;data-original&quot;)); }); 添加置顶文章标签 安装 hexo-generator-index-pin-top 然后为你需要置顶的文章添加 top 字段作为置顶权重 1npm install hexo-generator-index-pin-top --save themes/icarus/layout/common/article.jsx 中 &lt;div class=&quot;level-left&quot;&gt; 下方添加 1{index &amp;&amp; page.top ? &lt;span class=&quot;level-item stick-top&quot;&gt; 置顶 &lt;/span&gt; : null} CSS 添加在 themes/icarus/source/css/default.styl 1234567891011/* 置顶标签 */.stick-top { background-color: rgba(64, 158, 255, 0.13); border: 1px solid rgba(64, 158, 255, 0.5); border-radius: 2px; color: #409eff; display: inline-block; padding: 0 0.5em; font-size: 0.75em; background-color: #f2f6fc; } 如果你需要黑夜模式的 CSS ，请添加在themes/icarus/source/css/night.styl 12345678910/* 黑夜模式置顶标签 */.stick-top { border: none; border-radius: 2px; color: dark-font-color; display: inline-block; padding: 0 0.5em; font-size: 0.75em; background-color: dark-primary-color-hover;} 添加 Qexo 友链侧边栏 themes/icarus/include/schema/common/widgets.json 中 items.oneOf 添加 123{ &quot;$ref&quot;: &quot;/widget/qexo_friends.json&quot;} themes/icarus/include/schema/widget/qexo_friends.json 12345678910111213{ &quot;$schema&quot;: &quot;http://json-schema.org/draft-07/schema#&quot;, &quot;$id&quot;: &quot;/widget/qexo_friends.json&quot;, &quot;description&quot;: &quot;Qexo friends links widget configurations&quot;, &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;type&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;const&quot;: &quot;qexo_friends&quot; } }, &quot;required&quot;: [&quot;type&quot;]} themes/icarus/layout/widget/qexo_friends.jsx 注意此处修改 https://yoursite.com 为你的 Qexo 部署地址 123456789101112131415161718192021222324const { URL } = require('url');const { Component } = require('inferno');const { cacheComponent } = require('hexo-component-inferno/lib/util/cache');class QexoLinks extends Component { render() { const js = `loadSideBarFriends('qexo-sidebar-friends', 'https://yoursite.com');`; return ( &lt;div class=&quot;card widget&quot;&gt; &lt;div class=&quot;card-content&quot;&gt; &lt;div class=&quot;menu&quot;&gt; &lt;h3 class=&quot;menu-label&quot;&gt;友情链接&lt;/h3&gt; &lt;ul class=&quot;menu-list qexo-sidebar-friends&quot;&gt;&lt;/ul&gt; &lt;/div&gt; &lt;script dangerouslySetInnerHTML={{ __html: js }}&gt;&lt;/script&gt; &lt;a class=&quot;link-more button is-light is-small size-small&quot; href=&quot;/links/&quot;&gt;查看更多&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; ); }}module.exports = QexoLinks; themes/icarus/source/js/sidebar-friends.js 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950function loadSideBarFriends(id, url) { var uri = url + &quot;/pub/friends/&quot;; var loadStyle = '&lt;div class=&quot;qexo_loading&quot;&gt;&lt;div class=&quot;qexo_part&quot;&gt;&lt;div style=&quot;display: flex; justify-content: center&quot;&gt;&lt;div class=&quot;qexo_loader&quot;&gt;&lt;div class=&quot;qexo_inner one&quot;&gt;&lt;/div&gt;&lt;div class=&quot;qexo_inner two&quot;&gt;&lt;/div&gt;&lt;div class=&quot;qexo_inner three&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p style=&quot;text-align: center; display: block&quot;&gt;友链加载中...&lt;/p&gt;&lt;/div&gt;'; for(let i=0;i&lt;document.getElementsByClassName(id).length;i++){ document.getElementsByClassName(id)[i].innerHTML = loadStyle; } document.getElementsByClassName(id)[1] var ajax; try { // Firefox, Opera 8.0+, Safari ajax = new XMLHttpRequest(); } catch (e) { // Internet Explorer try { ajax = new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;); } catch (e) { try { ajax = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;); } catch (e) { alert(&quot;糟糕,你的浏览器不能上传文件!&quot;); return false; } } } ajax.open(&quot;get&quot;, uri, true); ajax.setRequestHeader(&quot;Content-Type&quot;, &quot;text/plain&quot;); ajax.onreadystatechange = function () { if (ajax.readyState == 4) { if (ajax.status == 200) { var res = JSON.parse(ajax.response); if (res[&quot;status&quot;]) { var friends = res[&quot;data&quot;]; for(let i=0;i&lt;document.getElementsByClassName(id).length;i++){ document.getElementsByClassName(id)[i].innerHTML = '&lt;ul class=&quot;menu-list&quot;&gt;'; } for (let i = 0; i &lt; friends.length; i++) { for(let j=0;j&lt;document.getElementsByClassName(id).length;j++){ document.getElementsByClassName(id)[j].innerHTML += '&lt;li&gt;&lt;a class=&quot;level is-mobile is-mobile&quot; href=&quot;'+friends[i][&quot;url&quot;]+'&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;span class=&quot;level-left&quot;&gt;&lt;span class=&quot;level-item&quot;&gt;'+friends[i][&quot;name&quot;]+'&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;level-right&quot;&gt;&lt;span class=&quot;level-item tag&quot;&gt;'+friends[i][&quot;url&quot;].split('/')[2]+'&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;'; } } } else { console.log(res[&quot;data&quot;][&quot;msg&quot;]); } } else { console.log(&quot;友链获取失败! 网络错误&quot;); } } }; ajax.send(null);} themes/icarus/layout/common/head.jsx 中 &lt;/head&gt; 前添加 1&lt;script src=&quot;/js/sidebar-friends.js&quot;&gt;&lt;/script&gt; 添加 Qexo 友链申请页面 创建一个页面，其中填写 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130{% raw %}&lt;article class=&quot;message is-info&quot;&gt; &lt;div class=&quot;message-header&quot;&gt; 申请友链 &lt;/div&gt; &lt;div class=&quot;message-body&quot;&gt; &lt;div class=&quot;form-ask-friend&quot;&gt; &lt;div class=&quot;field&quot;&gt; &lt;label class=&quot;label&quot;&gt;名称&lt;/label&gt; &lt;div class=&quot;control has-icons-left&quot;&gt; &lt;input class=&quot;input&quot; type=&quot;text&quot; placeholder=&quot;您的站点名&quot; id=&quot;friend-name&quot; required&gt; &lt;span class=&quot;icon is-small is-left&quot;&gt; &lt;i class=&quot;fas fa-signature&quot;&gt;&lt;/i&gt; &lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;field&quot;&gt; &lt;label class=&quot;label&quot;&gt;链接&lt;/label&gt; &lt;div class=&quot;control has-icons-left&quot;&gt; &lt;input class=&quot;input&quot; type=&quot;url&quot; placeholder=&quot;您网站首页的链接&quot; id=&quot;friend-link&quot; required&gt; &lt;span class=&quot;icon is-small is-left&quot;&gt; &lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt; &lt;/span&gt; &lt;/div&gt; &lt;p class=&quot;help &quot;&gt;请确保站点可访问！&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;field&quot;&gt; &lt;label class=&quot;label&quot;&gt;图标&lt;/label&gt; &lt;div class=&quot;control has-icons-left&quot;&gt; &lt;input class=&quot;input&quot; type=&quot;url&quot; placeholder=&quot;您的网站图标(尽量为正圆形)&quot; id=&quot;friend-icon&quot; required&gt; &lt;span class=&quot;icon is-small is-left&quot;&gt; &lt;i class=&quot;fas fa-image&quot;&gt;&lt;/i&gt; &lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;field&quot;&gt; &lt;label class=&quot;label&quot;&gt;描述&lt;/label&gt; &lt;div class=&quot;control has-icons-left&quot;&gt; &lt;input class=&quot;input&quot; type=&quot;text&quot; placeholder=&quot;请用一句话介绍您的站点&quot; id=&quot;friend-des&quot; required&gt; &lt;span class=&quot;icon is-small is-left&quot;&gt; &lt;i class=&quot;fas fa-info&quot;&gt;&lt;/i&gt; &lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;field&quot;&gt; &lt;div class=&quot;control&quot;&gt; &lt;label class=&quot;checkbox&quot;&gt; &lt;input type=&quot;checkbox&quot; id=&quot;friend-check&quot;/&gt; 我提交的不是无意义信息 &lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;field is-grouped&quot;&gt; &lt;div class=&quot;control&quot;&gt; &lt;button class=&quot;button is-info&quot; type=&quot;submit&quot; onclick=&quot;askFriend(event)&quot;&gt;申请友链&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/article&gt;&lt;script src=&quot;https://recaptcha.net/recaptcha/api.js?render=你的reCpatchaV3密钥&quot;&gt;&lt;/script&gt;&lt;script&gt;function TestUrl(url) { var Expression=/http(s)?:\\/\\/([\\w-]+\\.)+[\\w-]+(\\/[\\w- .\\/?%&amp;=]*)?/; var objExp=new RegExp(Expression); if(objExp.test(url) != true){ return false; } return true;}function askFriend (event) { let check = $(&quot;#friend-check&quot;).is(&quot;:checked&quot;); let name = $(&quot;#friend-name&quot;).val(); let url = $(&quot;#friend-link&quot;).val(); let image = $(&quot;#friend-icon&quot;).val(); let des = $(&quot;#friend-des&quot;).val(); if(!check){ alert(&quot;请勾选\\&quot;我提交的不是无意义信息\\&quot;&quot;); return; } if(!(name&amp;&amp;url&amp;&amp;image&amp;&amp;des)){ alert(&quot;信息填写不完整! &quot;); return; } if (!(TestUrl(url))){ alert(&quot;URL格式错误! 需要包含HTTP协议头! &quot;); return; } if (!(TestUrl(image))){ alert(&quot;图片URL格式错误! 需要包含HTTP协议头! &quot;); return; } event.target.classList.add('is-loading'); grecaptcha.ready(function() { grecaptcha.execute('你的reCpatchaV3密钥', {action: 'submit'}).then(function(token) { $.ajax({ type: 'get', cache: false, url: url, dataType: &quot;jsonp&quot;, async: false, processData: false, //timeout:10000, complete: function (data) { if(data.status==200){ $.ajax({ type: 'POST', dataType: &quot;json&quot;, data: { &quot;name&quot;: name, &quot;url&quot;: url, &quot;image&quot;: image, &quot;description&quot;: des, &quot;verify&quot;: token, }, url: 'https://你的Qexo部署站点/pub/ask_friend/', success: function (data) { alert(data.msg); } });} else{ alert(&quot;URL无法连通!&quot;); } event.target.classList.remove('is-loading'); } }); }); });}&lt;/script&gt;{% endraw %} 会自动验证站点可连通性并提交到 Qexo 后台。注意需要依照提示配置好 reCaptcha V3 和你的 Qexo 站点链接 接入 Qexo 页面访问统计 themes/icarus/source/js/statistic.js 1234567891011121314151617181920212223242526272829303132function loadStatistic(e) { var t = e + &quot;/pub/statistic/&quot;; function qexoInner(a,b) {if (document.getElementById(a)) document.getElementById(a).innerHTML = b;} function qexoFailed() { var j = [&quot;qexo-site-uv&quot;,&quot;qexo-site-pv&quot;,&quot;qexo-page-pv&quot;] for (var i = 0; i &lt; j.length; i++) qexoInner(j[i],&quot;请求失败&quot;); } fetch(t, { referrerPolicy: &quot;no-referrer-when-downgrade&quot; }).then(function (res) { if (res.ok) { res.json().then(function (e) { if (e.status) { qexoInner(&quot;qexo-site-uv&quot;, e.site_uv); qexoInner(&quot;qexo-site-pv&quot;, e.site_pv); qexoInner(&quot;qexo-page-pv&quot;, e.page_pv); } else { console.log(e.error); qexoFailed() } }) } else { qexoFailed() } }, function (ex) { console.log('站点统计失败! 网络错误') qexoFailed() });} themes/icarus/layout/common/footer.jsx 你需要的位置添加 12&lt;span id=&quot;busuanzi_container_site_uv&quot; style=&quot;display: inline;&quot;&gt;共&lt;span id=&quot;qexo-site-uv&quot;&gt; Loading &lt;/span&gt;个访客&lt;/span&gt;&lt;div dangerouslySetInnerHTML={{ __html: '&lt;script src=&quot;/js/statistic.js&quot;&gt;&lt;/script&gt;&lt;script&gt;loadStatistic(&quot;https://my.oplog.cn&quot;)&lt;/script&gt;'}} /&gt; themes/icarus/layout/common/article.jsx 中 {/* Visitor counter */} 下方三行改为 1{!index ? &lt;span id={url_for(page.link || page.path)} class=&quot;level-item leancloud_visitors&quot; data-flag-title={page.title} dangerouslySetInnerHTML={{__html: '&lt;i class=&quot;far fa-eye&quot;&gt;&lt;/i&gt;' + _p('plugin.visit_count', ' &lt;span id=&quot;qexo-page-pv&quot;&gt;&lt;i class=&quot;fa fa-spinner fa-spin&quot;&gt;&lt;/i&gt;&lt;/span&gt;')}}&gt;&lt;/span&gt; : null} 添加 Qexo 说说侧边栏 themes/icarus/include/schema/common/widgets.json 中 items.oneOf 添加 123{ &quot;$ref&quot;: &quot;/widget/qexo_talks.json&quot;} themes/icarus/include/schema/widget/qexo_talks.json 12345678910111213{ &quot;$schema&quot;: &quot;http://json-schema.org/draft-07/schema#&quot;, &quot;$id&quot;: &quot;/widget/qexo_talks.json&quot;, &quot;description&quot;: &quot;Qexo talks widget configurations&quot;, &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;type&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;const&quot;: &quot;qexo_talks&quot; } }, &quot;required&quot;: [&quot;type&quot;]} themes/icarus/layout/widget/qexo_talks.jsx 注意此处修改 https://yoursite.com 为你的 Qexo 部署地址 123456789101112131415161718192021222324const { URL } = require('url');const { Component } = require('inferno');const { cacheComponent } = require('hexo-component-inferno/lib/util/cache');class QexoTalks extends Component { render() { const js = `loadSideBarTalks('qexo-sidebar-talks', 'https://yoursite.com', 5);`; return ( &lt;div class=&quot;card widget&quot;&gt; &lt;div class=&quot;card-content&quot;&gt; &lt;div class=&quot;menu&quot;&gt; &lt;h3 class=&quot;menu-label&quot;&gt;最近说说&lt;/h3&gt; &lt;ul class=&quot;menu-list qexo-sidebar-talks&quot;&gt;&lt;/ul&gt; &lt;/div&gt; &lt;script dangerouslySetInnerHTML={{ __html: js }}&gt;&lt;/script&gt; &lt;a class=&quot;link-more button is-light is-small size-small&quot; href=&quot;/talks/&quot;&gt;查看更多&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; ); }}module.exports = QexoTalks; themes/icarus/source/js/sidebar-friends.js 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768function loadSideBarTalks(id, url, limit) { //id=class name var uri = url + &quot;/pub/talks/?page=1&amp;limit=&quot; + limit; var loadStyle = '&lt;div class=&quot;qexo_loading&quot;&gt;&lt;div class=&quot;qexo_part&quot;&gt;&lt;div style=&quot;display: flex; justify-content: center&quot;&gt;&lt;div class=&quot;qexo_loader&quot;&gt;&lt;div class=&quot;qexo_inner one&quot;&gt;&lt;/div&gt;&lt;div class=&quot;qexo_inner two&quot;&gt;&lt;/div&gt;&lt;div class=&quot;qexo_inner three&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p style=&quot;text-align: center; display: block&quot;&gt;说说加载中...&lt;/p&gt;&lt;/div&gt;'; for (let i = 0; i &lt; document.getElementsByClassName(id).length; i++) { document.getElementsByClassName(id)[i].innerHTML = loadStyle; } document.getElementsByClassName(id)[1] var ajax; try { // Firefox, Opera 8.0+, Safari ajax = new XMLHttpRequest(); } catch (e) { // Internet Explorer try { ajax = new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;); } catch (e) { try { ajax = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;); } catch (e) { alert(&quot;糟糕,你的浏览器不能上传文件!&quot;); return false; } } } ajax.open(&quot;get&quot;, uri, true); ajax.setRequestHeader(&quot;Content-Type&quot;, &quot;text/plain&quot;); ajax.onreadystatechange = function () { if (ajax.readyState == 4) { if (ajax.status == 200) { var res = JSON.parse(ajax.response); if (res[&quot;status&quot;]) { var talks = res[&quot;data&quot;]; for (let i = 0; i &lt; document.getElementsByClassName(id).length; i++) { document.getElementsByClassName(id)[i].innerHTML = ''; } for (let i = 0; i &lt; talks.length; i++) { var item = talks[i]; var date = new Date(item.time * 1000); for (let j = 0; j &lt; document.getElementsByClassName(id).length; j++) { document.getElementsByClassName(id)[j].innerHTML += '&lt;article class=&quot;media&quot;&gt;&lt;div class=&quot;media-content&quot;&gt;' + '&lt;p class=&quot;title&quot;&gt;&lt;a href=&quot;#' + item.id + '&quot;&gt;' + changeContent(item.content) + '&lt;/a&gt;&lt;/p&gt;' + '&lt;p class=&quot;date&quot;&gt;' + item.tags.join() + ' / ' + date.getFullYear() + &quot;-&quot; + (date.getMonth() &lt; 9 ? 0 : &quot;&quot;) + (date.getMonth() + 1) + &quot;-&quot; + date.getDate() + '&lt;/p&gt;' + '&lt;/div&gt;&lt;/article&gt;'; } } } else { console.log(res[&quot;data&quot;][&quot;msg&quot;]); } } else { console.log(&quot;友链获取失败! 网络错误&quot;); } } }; ajax.send(null);}// 从 butterfly 主题借鉴// https://github.com/jerryc127/hexo-theme-butterfly/blob/dev/layout/includes/third-party/newest-comments/twikoo-comment.pugfunction changeContent(content) { if (content === '') return content; content = content.replace(/&lt;[^&gt;]+&gt;/g, ''); // remove html tag if (content.length &gt; 150) { content = content.substring(0, 150) + '...'; } return content;} 基于 Imaegoo 分支的修改 跟随系统切换黑夜模式 themes/icarus/source/js/imaegoo/night.js 中将 isNight &amp;&amp; applyNight(isNight); 注释并在后方添加，请注意本方案较温和，仅在首次访问或访问时进行了模式更改时生效 1234567891011121314var ifSysIsNight = window.matchMedia('(prefers-color-scheme: dark)');if (isNight === null){ isNight = ifSysIsNight.matches ? true : false; applyNight(isNight); localStorage.setItem('night', isNight);}else{ isNight &amp;&amp; applyNight(isNight);}ifSysIsNight.onchange = function (evt) { isNight = evt.matches ? true : false; applyNight(isNight); localStorage.setItem('night', isNight);} 最后 本篇文章修改较为仓促，可能存在疏漏，可以在评论区指出","link":"/archives/8962.html"},{"title":"在代码中重启Django程序","text":"最近在 Qexo 的编写过程中，遇到了一个问题： 如何在完成更新后让程序自动重启？ 这个问题困扰了我一段时间，起初使用的是 Django 自带的 AutoReloader，但效果并不佳，经常没有完成文件的完全替换就自动重启，从而导致更新失败。在参考了部分大佬的文章之后，总结出了一个不错的方法。 关闭自动重载 既然我们要把程序的重启完全掌握在自己手中，那么必须要提前关闭好程序的自动重载功能，这一点十分简单，只需要稍微修改启动命令即可 1python3 manage.py runserver --noreload 只需要加上--noreload参数即可禁用 Django 的 AutoReloader 添加重载代码 结论 先说结论，如果在程序中你需要重载，则需要强制退出子程序并返回“3”作为退出代码，即 12import osos._exit(3) 这是如何实现的？ 经过一番搜索之后，我并没有找到哪个大佬给出了完整的方案（也有可能是我搜索能力较弱），于是在结合了Django源码分析对于 Reloader 的分析给出了这个解决方案 我们观察django.utils.autoreload中有关重启的代码，经过筛选后得到： 1234567def restart_with_reloader(): new_environ = {**os.environ, DJANGO_AUTORELOAD_ENV: 'true'} args = get_child_arguments() while True: p = subprocess.run(args, env=new_environ, close_fds=False) if p.returncode != 3: return p.returncode 发现 Django 的运行逻辑并不是直接使用主进程，而是创建了一个子进程来执行程序代码，而由原本的进程来实现守护 我们需要重启子线程，就需要让子进程结束，我们观察到如果退出代码不为“3”则结束程序，为“3”则继续运行，重新执行循环来创建子进程，这就是我们需要的 进程自杀的代码为： 12import syssys.exit(3) # 3为退出代码 但是很遗憾，这个代码中 sys 库会先抛出一个错误，而这个错误会被 Django 捕获而无法退出，所以我们需要一个更加严厉的退出方法 12import osos._exit(3) 经过尝试，这个代码完美地符合了我们的要求，主程序遇到“3”作为退出代码后重新创建了一个新的进程，完结撒花","link":"/archives/31002.html"},{"title":"为Hexo博客添加友链系统","text":"这个教程将帮助你在几分钟内利用 Qexo 为博客接入友链系统 须知 友链功能要求 Qexo &gt;= 1.5.0 且用户浏览器必须支持文件上传 添加友链 在 Qexo 侧边栏找到 友链 点击进入 点击右上角 新增友链 输入站点名称、链接等数据 其中链接及图片链接必须包含http协议头 点击 确定 按键保存友链数据 接入博客 在根目录打开命令行 输入命令创建页面 1hexo new page links 打开 source/links/index.md 修改页面配置 在页面内引入 Qexo-Friends 将其中的 ${SITE} 改为你的 Qexo 链接 例如 https://admin.mysite.com 1234&lt;div id=&quot;qexo-friends&quot;&gt;&lt;/div&gt;&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/qexo-static@1.1.3/hexo/friends/friends.css&quot;/&gt;&lt;script src=&quot;https://cdn.jsdelivr.net/npm/qexo-static@1.1.3/hexo/friends/friends.js&quot;&gt;&lt;/script&gt;&lt;script&gt;loadQexoFriends(&quot;qexo-friends&quot;, &quot;${SITE}&quot;)&lt;/script&gt; 将博客推送至你的 Github 仓库 主题适配 我和其他开发者为部分主题提供了进一步的适配，如果你使用的是相同主题，可以尝试配置 Icarus 侧边栏: layout\\widget\\qexo_friends.jsx 1234567891011121314151617181920212223const { URL } = require('url');const { Component } = require('inferno');const { cacheComponent } = require('hexo-component-inferno/lib/util/cache');class QexoLinks extends Component { render() { const js = `loadSideBarFriends('qexo-sidebar-friends', 'https://Qexo域名');`; return ( &lt;div class=&quot;card widget&quot;&gt; &lt;div class=&quot;card-content&quot;&gt; &lt;div class=&quot;menu&quot;&gt; &lt;h3 class=&quot;menu-label&quot;&gt;友情链接&lt;/h3&gt; &lt;ul class=&quot;menu-list qexo-sidebar-friends&quot;&gt;&lt;/ul&gt; &lt;/div&gt; &lt;script dangerouslySetInnerHTML={{ __html: js }}&gt;&lt;/script&gt; &lt;a class=&quot;link-more button is-light is-small size-small&quot; href=&quot;/links/&quot;&gt;查看更多&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; ); }}module.exports = QexoLinks; 友链申请页面: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128&lt;article class=&quot;message is-info&quot;&gt; &lt;div class=&quot;message-header&quot;&gt; 申请友链 &lt;/div&gt; &lt;div class=&quot;message-body&quot;&gt; &lt;div class=&quot;form-ask-friend&quot;&gt; &lt;div class=&quot;field&quot;&gt; &lt;label class=&quot;label&quot;&gt;名称&lt;/label&gt; &lt;div class=&quot;control has-icons-left&quot;&gt; &lt;input class=&quot;input&quot; type=&quot;text&quot; placeholder=&quot;您的站点名&quot; id=&quot;friend-name&quot; required&gt; &lt;span class=&quot;icon is-small is-left&quot;&gt; &lt;i class=&quot;fas fa-signature&quot;&gt;&lt;/i&gt; &lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;field&quot;&gt; &lt;label class=&quot;label&quot;&gt;链接&lt;/label&gt; &lt;div class=&quot;control has-icons-left&quot;&gt; &lt;input class=&quot;input&quot; type=&quot;url&quot; placeholder=&quot;您网站首页的链接&quot; id=&quot;friend-link&quot; required&gt; &lt;span class=&quot;icon is-small is-left&quot;&gt; &lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt; &lt;/span&gt; &lt;/div&gt; &lt;p class=&quot;help &quot;&gt;请确保站点可访问！&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;field&quot;&gt; &lt;label class=&quot;label&quot;&gt;图标&lt;/label&gt; &lt;div class=&quot;control has-icons-left&quot;&gt; &lt;input class=&quot;input&quot; type=&quot;url&quot; placeholder=&quot;您的网站图标(尽量为正圆形)&quot; id=&quot;friend-icon&quot; required&gt; &lt;span class=&quot;icon is-small is-left&quot;&gt; &lt;i class=&quot;fas fa-image&quot;&gt;&lt;/i&gt; &lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;field&quot;&gt; &lt;label class=&quot;label&quot;&gt;描述&lt;/label&gt; &lt;div class=&quot;control has-icons-left&quot;&gt; &lt;input class=&quot;input&quot; type=&quot;text&quot; placeholder=&quot;请用一句话介绍您的站点&quot; id=&quot;friend-des&quot; required&gt; &lt;span class=&quot;icon is-small is-left&quot;&gt; &lt;i class=&quot;fas fa-info&quot;&gt;&lt;/i&gt; &lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;field&quot;&gt; &lt;div class=&quot;control&quot;&gt; &lt;label class=&quot;checkbox&quot;&gt; &lt;input type=&quot;checkbox&quot; id=&quot;friend-check&quot;/&gt; 我提交的不是无意义信息 &lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;field is-grouped&quot;&gt; &lt;div class=&quot;control&quot;&gt; &lt;button class=&quot;button is-info&quot; type=&quot;submit&quot; onclick=&quot;askFriend(event)&quot;&gt;申请友链&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/article&gt;&lt;script src=&quot;https://recaptcha.net/recaptcha/api.js?render=reCaptcha密钥&quot;&gt;&lt;/script&gt;&lt;script&gt;function TestUrl(url) { var Expression=/http(s)?:\\/\\/([\\w-]+\\.)+[\\w-]+(\\/[\\w- .\\/?%&amp;=]*)?/; var objExp=new RegExp(Expression); if(objExp.test(url) != true){ return false; } return true;}function askFriend (event) { let check = $(&quot;#friend-check&quot;).is(&quot;:checked&quot;); let name = $(&quot;#friend-name&quot;).val(); let url = $(&quot;#friend-link&quot;).val(); let image = $(&quot;#friend-icon&quot;).val(); let des = $(&quot;#friend-des&quot;).val(); if(!check){ alert(&quot;请勾选\\&quot;我提交的不是无意义信息\\&quot;&quot;); return; } if(!(name&amp;&amp;url&amp;&amp;image&amp;&amp;des)){ alert(&quot;信息填写不完整! &quot;); return; } if (!(TestUrl(url))){ alert(&quot;URL格式错误! 需要包含HTTP协议头! &quot;); return; } if (!(TestUrl(image))){ alert(&quot;图片URL格式错误! 需要包含HTTP协议头! &quot;); return; } event.target.classList.add('is-loading'); grecaptcha.ready(function() { grecaptcha.execute('reCaptcha密钥', {action: 'submit'}).then(function(token) { $.ajax({ type: 'get', cache: false, url: url, dataType: &quot;jsonp&quot;, async: false, processData: false, //timeout:10000, complete: function (data) { if(data.status==200){ $.ajax({ type: 'POST', dataType: &quot;json&quot;, data: { &quot;name&quot;: name, &quot;url&quot;: url, &quot;image&quot;: image, &quot;description&quot;: des, &quot;verify&quot;: token, }, url: 'https://QEXO域名/pub/ask_friend/', success: function (data) { alert(data.msg); } });} else{ alert(&quot;URL无法连通!&quot;); } event.target.classList.remove('is-loading'); } }); }); });}&lt;/script&gt; 其他主题可参考 Qexo/Qexo-Friends: 针对各Hexo-Theme的友链适配","link":"/archives/28219.html"},{"title":"使用梦牛网为网站接入Cloudflare并自选IP","text":"本文于2022-6-14重新编辑 经博主测试，该方案已失效，请使用SaaS或Page Funtion反代进行自选节点，若需要梦牛邀请码依然可以向我发送邮件 由于邀请码有限，需要邀请码的朋友可以abudulin@foxmail.com联系我 自选IP并不是官方认可的操作，存在封禁风险，用前三思 Cloudflare是一家美国的CDN提供商，非常良心的提供免费的CDN，但是由于一些不可抗拒因素，国内的访问速度奇慢，于是乎就有了自选IP的玩法，但是近期笨牛网停止服务，所以梦牛网似乎成为了更好的选择 使用梦牛网接入域名 注册梦牛网 打开梦牛网官网mnn.tw，点击登录 -&gt; 立即注册 输入信息和邀请码完成注册 添加Cloudflare账户 打开管理面板，在左侧导航栏选择Cloudflare管理-&gt;绑定账户进行账户绑定 添加域名 打开Cloudflare管理-&gt;添加域名-&gt;Cname/IP接入，输入域名信息后点击立即提交即可 设置解析 打开Cloudflare管理-&gt;域名列表，这里就能看到你刚刚添加的域名了，接着点击这个域名，进入管理面板 点击解析，添加你要解析的记录，在DNS管理商解析到Cloudflare给出的CNAME即可 节点推荐 自选IP并不是官方认可的操作，存在封禁风险，用前三思 注意：国外线路请务必解析到cloudflare给你的CNAME节点，防止SSL翻车 百度云加速合作节点 162.159.208.4-162.159.208.103 162.159.209.4-162.159.209.103 162.159.210.4-162.159.210.103 162.159.211.4-162.159.211.103 你可以参考我之前发表的博文Cloudflare自选节点 - 推荐&amp;现成答案 进行自选IP，也可以自行寻找IP 其他问题 我的自选节点后SSL失效了 国外线路请务必解析到cloudflare给你的CNAME节点，不然有几率翻车，重新解析后尝试关闭SSL后重新开启 Error 1016 Origin DNS error 回源配置有问题。访问者只能找到 Cloudflare，但是 Cloudflare 找不到IP所对应的网站。请确保回源IP配置正确。","link":"/archives/11593.html"},{"title":"Euserv免费服务器配置IPv4环境+体验","text":"EUserv 是一家德国主机商，提供专用服务器托管，虚拟专用服务器，云服务，网站托管和域注册服务，还提供了IPv6 Only的免费VPS服务 VPS配置 CPU：1 Core @ 1 GHz 内存：1 GB 硬盘：10 GB HDD 带宽：1 Gbit IP ：1 IPv6 配置IPv4环境 重装系统 这里建议重装为Debian10系统，方便进行下一步的操作 配置DNS64 在配置Warp之前建议先配置DNS64环境，否则进行远程文件获取时可能出现意外 1nano /etc/resolv.conf 删除所有nameserver开头的行，改为 12nameserver 2001:67c:2b0::4nameserver 2001:67c:2b0::6 接着你可能需要重启你的VPS更新配置 配置Cloudflare Warp 在之前的文章中已经讲过为IPv4 Only的腾讯云轻量配置IPv6支持这次仅仅是把WGCF的配置从IPv4改为IPv6即可，并没有什么难度 12345678910111213# 更新环境.安装依赖apt updateapt install curl sudo lsb-release -y# 安装wireguardecho &quot;deb http://deb.debian.org/debian $(lsb_release -sc)-backports main&quot; sudo tee /etc/apt/sources.list.d/backports.listsudo apt updatesudo apt install net-tools iproute2 openresolv dnsutils -ysudo apt install wireguard-tools --no-install-recommendssudo apt install wireguard# 安装内核curl -fsSL git.io/wireguard-go.sh sudo bash# 安装WGCFcurl -fsSL git.io/wgcf.sh sudo bash 接着就到了关键的WGCF配置环节 先注册一下Warp的账户 1./wgcf register 若出现这样的界面直接回车即可 然后输入./wgcf generate，检查目录下是否出现名为wgcf-profile.conf的文件，内容大概这样 1234567891011[Interface]PrivateKey = xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxAddress = 172.16.0.2/32Address = fd01:5ca1:ab1e:8a15:6634:bea7:4f74:47d9/128DNS = 1.1.1.1MTU = 1280[Peer]PublicKey = xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxAllowedIPs = 0.0.0.0/0AllowedIPs = ::/0Endpoint = engage.cloudflareclient.com:2408 输入nano wgcf-profile.conf 修改配置，删除第十行AllowedIPs = ::/0 ，第五行DNS改为DNS = 2606:4700:4700::1111 ，第十一行为Endpoint = [2606:4700:d0::a29f:c001]:2408 ，Ctrl+X保存 接着输入如下代码，运行WGCF并设置开机自启动 1234sudo cp wgcf-profile.conf /etc/wireguard/wgcf.confsudo systemctl start wg-quick@wgcfsudo systemctl enable wg-quick@wgcfecho 'precedence ::ffff:0:0/96 100' sudo tee -a /etc/gai.conf 测试连接 SSH输入ping baidu.com -4 ，若连接正常即为配置成功 体验 简单跑了下bench.sh和Lemonbench，大家可以参考一下，可以看出速度还是非常快的 LemonBench完整测试报告：https://paste.ubuntu.com/p/N3gtCFDDYg/ 参考 Euserv正确打开优化方式 陈YFの博客(￣▽￣)&quot; (cyfan.top) 【WGCF】连接CF WARP为服务器添加IPv4/IPv6网络 – Luminous’ Home (luotianyi.vc)","link":"/archives/1112.html"},{"title":"如何写一篇VPS测评","text":"很多博主都想写类似VPS测评的文章，可是苦于没有教程或是快速测试的脚本，这里博主做出对自己理解的总结 脚本 网络测试 一台好的VPS，首先需要优秀的网络 Superbench脚本 1wget -qO- git.io/superbench.sh bash Bench.sh脚本 1wget -qO- bench.sh bash 回程测试脚本 1wget -qO- git.io/besttrace bash SuperSpeed三网测速脚本 1bash &lt;(curl -Lso- https://git.io/superspeed) ZBench增强脚本 1wget -N --no-check-certificate https://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench-CN.sh &amp;&amp; bash ZBench-CN.sh BestTrace路由脚本 1wget https://cdn.ipip.net/17mon/besttrace4linux.zip &amp;&amp; unzip besttrace4linux.zip &amp;&amp; chmod +x ./besttrace 综合测试脚本 往往一台好的Linux服务器还需要良好的服务器性能基础，于是乎诞生了很多服务器性能测试脚本 LemonBench脚本 1wget -qO- http://ilemonra.in/LemonBenchIntl bash -s fast UnixBench脚本 1wget --no-check-certificate https://github.com/teddysun/across/raw/master/unixbench.sh &amp;&amp; sh unixbench.sh VpsTest合集脚本 1wget vpstest.cn/it &amp;&amp; sh it 写作 在认识了这么多测试脚本之后，终于到了至关重要的写作环节，常见的测评流程如下： 如果链接没有AFF会更佳受大众喜爱","link":"/archives/13783.html"},{"title":"【快讯】国外知名CDN Cloudflare疑拦截部分自选IP节点","text":"背景 有消息称，国外知名CDN Cloudflare今日疑似拦截自选IP，众所周知，由于一些不可抗因素，Cloudflare在中国大陆访问速度极慢，于是有了一种称为“自选IP”的使用方法，简单概括即为利用Cloudflare的漏洞强制指向负载较低，距大陆较近的IP进行访问的提速，这种行为已经触及到了Cloudflare的利益，于是Cloudflare很可能进行相关漏洞的修复 内容 经网友发现，使用“优选IP”的部分IP段已经被Cloudflare所拦截，拦截后页面上会提示1043Error的字样，届时网站无法访问 在国内知名论坛类似的话题一时间也是层出不穷，这也说明了这个问题并非少数，基本可以确认是Cloudflare官方所为 如何避免？ 目前看来只有172.64.228.*这个CDN网段段有拦截，不排除是Cloudflare方面小规模测试，以后可能会推广，所以建议各位切换回官方CNAME或DNS使用，防止被拦截影响网站访问及SEO","link":"/archives/12586.html"},{"title":"Cloudflare自定义IP节点","text":"经博主测试，该方案已失效，请使用SaaS或Page Funtion反代进行自选节点 Cloudflare是一家美国的CDN提供商，非常良心的提供免费的CDN，但是由于一些不可抗拒因素，国内的访问速度奇慢，所以我们需要用一些特殊的手段来自定义访问节点来提高速度 使用Cloudflare Partner接入 用官方的Cloudflare是没办法CNAME接入的，要升级到biz版本（每月200刀）才能提供，这对于小站长实在是太贵了。。而且没达到我们白嫖的目的，所以我们要用Cloudflare Partner来CNAME接入 注册/接入笨牛网 Cloudflare Partner的提供商有很多，这里就以笨牛网为例 打开笨牛网官网cdn.bnxb.com，点击登录/注册，输入你的cloudflare账户，点击域名管理 这时你会看到你已经官方接入的域名 点击域名进入管理界面，点击域名资料 - 变更接入 - 接入本站CNAME 解析设置 将你的域名NS重新设置回DNS管理商（如DNSPOD，华为云DNS） 接着在笨牛网管理界面菜单点击上方的域名解析，添加你要解析的记录，在DNS管理商解析到cloudflare的ip即可 节点推荐 如果你不想折腾节点，可以直接CNAME到cf.oplog.cn，使用博主选好的节点 注意：国外线路请务必解析到cloudflare给你的CNAME节点，防止SSL翻车 百度云加速合作节点： 162.159.208.4-162.159.208.103 162.159.209.4-162.159.209.103 162.159.210.4-162.159.210.103 162.159.211.4-162.159.211.103 电信推荐使用上面的百度云加速节点或者104.22.3.117 移动节点推荐使用走香港百度云加速节点198.41.214.162 联通可以走104.20.157.0或者上面的百度云加速节点 其他问题 我的自选节点后SSL失效了 国外线路请务必解析到cloudflare给你的CNAME节点，不然有几率翻车，重新解析后尝试关闭SSL后重新开启 Error 1016 Origin DNS error 回源配置有问题。访问者只能找到 Cloudflare，但是 Cloudflare 找不到IP所对应的网站。请确保回源IP配置正确。","link":"/archives/18409.html"},{"title":"继Google后知名CDN Cloudflare中国区域出现解析故障","text":"更新：于20201215北京时间22:15，博主测试已经正常 几十分钟前，在中国内地访问DNS托管于Cloudflare的网站开始出现解析失败，提示“此网站无法提供安全连接”。 包括 Cloudflare 官网在内的网站无法通过中国内地网络直接访问。大部分IP被解析到了位于中国内地的IP上，所有的解析均没有成功。 目前，还不清楚这是否为单一的技术故障。截止发稿时，部分地区的解析已经恢复正常，CF未就此发布状态异常警告。 ——转自VPS信号旗 影响范围 据悉，此次故障主要影响的是由Cloudflare官方接入或第三方DNS接入的域名，会被强制解析至国内节点导致无法访问 官方反应 对此，官方的反应是 (翻译：已识别-问题已确定，正在实施修复) 也有群友询问了Cloudflare相关客服人员，得到的答复如下 期待Cloudflare方面进一步解决…","link":"/archives/1622.html"},{"title":"Cloudflare自选节点 - 推荐&amp;现成答案","text":"Cloudflare自选节点一直是一个世纪难题，对于这个问题，大佬们纷纷给出了答案，例如扫段工具，API等等，这里做出总结 有什么问题 自己A记录填写的CloudFlare IP并不是永久可用，保不齐哪天你填写的CloudFlare IP被GFW给屏蔽了，那你的网站就歇菜了。 自己A记录填写的CloudFlare IP并不是能持续稳定，即使是CloufFlare，服务器也有被攻击的时候，这时你的网站打开速度就会很慢，有时可能会出现打不开的情况。 自己A记录填写的CloudFlare IP并不是对所有人访问速度都快，这一点建站的小伙伴要尤为注意，也许你ping这个Cloudflare IP延迟很低，但是你的站点并不是你一个人访问，你需要的是让国内外每个访问者都能高速访问你的网站。 普通站长很难去找到CloudFLare对不同运营商（移动、联通、电信）访问速度快的IP。 使用Github Action动态自选IP 对于这个问题，HostMonit大佬给出了答案，这里引用他的一段话 遇到问题那么就要解决掉，为了解决这些问题，站长不惜重金买了几台国内不同运营商的高带宽高流量VDS，并花了两天时间写了一套程序，在每台VDS上都部署一套程序，用来获取相应运营商连接目前已知的1786880个CloudFlare IP中速度最快的IP，并以接口形式提供出来。之后又花了半天时间写了一个脚本，脚本主要功能是调取接口将连接各运营商速度快的CloudFare IP自动解析到DNS域名服务商处。经过一个多月的使用测试，明显感觉到网站的访问速度和稳定性有所提升。 作者原文：https://hostmonit.com/cloudflare-select-ip-plus/ 好处：动态自选节点，可以最大程度优化速度 弊端：免费API速度较慢、部署相对麻烦等 一键脚本扫段 脚本下载：https://wwa.lanzous.com/idg1Kj87nsf 具体使用方法见 使用说明.txt 即可 好处：运行简单，轻松使用，速度可靠 弊端：1.静态IP需要经常扫段，否则难以保证速度; 2.难以凑齐三网设备 关于我 cf.oplog.cn是我的Cloudflare IP方案，已经使用Github Action动态自选IP，如果觉得麻烦也可以CNAME到我这里","link":"/archives/45814.html"},{"title":"知名静态网站托管Fast.io即将停止免费服务","text":"起因 Fast.io长期提供免费的静态托管服务，而且由于使用Cloudflare Enterprise访问速度很快，深受网友的喜爱，但是今日博主收到了一封来自Fast.io团队的邮件说明对方即将停止该服务 邮件内容 英文原文 中文（来自谷歌翻译） 关于迁移 关于邮件，Fast.io没有指出确切的原因，博主猜测可能是有部分用户滥用等，至于迁移，可以考虑换到免费的vercel.com或者Coding Pages、Github Pages其中Vercel有全球Anycast节点，Coding有新加坡及香港节点，较为高速，而Github的国内速度较慢，大家自己选择一下","link":"/archives/17169.html"},{"title":"全新无后端评论系统 —— Twikoo","text":"简介 Twikoo是一个全新的支持纯静态博客引擎（包括Hexo、Hugo）的无后端评论系统 快速上手 环境初始化 Twikoo 使用云开发作为评论后台，每个云开发用户均长期享受1个免费的标准型基础版1资源套餐。如果您已经拥有了一个免费版云开发环境，在环境配置符合要求的情况下，Twikoo 理论可以与其他项目共用一个环境。 1.注册云开发CloudBase 2.进入云开发控制台，新建环境，请按个人需要配置环境 提示 推荐选择计费方式包年包月，套餐版本基础班 1 如果提示“选择部署应用”，请选择“不创建环境” 3.进入环境-登录授权，启用“匿名登录” 4.进入环境-安全配置，将网站域名添加到“WEB安全域名” 5.复制环境Id备用 环境部署 注意 请确保您已经安装了 Node.js 请将命令、代码中“您的环境id”替换为您自己的环境id 请不要使用 Windows 自带的记事本编辑 envId.txt，否则会部署失败，后续会修复该问题 1.克隆本仓库 12git clone https://github.com/imaegoo/twikoo.gitcd twikoo 如果您没有安装 Git，也可以从 Release 页面下载最新的 Source code 2.安装依赖项 1npm install # 或 yarn install 3.设置环境id 1echo 您的环境id &gt; envId.txt 4.授权云开发环境 1npm run login # 或 yarn run login 5.自动部署 1npm run deploy # 或 yarn deploy 更新 Twikoo 版本时，请再次执行此命令更新现有的云函数 使用 通过 CDN 引入 123&lt;div id=&quot;twikoo&quot;&gt;&lt;/div&gt;&lt;script src=&quot;https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js&quot;&gt;&lt;/script&gt;&lt;script&gt;twikoo.init({ envId: '您的环境id' })&lt;/script&gt; 通过 NPM 引入 1npm install twikoo # 或 yarn add twikoo 1&lt;div id=&quot;twikoo&quot;&gt;&lt;/div&gt; 12import twikoo from 'twikoo' // 或 const twikoo = require('twikoo')twikoo.init({ envId: '您的环境id' }) 摘自_Twikoo中文文档_ 评论测试 twikoo.init({ envId: ‘blog-comment-6gd38we84e441790’, el: ‘#tcomment’ })","link":"/archives/65477.html"},{"title":"解决Wordpress在设置伪静态和HTTPS后出现重定向过多","text":"问题引入 今天在迁移博客至新主机时，由于是Nginx转Apache，需要重新配置伪静态，在配置完成伪静态和SSL后却发现文章页出现重定向过多（无限302）的问题，在网上找了很多资料最终发现是Wordpress的问题，这里做为记录 如何解决？ 解决方法有很多，大家可以参考https://www.chinaz.com/web/2012/0327/242582.shtml 这里就写我使用的，也是最方便的一种，不用修改Wordpress原生代码，在更新后依然可用 解决方法 方法很简单，下载Permalink Fix &amp; Disable Canonical Redirects Pack安装上就成功了，但是问题在于你没有办法直接在Wordpress应用商店里下载插件，因为这个插件实在是太老了，你必须下载插件包手动上传 Wordpress官网下载下载完之后将文件夹放置在./wp-content/plugins目录，在后台启用插件即可 完成截图 也是非常简单，希望大家能够Ctrl+D收藏一下本站，感谢","link":"/archives/59138.html"},{"title":"关于实现Hexo多端撰写博文的一些思路","text":"Hexo是一个轻量级的博客框架，但是你就会发现，写博文真是一个令人头痛的事情：不能在多个设备撰写博文，一旦换设备就会极其麻烦，这里就跟大家讲讲我对于这个问题的一些心得。 实现原理 在上一篇文章我们讲到可以通过Github Actions 自动部署 Hexo 脚本，这篇文章就是基于自动部署实现的，如果你不了解可以看一下那篇文章传送门 既然将博客源代码托管到了Github，就意味着可以使用工具访问这个仓库，进而撰写博文，很巧，我就找到了一个这样的工具：小书匠Markdown编辑器 实现过程 创建Token 首先要新建一个Github的Token用于连接小书匠和Github，这里就放一张之前的图吧： 连接小书匠 点击小书匠编辑器左上角的标志，点击绑定，在数据储存里绑定你之前存放源代码的仓库： 修改模板 退出绑定，点击第二个模板，将模板修改成你Hexo的文章模板 新建文章 修改完就可以退出来愉快的写文章了，点击新建，写完文章Ctrl+S保存，记得保存在你的文章目录下哦，Action检测到会自动部署 一些题外话 不知道百度站长平台是干什么吃的，我十几篇文章都提交上去了，索引量一直还是0，有没有人知道什么回事评论区解答一下","link":"/archives/8251.html"},{"title":"Hexo 自动部署","text":"对于静态博客来说，Hexo是一款很受欢迎的博客生成器。其拥有数百的主题和插件，方便我们部署和自定义博客内容。然而，很多生成器都有一个跟明显的缺点，当网站的文章越来越多时，生成所需要的时间也越来越久。如果电脑效能差的话，部署时间则会更加的久。 为了解决这个问题，采用自动化部署是一个绝佳的选择。现如今提供自动化部署的平台越来越多。像Travis CI，Github Actions。我们只需要把Hexo的目录推送到GitHub去，相关平台监测到对应的Repositories发佈变化，就会自动去执行编译，并把编译好的内容发布到博客Repositories去。 获取Coding Token 项目设置 --&gt; 开发者选项 --&gt; 项目令牌 权限要给全 获取Github Token Personal settings --&gt; Developer settings --&gt; Personal access tokens 权限给repo，public repo，token要存好，不然没了只能重新获取 创建Actions 建立一个私有仓库，上传Hexo源代码 在Hexo目录的仓库，点击Actions 然后点击Set up a workflow yourself 输入以下代码 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051name: 自动部署 Hexoon: push: branches: - masterjobs: build: runs-on: ubuntu-latest strategy: matrix: node-version: [10.x] steps: - name: 开始运行 uses: actions/checkout@v1 - name: 设置 Node.js ${{ matrix.node-version }} uses: actions/setup-node@v1 with: node-version: ${{ matrix.node-version }} - name: 安装 Hexo CI run: export TZ='Asia/Shanghai' npm install hexo-cli -g - name: 缓存 uses: actions/cache@v1 id: cache-dependencies with: path: node_modules key: ${{runner.OS}}-${{hashFiles('**/package-lock.json')}} - name: 安装插件 if: steps.cache-dependencies.outputs.cache-hit != 'true' run: npm install - name: 部署博客 run: hexo clean &amp;&amp; hexo g &amp;&amp; hexo douban &amp;&amp; gulp cd ./public git init git config user.name &quot;${{secrets.GIT_NAME}}&quot; git config user.email &quot;${{secrets.GIT_EMAIL}}&quot; git add . git commit -m &quot;Update&quot; git push --force --quiet &quot;https://${{secrets.GH_TOKEN}}@${{secrets.GH_REF}}&quot; master:master git push --force --quiet &quot;https://${{secrets.CD_TOKEN}}@${{secrets.CD_REF}}&quot; master:master 点击Start commit 设置Secrets 为了保护重要的资料，需要把这些资料设置到Secrets里，然后通过$引用。 在Settings --&gt; Secrets 这里需要设置6个Secrets 名称 内容 CD_REF 要提交到的Coding仓库地址 CD_TOKEN Coding Token 格式为 用户名:密匙 GH_REF 要提交到的 Github 仓库地址 GH_TOKEN Github Token GIT_EMAIL Git用户邮箱 GIT_NAME Git用户名 运行 随便修改一个东西，比如提交一篇文章，就可以看到变化了 鸣谢 1.通过travis-ci或者GitHub Actions自动化部署GitHub Pages和Coding Pages 2.Github Actions 自动部署 Hexo 脚本","link":"/archives/24998.html"}],"tags":[{"name":"cdn","slug":"cdn","link":"/tags/cdn/"},{"name":"cloudflare","slug":"cloudflare","link":"/tags/cloudflare/"},{"name":"免费cdn","slug":"免费cdn","link":"/tags/%E5%85%8D%E8%B4%B9cdn/"},{"name":"免费","slug":"免费","link":"/tags/%E5%85%8D%E8%B4%B9/"},{"name":"Hexo","slug":"Hexo","link":"/tags/Hexo/"},{"name":"Icaus","slug":"Icaus","link":"/tags/Icaus/"},{"name":"Qexo","slug":"Qexo","link":"/tags/Qexo/"},{"name":"自定义","slug":"自定义","link":"/tags/%E8%87%AA%E5%AE%9A%E4%B9%89/"},{"name":"博客","slug":"博客","link":"/tags/%E5%8D%9A%E5%AE%A2/"},{"name":"代码","slug":"代码","link":"/tags/%E4%BB%A3%E7%A0%81/"},{"name":"分享","slug":"分享","link":"/tags/%E5%88%86%E4%BA%AB/"},{"name":"hexo","slug":"hexo","link":"/tags/hexo/"},{"name":"qexo","slug":"qexo","link":"/tags/qexo/"},{"name":"友情链接","slug":"友情链接","link":"/tags/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/"},{"name":"django","slug":"django","link":"/tags/django/"},{"name":"源码分析","slug":"源码分析","link":"/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"}],"categories":[{"name":"其他","slug":"其他","link":"/categories/%E5%85%B6%E4%BB%96/"},{"name":"技术教程","slug":"技术教程","link":"/categories/%E6%8A%80%E6%9C%AF%E6%95%99%E7%A8%8B/"},{"name":"建站教程","slug":"建站教程","link":"/categories/%E5%BB%BA%E7%AB%99%E6%95%99%E7%A8%8B/"},{"name":"实用技巧","slug":"实用技巧","link":"/categories/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"name":"VPS评测","slug":"VPS评测","link":"/categories/VPS%E8%AF%84%E6%B5%8B/"},{"name":"新闻资讯","slug":"新闻资讯","link":"/categories/%E6%96%B0%E9%97%BB%E8%B5%84%E8%AE%AF/"},{"name":"编程代码","slug":"编程代码","link":"/categories/%E7%BC%96%E7%A8%8B%E4%BB%A3%E7%A0%81/"},{"name":"新闻消息","slug":"新闻消息","link":"/categories/%E6%96%B0%E9%97%BB%E6%B6%88%E6%81%AF/"},{"name":"主机评测","slug":"主机评测","link":"/categories/%E4%B8%BB%E6%9C%BA%E8%AF%84%E6%B5%8B/"}],"pages":[{"title":"","text":"{\"redirects\":[{\"source\":\"$wwwhost\",\"destination\":\"$host\",\"statusCode\":301}],\"caches\":[{\"source\":\"/images/*\",\"cacheTtl\":86400},{\"source\":\"/css/*\",\"cacheTtl\":86400},{\"source\":\"/js/*\",\"cacheTtl\":86400},{\"source\":\"/img/*\",\"cacheTtl\":86400},{\"source\":\"/owo/*\",\"cacheTtl\":86400},{\"source\":\"/owo.json\",\"cacheTtl\":86400}],\"headers\":[{\"source\":\"/images/*\",\"headers\":[{\"key\":\"Cache-Control\",\"value\":\"max-age=86400\"}]},{\"source\":\"/css/*\",\"headers\":[{\"key\":\"Cache-Control\",\"value\":\"max-age=86400\"}]},{\"source\":\"/js/*\",\"headers\":[{\"key\":\"Cache-Control\",\"value\":\"max-age=86400\"}]},{\"source\":\"/img/*\",\"headers\":[{\"key\":\"Cache-Control\",\"value\":\"max-age=86400\"}]},{\"source\":\"/owo/*\",\"headers\":[{\"key\":\"Cache-Control\",\"value\":\"max-age=86400\"}]},{\"source\":\"/owo.json\",\"headers\":[{\"key\":\"Cache-Control\",\"value\":\"max-age=86400\"}]}]}","link":"/edgeone.json"},{"title":"关于","text":"等哪一天我想好怎么写关于再写吧&gt;_&gt;","link":"/about/index.html"},{"title":"时间轴","text":"","link":"/archives/index.html"},{"title":"分类","text":"","link":"/categories/index.html"},{"title":"404","text":"该页面不存在 - 啊不都 - 大道至简，衍化至繁 body, h1, p, pre { margin: 0; } body { font-family: -apple-system, BlinkMacSystemFont, \"Helvetica Neue\", \"PingFang SC\", \"Microsoft YaHei\", \"Source Han Sans SC\", \"Noto Sans CJK SC\", \"WenQuanYi Micro Hei\", sans-serif; } a { text-decoration: none; } .Button { background: none; border: none; cursor: pointer; display: inline-block; font-size: 14px; padding: 0; text-align: center; } .Button:focus { outline: none; transition: box-shadow 0.3s; } /* 暂时没有用 focus visiable */ .Button:focus { box-shadow: 0 0 0 2px #ffffff, 0 0 0 4px rgba(0, 132, 255, 0.3); } html[data-theme=\"dark\"] .Button:focus { box-shadow: 0 0 0 2px #1a1a1a, 0 0 0 4px rgba(58, 118, 208, 0.6); } .Button--primary { border: 1px solid; border-radius: 3px; line-height: 32px; padding: 0 16px; } .Button--primary.Button--blue { background-color: #0084ff; border-color: #0084ff; color: #fff; } html[data-theme=\"dark\"] .Button--primary.Button--blue { background-color: #3a76d0; border-color: #3a76d0; color: #fff; } .Button--primary.Button--blue:hover { background-color: #0077e6; border-color: #0077e6; } html[data-theme=\"dark\"] .Button--primary.Button--blue:hover { background-color: #2e69c2; border-color: #2e69c2; } .Button--plain.Button--blue { color: #0084ff; } html[data-theme=\"dark\"] .Button--plain.Button--blue { color: #3a76d0; } .Button--plain.Button--blue:hover { color: #0077e6; } html[data-theme=\"dark\"] .Button--plain.Button--blue:hover { color: #2e69c2; } body { /* cc(GBK99A) */ background: #fff; } html[data-theme=\"dark\"] body { background: #1a1a1a; } .ErrorPage-container { display: flex; justify-content: center; margin-top: 180px; } @media (max-width: 690px) { .ErrorPage-container { align-items: center; flex-direction: column-reverse; margin-top: 60px; } } .ErrorPage-title, .ErrorPage-subtitle { /* cc(GBK04A) */ color: #646464; line-height: 1.4; } html[data-theme=\"dark\"] .ErrorPage-title, html[data-theme=\"dark\"] .ErrorPage-subtitle { color: #999; } .ErrorPage-title { font-size: 40px; /* @mixin bold; */ font-synthesis: style; font-weight: 600; } html[data-ios] .ErrorPage-title { font-weight: 500; } html[data-android] .ErrorPage-title { font-weight: 700; } @media (max-width: 690px) { .ErrorPage-title { font-size: 30px; } } .ErrorPage-subtitle { font-size: 18px; margin-top: 10px; } .ErrorPage-text { align-items: flex-start; display: flex; flex-direction: column; justify-content: center; min-width: 384px; } @media (max-width: 690px) { .ErrorPage-text { align-items: center; min-width: auto; } } .ErrorPage-primaryButton { margin-top: 20px; } .ErrorPage-otherButtonContainer { align-items: center; /* cc(GBL01A) */ color: #0084ff; display: flex; font-size: 14px; margin-top: 20px; /* @mixin bold; */ font-synthesis: style; font-weight: 600; } html[data-theme=\"dark\"] .ErrorPage-otherButtonContainer { color: #3a76d0; } html[data-ios] .ErrorPage-otherButtonContainer { font-weight: 500; } html[data-android] .ErrorPage-otherButtonContainer { font-weight: 700; } .ErrorPage-otherButton { align-items: center; display: flex; margin-left: 0.5em; /* @mixin bold; */ font-synthesis: style; font-weight: 600; } html[data-ios] .ErrorPage-otherButton { font-weight: 500; } html[data-android] .ErrorPage-otherButton { font-weight: 700; } .ErrorPage-errorImageContainer { align-items: center; display: flex; height: 250px; justify-content: center; margin-left: 20px; width: 250px; } @media (max-width: 690px) { .ErrorPage-errorImageContainer { margin-left: 0; } } 404 你似乎来到了没有知识存在的荒原 去往首页 或者 返回上页","link":"/404.html"},{"title":"友情链接","text":"loadQexoFriends(\"qexo-friends\", \"https://my.oplog.cn\") 申请友链 名称 链接 请确保站点可访问! 图标 描述 我提交的不是无意义信息 申请友链 function TestUrl(url) { var Expression=/http(s)?:\\/\\/([\\w-]+\\.)+[\\w-]+(\\/[\\w- .\\/?%&=]*)?/; var objExp=new RegExp(Expression); if(objExp.test(url) != true){ return false; } return true; } function askFriend (event) { let check = $(\"#friend-check\").is(\":checked\"); let name = $(\"#friend-name\").val(); let url = $(\"#friend-link\").val(); let image = $(\"#friend-icon\").val(); let des = $(\"#friend-des\").val(); if(!check){ alert(\"请勾选\\\"我提交的不是无意义信息\\\"\"); return; } if(!(name&&url&&image&&des)){ alert(\"信息填写不完整! \"); return; } if (!(TestUrl(url))){ alert(\"URL格式错误! 需要包含HTTP协议头! \"); return; } if (!(TestUrl(image))){ alert(\"图片URL格式错误! 需要包含HTTP协议头! \"); return; } event.target.classList.add('is-loading'); grecaptcha.ready(function() { grecaptcha.execute('6Ldv_dYUAAAAAL7DfHvmxgQ4Slof5doFqbWVGhSN', {action: 'submit'}).then(function(token) { $.ajax({ type: 'get', cache: false, url: url, dataType: \"jsonp\", async: false, processData: false, //timeout:10000, complete: function (data) { if(data.status){ $.ajax({ type: 'POST', dataType: \"json\", data: { \"name\": name, \"url\": url, \"image\": image, \"description\": des, \"verify\": token, }, url: 'https://my.oplog.cn/pub/ask_friend/', success: function (data) { alert(data.msg); } });} else{ alert(\"URL无法连通!\"); } event.target.classList.remove('is-loading'); } }); }); }); }","link":"/links/index.html"},{"title":"留言板","text":"有什么想说的 有什么想问的 有什么想BB的 就在这里说出来吧","link":"/messages/index.html"},{"title":"标签","text":"","link":"/tags/index.html"},{"title":"说说","text":"setTimeout(function(){showQexoTalks(\"qexot\", \"https://my.oplog.cn\", 5)}, 1000)","link":"/talks/index.html"}]}